[taskcluster 2017-02-04T11:15:59.341Z] Not adding user to groups [] since we are running as current user.
[taskcluster 2017-02-04T11:16:54.488Z] Worker Type (gecko-t-win7-32) settings:
[taskcluster 2017-02-04T11:16:54.488Z]   {
[taskcluster 2017-02-04T11:16:54.488Z]     "aws": {
[taskcluster 2017-02-04T11:16:54.488Z]       "ami-id": "ami-ca9e64dc",
[taskcluster 2017-02-04T11:16:54.488Z]       "availability-zone": "us-east-1c",
[taskcluster 2017-02-04T11:16:54.488Z]       "instance-id": "i-02a561117a6762b18",
[taskcluster 2017-02-04T11:16:54.488Z]       "instance-type": "c4.2xlarge",
[taskcluster 2017-02-04T11:16:54.488Z]       "local-ipv4": "172.31.36.114",
[taskcluster 2017-02-04T11:16:54.488Z]       "public-hostname": "ec2-54-166-59-175.compute-1.amazonaws.com",
[taskcluster 2017-02-04T11:16:54.489Z]       "public-ipv4": "54.166.59.175"
[taskcluster 2017-02-04T11:16:54.489Z]     },
[taskcluster 2017-02-04T11:16:54.489Z]     "generic-worker": {
[taskcluster 2017-02-04T11:16:54.489Z]       "go-arch": "386",
[taskcluster 2017-02-04T11:16:54.489Z]       "go-os": "windows",
[taskcluster 2017-02-04T11:16:54.489Z]       "go-version": "go1.7.3",
[taskcluster 2017-02-04T11:16:54.489Z]       "release": "https://github.com/taskcluster/generic-worker/releases/tag/v7.2.6",
[taskcluster 2017-02-04T11:16:54.489Z]       "version": "7.2.6"
[taskcluster 2017-02-04T11:16:54.489Z]     },
[taskcluster 2017-02-04T11:16:54.489Z]     "machine-setup": {
[taskcluster 2017-02-04T11:16:54.489Z]       "ami-created": "2017-02-03 19:44:01.096Z",
[taskcluster 2017-02-04T11:16:54.489Z]       "manifest": "https://github.com/mozilla-releng/OpenCloudConfig/blob/0ebfffd23820334a4341494022c3c4055fb20880/userdata/Manifest/gecko-t-win7-32.json"
[taskcluster 2017-02-04T11:16:54.489Z]     }
[taskcluster 2017-02-04T11:16:54.489Z]   }
[taskcluster 2017-02-04T11:16:54.489Z] === Task Starting ===
[taskcluster 2017-02-04T11:16:54.489Z] Executing command 0: mkdir "public\build"

Z:\>mkdir "public\build" 
[taskcluster 2017-02-04T11:16:54.525Z]   Exit Code: 0
[taskcluster 2017-02-04T11:16:54.525Z]   User Time: 0s
[taskcluster 2017-02-04T11:16:54.525Z] Kernel Time: 15.6001ms
[taskcluster 2017-02-04T11:16:54.525Z]   Wall Time: 26ms
[taskcluster 2017-02-04T11:16:54.525Z] Peak Memory: 2236416
[taskcluster 2017-02-04T11:16:54.525Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:16:54.525Z] Executing command 1: set GOPATH=%CD%\gopath

Z:\>set GOPATH=Z:\\gopath 
[taskcluster 2017-02-04T11:16:54.583Z]   Exit Code: 0
[taskcluster 2017-02-04T11:16:54.583Z]   User Time: 0s
[taskcluster 2017-02-04T11:16:54.583Z] Kernel Time: 0s
[taskcluster 2017-02-04T11:16:54.583Z]   Wall Time: 37ms
[taskcluster 2017-02-04T11:16:54.583Z] Peak Memory: 2256896
[taskcluster 2017-02-04T11:16:54.583Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:16:54.583Z] Executing command 2: set GOROOT=%CD%\go

Z:\>set GOROOT=Z:\\go 
[taskcluster 2017-02-04T11:16:54.629Z]   Exit Code: 0
[taskcluster 2017-02-04T11:16:54.629Z]   User Time: 0s
[taskcluster 2017-02-04T11:16:54.629Z] Kernel Time: 0s
[taskcluster 2017-02-04T11:16:54.629Z]   Wall Time: 37ms
[taskcluster 2017-02-04T11:16:54.629Z] Peak Memory: 2256896
[taskcluster 2017-02-04T11:16:54.629Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:16:54.629Z] Executing command 3: set PATH=%CD%\git\bin;%GOPATH%\bin;%GOROOT%\bin;%PATH%

Z:\>set PATH=Z:\\git\bin;Z:\\gopath\bin;Z:\\go\bin;C:\Program Files\Mercurial;C:\mozilla-build\7zip;C:\mozilla-build\info-zip;C:\mozilla-build\kdiff3;C:\mozilla-build\moztools-x64\bin;C:\mozilla-build\mozmake;C:\mozilla-build\msys\bin;C:\mozilla-build\msys\local\bin;C:\mozilla-build\nsis-3.0b3;C:\mozilla-build\nsis-2.46u;C:\mozilla-build\python;C:\mozilla-build\python\Scripts;C:\mozilla-build\upx391w;C:\mozilla-build\wget;C:\mozilla-build\yasm;C:\windows\system32;C:\windows;C:\windows\System32\Wbem;C:\windows\System32\WindowsPowerShell\v1.0\;C:\mozilla-build\python27;C:\mozilla-build\python27\Scripts;C:\mozilla-build\vim\vim72;C:\CoreUtils\bin;C:\mozilla-build\buildbotve\scripts;c:\Program Files\Microsoft Windows Performance Toolkit\;C:\Users\cltbld\AppData\Local\Programs\Common\Microsoft\Visual C++ for Python\9.0;C:\ProgramData\chocolatey\bin;C:\Program Files\Puppet Labs\Puppet\bin;C:\mozilla-build\hg 
[taskcluster 2017-02-04T11:16:54.676Z]   Exit Code: 0
[taskcluster 2017-02-04T11:16:54.676Z]   User Time: 0s
[taskcluster 2017-02-04T11:16:54.676Z] Kernel Time: 0s
[taskcluster 2017-02-04T11:16:54.676Z]   Wall Time: 38ms
[taskcluster 2017-02-04T11:16:54.676Z] Peak Memory: 2256896
[taskcluster 2017-02-04T11:16:54.676Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:16:54.676Z] Executing command 4: git config --global core.autocrlf false

Z:\>git config --global core.autocrlf false 
[taskcluster 2017-02-04T11:16:54.749Z]   Exit Code: 0
[taskcluster 2017-02-04T11:16:54.749Z]   User Time: 15.6001ms
[taskcluster 2017-02-04T11:16:54.749Z] Kernel Time: 15.6001ms
[taskcluster 2017-02-04T11:16:54.749Z]   Wall Time: 64ms
[taskcluster 2017-02-04T11:16:54.749Z] Peak Memory: 2863104
[taskcluster 2017-02-04T11:16:54.749Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:16:54.750Z] Executing command 5: go get -d "github.com/taskcluster/generic-worker"

Z:\>go get -d "github.com/taskcluster/generic-worker" 
[taskcluster 2017-02-04T11:17:45.229Z]   Exit Code: 0
[taskcluster 2017-02-04T11:17:45.229Z]   User Time: 0s
[taskcluster 2017-02-04T11:17:45.229Z] Kernel Time: 15.6001ms
[taskcluster 2017-02-04T11:17:45.229Z]   Wall Time: 50.458s
[taskcluster 2017-02-04T11:17:45.229Z] Peak Memory: 2584576
[taskcluster 2017-02-04T11:17:45.229Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:17:45.229Z] Executing command 6: cd "gopath\src\github.com\taskcluster\generic-worker"

Z:\>cd "gopath\src\github.com\taskcluster\generic-worker" 
[taskcluster 2017-02-04T11:17:45.276Z]   Exit Code: 0
[taskcluster 2017-02-04T11:17:45.276Z]   User Time: 0s
[taskcluster 2017-02-04T11:17:45.276Z] Kernel Time: 15.6001ms
[taskcluster 2017-02-04T11:17:45.276Z]   Wall Time: 37ms
[taskcluster 2017-02-04T11:17:45.276Z] Peak Memory: 2256896
[taskcluster 2017-02-04T11:17:45.276Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:17:45.276Z] Executing command 7: git remote add user https://github.com/taskcluster/generic-worker.git

Z:\gopath\src\github.com\taskcluster\generic-worker>git remote add user https://github.com/taskcluster/generic-worker.git 
[taskcluster 2017-02-04T11:17:45.352Z]   Exit Code: 0
[taskcluster 2017-02-04T11:17:45.352Z]   User Time: 0s
[taskcluster 2017-02-04T11:17:45.352Z] Kernel Time: 0s
[taskcluster 2017-02-04T11:17:45.352Z]   Wall Time: 65ms
[taskcluster 2017-02-04T11:17:45.352Z] Peak Memory: 2297856
[taskcluster 2017-02-04T11:17:45.352Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:17:45.353Z] Executing command 8: git fetch --tags user

Z:\gopath\src\github.com\taskcluster\generic-worker>git fetch --tags user 
From https://github.com/taskcluster/generic-worker
 * [new branch]      bug1261188            -> user/bug1261188
 * [new branch]      experiment            -> user/experiment
 * [new branch]      fix-run-current-user  -> user/fix-run-current-user
 * [new branch]      gh-pages              -> user/gh-pages
 * [new branch]      master                -> user/master
 * [new branch]      new-taskstatusmanager -> user/new-taskstatusmanager
 * [new branch]      powershell            -> user/powershell
 * [new branch]      tc-github             -> user/tc-github
[taskcluster 2017-02-04T11:17:45.757Z]   Exit Code: 0
[taskcluster 2017-02-04T11:17:45.757Z]   User Time: 0s
[taskcluster 2017-02-04T11:17:45.758Z] Kernel Time: 31.2002ms
[taskcluster 2017-02-04T11:17:45.758Z]   Wall Time: 395ms
[taskcluster 2017-02-04T11:17:45.758Z] Peak Memory: 2301952
[taskcluster 2017-02-04T11:17:45.758Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:17:45.758Z] Executing command 9: git checkout 5c81999bf687f133c3310fcd7053d0bb61cee2cd

Z:\gopath\src\github.com\taskcluster\generic-worker>git checkout 5c81999bf687f133c3310fcd7053d0bb61cee2cd 
Note: checking out '5c81999bf687f133c3310fcd7053d0bb61cee2cd'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b <new-branch-name>

HEAD is now at 5c81999... Switch back to original desktop before closing newly created ones
[taskcluster 2017-02-04T11:17:45.861Z]   Exit Code: 0
[taskcluster 2017-02-04T11:17:45.861Z]   User Time: 0s
[taskcluster 2017-02-04T11:17:45.861Z] Kernel Time: 31.2002ms
[taskcluster 2017-02-04T11:17:45.861Z]   Wall Time: 94ms
[taskcluster 2017-02-04T11:17:45.861Z] Peak Memory: 2297856
[taskcluster 2017-02-04T11:17:45.861Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:17:45.861Z] Executing command 10: go get github.com/taskcluster/livelog github.com/gordonklaus/ineffassign

Z:\gopath\src\github.com\taskcluster\generic-worker>go get github.com/taskcluster/livelog github.com/gordonklaus/ineffassign 
[taskcluster 2017-02-04T11:18:02.225Z]   Exit Code: 0
[taskcluster 2017-02-04T11:18:02.225Z]   User Time: 0s
[taskcluster 2017-02-04T11:18:02.225Z] Kernel Time: 31.2002ms
[taskcluster 2017-02-04T11:18:02.225Z]   Wall Time: 16.354s
[taskcluster 2017-02-04T11:18:02.225Z] Peak Memory: 2494464
[taskcluster 2017-02-04T11:18:02.226Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:18:02.226Z] Executing command 11: cd gw-codegen

Z:\gopath\src\github.com\taskcluster\generic-worker>cd gw-codegen 
[taskcluster 2017-02-04T11:18:02.274Z]   Exit Code: 0
[taskcluster 2017-02-04T11:18:02.274Z]   User Time: 0s
[taskcluster 2017-02-04T11:18:02.275Z] Kernel Time: 15.6001ms
[taskcluster 2017-02-04T11:18:02.275Z]   Wall Time: 37ms
[taskcluster 2017-02-04T11:18:02.275Z] Peak Memory: 2256896
[taskcluster 2017-02-04T11:18:02.275Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:18:02.275Z] Executing command 12: go get -v

Z:\gopath\src\github.com\taskcluster\generic-worker\gw-codegen>go get -v 
github.com/ghodss/yaml (download)
Fetching https://gopkg.in/yaml.v2?go-get=1
Parsing meta tags from https://gopkg.in/yaml.v2?go-get=1 (status code 200)
get "gopkg.in/yaml.v2": found meta tag main.metaImport{Prefix:"gopkg.in/yaml.v2", VCS:"git", RepoRoot:"https://gopkg.in/yaml.v2"} at https://gopkg.in/yaml.v2?go-get=1
gopkg.in/yaml.v2 (download)
github.com/kr/text (download)
Fetching https://golang.org/x/tools/imports?go-get=1
Parsing meta tags from https://golang.org/x/tools/imports?go-get=1 (status code 200)
get "golang.org/x/tools/imports": found meta tag main.metaImport{Prefix:"golang.org/x/tools", VCS:"git", RepoRoot:"https://go.googlesource.com/tools"} at https://golang.org/x/tools/imports?go-get=1
get "golang.org/x/tools/imports": verifying non-authoritative meta tag
Fetching https://golang.org/x/tools?go-get=1
Parsing meta tags from https://golang.org/x/tools?go-get=1 (status code 200)
golang.org/x/tools (download)
github.com/fatih/camelcase
github.com/kr/text
gopkg.in/yaml.v2
github.com/taskcluster/taskcluster-base-go/jsontest
golang.org/x/tools/go/ast/astutil
github.com/taskcluster/jsonschema2go/text
golang.org/x/tools/imports
github.com/ghodss/yaml
github.com/taskcluster/jsonschema2go
github.com/taskcluster/generic-worker/gw-codegen
[taskcluster 2017-02-04T11:18:13.381Z]   Exit Code: 0
[taskcluster 2017-02-04T11:18:13.381Z]   User Time: 15.6001ms
[taskcluster 2017-02-04T11:18:13.381Z] Kernel Time: 15.6001ms
[taskcluster 2017-02-04T11:18:13.381Z]   Wall Time: 11.096s
[taskcluster 2017-02-04T11:18:13.381Z] Peak Memory: 2494464
[taskcluster 2017-02-04T11:18:13.381Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:18:13.381Z] Executing command 13: cd ..

Z:\gopath\src\github.com\taskcluster\generic-worker\gw-codegen>cd .. 
[taskcluster 2017-02-04T11:18:13.428Z]   Exit Code: 0
[taskcluster 2017-02-04T11:18:13.428Z]   User Time: 0s
[taskcluster 2017-02-04T11:18:13.428Z] Kernel Time: 0s
[taskcluster 2017-02-04T11:18:13.428Z]   Wall Time: 38ms
[taskcluster 2017-02-04T11:18:13.428Z] Peak Memory: 2256896
[taskcluster 2017-02-04T11:18:13.428Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:18:13.428Z] Executing command 14: go generate

Z:\gopath\src\github.com\taskcluster\generic-worker>go generate 
[taskcluster 2017-02-04T11:18:14.007Z]   Exit Code: 0
[taskcluster 2017-02-04T11:18:14.007Z]   User Time: 0s
[taskcluster 2017-02-04T11:18:14.007Z] Kernel Time: 15.6001ms
[taskcluster 2017-02-04T11:18:14.007Z]   Wall Time: 569ms
[taskcluster 2017-02-04T11:18:14.007Z] Peak Memory: 2490368
[taskcluster 2017-02-04T11:18:14.007Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:18:14.007Z] Executing command 15: go get -v -t ./...

Z:\gopath\src\github.com\taskcluster\generic-worker>go get -v -t ./... 
github.com/aws/aws-sdk-go (download)
github.com/dsnet/compress/bzip2/internal/sais
github.com/dchest/uniuri
github.com/ulikunitz/xz/internal/xlog
github.com/dsnet/compress
github.com/ulikunitz/xz/internal/hash
github.com/docopt/docopt-go
github.com/nwaples/rardecode
github.com/dsnet/compress/internal
github.com/peterbourgon/mergemap
github.com/pborman/uuid
github.com/dsnet/compress/internal/prefix
github.com/taskcluster/generic-worker/runtime
github.com/taskcluster/runlib/vendor/github.com/Sirupsen/logrus
github.com/ulikunitz/xz/lzma
github.com/taskcluster/runlib/vendor/github.com/golang/protobuf/proto
github.com/cenkalti/backoff
github.com/taskcluster/ntr
github.com/dsnet/compress/bzip2
github.com/taskcluster/httpbackoff
github.com/taskcluster/slugid-go/slugid
github.com/taskcluster/generic-worker/livelog
github.com/taskcluster/stateless-dns-go/hostname
github.com/tent/hawk-go
github.com/xeipuuv/gojsonpointer
golang.org/x/crypto/openpgp/errors
golang.org/x/crypto/cast5
golang.org/x/crypto/openpgp/elgamal
golang.org/x/crypto/openpgp/armor
github.com/xeipuuv/gojsonreference
golang.org/x/crypto/openpgp/s2k
github.com/taskcluster/taskcluster-client-go
github.com/xeipuuv/gojsonschema
golang.org/x/sys/windows
golang.org/x/text/encoding/internal/identifier
golang.org/x/text/transform
golang.org/x/crypto/openpgp/packet
github.com/ulikunitz/xz
golang.org/x/text/internal/utf8internal
github.com/aws/aws-sdk-go/aws/awserr
golang.org/x/text/encoding
github.com/taskcluster/taskcluster-client-go/auth
github.com/taskcluster/taskcluster-client-go/awsprovisioner
github.com/taskcluster/taskcluster-client-go/purgecache
github.com/taskcluster/taskcluster-base-go/scopes
github.com/taskcluster/taskcluster-client-go/queue
github.com/mholt/archiver
github.com/taskcluster/runlib/contester_proto
golang.org/x/text/encoding/internal
golang.org/x/text/runes
github.com/aws/aws-sdk-go/vendor/github.com/go-ini/ini
golang.org/x/sys/windows/registry
github.com/aws/aws-sdk-go/aws/endpoints
golang.org/x/text/encoding/unicode
github.com/aws/aws-sdk-go/aws/client/metadata
golang.org/x/crypto/openpgp
golang.org/x/crypto/openpgp/clearsign
github.com/aws/aws-sdk-go/vendor/github.com/jmespath/go-jmespath
github.com/taskcluster/taskcluster-client-go/secrets
github.com/aws/aws-sdk-go/aws/credentials
github.com/taskcluster/generic-worker/worker_types/all-worker-types
github.com/taskcluster/generic-worker/update-worker-type
github.com/taskcluster/generic-worker/yamltojson
github.com/aws/aws-sdk-go/aws
github.com/aws/aws-sdk-go/aws/awsutil
github.com/taskcluster/runlib/tools
github.com/aws/aws-sdk-go/aws/request
github.com/taskcluster/runlib/win32
github.com/aws/aws-sdk-go/aws/client
github.com/aws/aws-sdk-go/aws/corehandlers
github.com/aws/aws-sdk-go/private/protocol/rest
github.com/aws/aws-sdk-go/private/protocol
github.com/aws/aws-sdk-go/private/waiter
github.com/taskcluster/runlib/platform
github.com/taskcluster/runlib/subprocess
github.com/aws/aws-sdk-go/private/protocol/query/queryutil
github.com/aws/aws-sdk-go/private/protocol/xml/xmlutil
github.com/aws/aws-sdk-go/aws/ec2metadata
github.com/aws/aws-sdk-go/aws/credentials/endpointcreds
github.com/aws/aws-sdk-go/aws/signer/v4
github.com/aws/aws-sdk-go/private/protocol/query
github.com/aws/aws-sdk-go/private/protocol/ec2query
github.com/taskcluster/generic-worker/process
github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds
github.com/taskcluster/generic-worker
github.com/aws/aws-sdk-go/aws/defaults
github.com/aws/aws-sdk-go/service/sts
github.com/aws/aws-sdk-go/service/ec2
github.com/aws/aws-sdk-go/aws/credentials/stscreds
github.com/aws/aws-sdk-go/aws/session
github.com/taskcluster/generic-worker/show-workers
[taskcluster 2017-02-04T11:18:29.196Z]   Exit Code: 0
[taskcluster 2017-02-04T11:18:29.196Z]   User Time: 0s
[taskcluster 2017-02-04T11:18:29.197Z] Kernel Time: 15.6001ms
[taskcluster 2017-02-04T11:18:29.197Z]   Wall Time: 15.177s
[taskcluster 2017-02-04T11:18:29.197Z] Peak Memory: 2494464
[taskcluster 2017-02-04T11:18:29.197Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:18:29.197Z] Executing command 16: copy "%GOPATH%\bin\generic-worker.exe" "..\..\..\..\..\public\build\generic-worker-windows-386.exe"

Z:\gopath\src\github.com\taskcluster\generic-worker>copy "Z:\\gopath\bin\generic-worker.exe" "..\..\..\..\..\public\build\generic-worker-windows-386.exe" 
        1 file(s) copied.
[taskcluster 2017-02-04T11:18:29.343Z]   Exit Code: 0
[taskcluster 2017-02-04T11:18:29.343Z]   User Time: 0s
[taskcluster 2017-02-04T11:18:29.343Z] Kernel Time: 15.6001ms
[taskcluster 2017-02-04T11:18:29.343Z]   Wall Time: 125ms
[taskcluster 2017-02-04T11:18:29.343Z] Peak Memory: 3375104
[taskcluster 2017-02-04T11:18:29.343Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:18:29.343Z] Executing command 17: :: this counts the number of lines returned by git status
[taskcluster 2017-02-04T11:18:29.343Z] :: dump temp file a directory higher, otherwise git status reports the tmp1.txt file!
[taskcluster 2017-02-04T11:18:29.343Z] git status --porcelain | C:\Windows\System32\find.exe /v /c "" > ..\tmp1.txt
[taskcluster 2017-02-04T11:18:29.343Z] set /P lines=<..\tmp1.txt
[taskcluster 2017-02-04T11:18:29.343Z] :: this checks that if more than 0 lines are returned, we fail
[taskcluster 2017-02-04T11:18:29.343Z] if %lines% gtr 0 exit /b 64
[taskcluster 2017-02-04T11:18:29.343Z] :: find.exe will have exited with exit code 1, so need to explicitly exit with 0
[taskcluster 2017-02-04T11:18:29.343Z] exit /b 0
[taskcluster 2017-02-04T11:18:29.343Z] 

Z:\gopath\src\github.com\taskcluster\generic-worker>git status --porcelain   | C:\Windows\System32\find.exe /v /c ""  1>..\tmp1.txt 

Z:\gopath\src\github.com\taskcluster\generic-worker>set /P lines= 0<..\tmp1.txt 

Z:\gopath\src\github.com\taskcluster\generic-worker>if 0 GTR 0 exit /b 64 

Z:\gopath\src\github.com\taskcluster\generic-worker>exit /b 0 

Z:\gopath\src\github.com\taskcluster\generic-worker>set tcexitcode=0 

Z:\gopath\src\github.com\taskcluster\generic-worker>set  1>Z:\env.txt 

Z:\gopath\src\github.com\taskcluster\generic-worker>cd  1>Z:\dir.txt 

Z:\gopath\src\github.com\taskcluster\generic-worker>exit /b 0 
[taskcluster 2017-02-04T11:18:29.421Z]   Exit Code: 0
[taskcluster 2017-02-04T11:18:29.421Z]   User Time: 0s
[taskcluster 2017-02-04T11:18:29.421Z] Kernel Time: 15.6001ms
[taskcluster 2017-02-04T11:18:29.421Z]   Wall Time: 68ms
[taskcluster 2017-02-04T11:18:29.421Z] Peak Memory: 2297856
[taskcluster 2017-02-04T11:18:29.421Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:18:29.421Z] Executing command 18: set GORACE=history_size=7

Z:\gopath\src\github.com\taskcluster\generic-worker>set GORACE=history_size=7 
[taskcluster 2017-02-04T11:18:29.479Z]   Exit Code: 0
[taskcluster 2017-02-04T11:18:29.479Z]   User Time: 0s
[taskcluster 2017-02-04T11:18:29.479Z] Kernel Time: 0s
[taskcluster 2017-02-04T11:18:29.479Z]   Wall Time: 37ms
[taskcluster 2017-02-04T11:18:29.479Z] Peak Memory: 2256896
[taskcluster 2017-02-04T11:18:29.479Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:18:29.479Z] Executing command 19: C:\generic-worker\generic-worker-test-creds.cmd

Z:\gopath\src\github.com\taskcluster\generic-worker>C:\generic-worker\generic-worker-test-creds.cmd

Z:\gopath\src\github.com\taskcluster\generic-worker>set TASKCLUSTER_CLIENT_ID=project/taskcluster/generic-worker/taskcluster-ci 
Z:\gopath\src\github.com\taskcluster\generic-worker>set TASKCLUSTER_ACCESS_TOKEN=********************************************

Z:\gopath\src\github.com\taskcluster\generic-worker>set tcexitcode=0 

Z:\gopath\src\github.com\taskcluster\generic-worker>set  1>Z:\env.txt 

Z:\gopath\src\github.com\taskcluster\generic-worker>cd  1>Z:\dir.txt 

Z:\gopath\src\github.com\taskcluster\generic-worker>exit /b 0 
[taskcluster 2017-02-04T11:18:29.526Z]   Exit Code: 0
[taskcluster 2017-02-04T11:18:29.526Z]   User Time: 0s
[taskcluster 2017-02-04T11:18:29.526Z] Kernel Time: 15.6001ms
[taskcluster 2017-02-04T11:18:29.527Z]   Wall Time: 38ms
[taskcluster 2017-02-04T11:18:29.527Z] Peak Memory: 2277376
[taskcluster 2017-02-04T11:18:29.527Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:18:29.527Z] Executing command 20: go test -v ./...

Z:\gopath\src\github.com\taskcluster\generic-worker>go test -v ./... 
=== RUN   TestDirectoryArtifacts
--- PASS: TestDirectoryArtifacts (0.02s)
=== RUN   TestMissingFileArtifact
--- PASS: TestMissingFileArtifact (0.00s)
=== RUN   TestMissingDirectoryArtifact
--- PASS: TestMissingDirectoryArtifact (0.00s)
=== RUN   TestFileArtifactIsDirectory
--- PASS: TestFileArtifactIsDirectory (0.00s)
=== RUN   TestDirectoryArtifactIsFile
--- PASS: TestDirectoryArtifactIsFile (0.00s)
=== RUN   TestUpload
2017/02/04 11:18:32 Detected windows platform
2017/02/04 11:18:32 No previous task user desktop, so no need to close any open desktops
2017/02/04 11:18:32 Refreshing signed urls in 24m50.8982s
2017/02/04 11:18:32   Priority (1) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-bvdk5mzwmfeht4qtwgoel6z7-5/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A48%3A33Z&sp=p&spr=https&sig=q9S0Rg7N5UHLEu4LjB%2BNQaiLdjQ8a2irdfBCBg%2FAaZ4%3D&st=2017-02-04T11%3A03%3A33Z
2017/02/04 11:18:32   Priority (1) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-bvdk5mzwmfeht4qtwgoel6z7-5/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A48%3A33Z&sp=p&spr=https&sig=q9S0Rg7N5UHLEu4LjB%2BNQaiLdjQ8a2irdfBCBg%2FAaZ4%3D&st=2017-02-04T11%3A03%3A33Z
2017/02/04 11:18:32   Priority (2) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-bvdk5mzwmfeht4qtwgoel6z7-1/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A48%3A33Z&sp=p&spr=https&sig=9olcM1wcKbZDDKsAGMuZVsbkPjpuUiPgjyNBaTBQUp4%3D&st=2017-02-04T11%3A03%3A33Z
2017/02/04 11:18:32   Priority (2) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-bvdk5mzwmfeht4qtwgoel6z7-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A48%3A33Z&sp=p&spr=https&sig=9olcM1wcKbZDDKsAGMuZVsbkPjpuUiPgjyNBaTBQUp4%3D&st=2017-02-04T11%3A03%3A33Z
2017/02/04 11:18:33 Task found
2017/02/04 11:18:33 Claiming task AM_sazi-TXmXF4q4oHV8Lg...
2017/02/04 11:18:33 Deleting task AM_sazi-TXmXF4q4oHV8Lg from Azure queue...
2017/02/04 11:18:33 Successfully deleted task from azure queue (delete url: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-bvdk5mzwmfeht4qtwgoel6z7-1/messages/88b304d2-c376-4a44-9f12-390cafbee425?popreceipt=AgAAAAMAAAAAAAAABsjeHtl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A48%3A33Z&sp=p&spr=https&sig=9olcM1wcKbZDDKsAGMuZVsbkPjpuUiPgjyNBaTBQUp4%3D&st=2017-02-04T11%3A03%3A33Z) with http response code 204.
2017/02/04 11:18:33 Setting reclaim timer...
2017/02/04 11:18:33 Current claim will expire at 2017-02-04 11:38:34.49 +0000 UTC
2017/02/04 11:18:33 Reclaiming 3 mins earlier, at 2017-02-04 11:35:34.49 +0000 UTC
2017/02/04 11:18:33 Time to wait until then is 17m0.5702s
2017/02/04 11:18:33 This is more than 30 seconds away - so setting a timer
2017/02/04 11:18:33 JSON payload: {
      "artifacts": [
        {
          "expires": "2017-02-04T11:48:31.653Z",
          "path": "SampleArtifacts/_/X.txt",
          "type": "file"
        }
      ],
      "command": [
        "echo hello world!",
        "echo goodbye world!",
        "mkdir \"SampleArtifacts\\_\"",
        "copy \"Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\SampleArtifacts\\_\\X.txt\" \"SampleArtifacts\\_\\X.txt\""
      ],
      "features": {
        "chainOfTrust": true
      },
      "maxRunTime": 7200
    }
2017/02/04 11:18:33 Running task https://tools.taskcluster.net/task-inspector/#AM_sazi-TXmXF4q4oHV8Lg/0
2017/02/04 11:18:33 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207112\command_000000_wrapper.bat
2017/02/04 11:18:33 Deadline: 2017-02-04 13:18:33.9208 +0000 GMT
2017/02/04 11:18:33 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207112\command_000000_wrapper.bat
2017/02/04 11:18:33 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207112\command_000001_wrapper.bat
2017/02/04 11:18:33 Deadline: 2017-02-04 13:18:33.9208 +0000 GMT
2017/02/04 11:18:33 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207112\command_000001_wrapper.bat
2017/02/04 11:18:33 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207112\command_000002_wrapper.bat
2017/02/04 11:18:33 Deadline: 2017-02-04 13:18:33.9208 +0000 GMT
2017/02/04 11:18:33 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207112\command_000002_wrapper.bat
2017/02/04 11:18:33 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207112\command_000003_wrapper.bat
2017/02/04 11:18:33 Deadline: 2017-02-04 13:18:33.9208 +0000 GMT
2017/02/04 11:18:33 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207112\command_000003_wrapper.bat
2017/02/04 11:18:33 Uploading artifact: public/logs/live.log
2017/02/04 11:18:34 Disk available: 84846788608 bytes
2017/02/04 11:18:34 Executing command 0: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207112\command_000000_wrapper.bat
2017/02/04 11:18:34 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207112\\command_000000.bat":
2017/02/04 11:18:34 Contents:
2017/02/04 11:18:34 @echo on
echo hello world!
2017/02/04 11:18:34 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:18:34   Result: 18
2017/02/04 11:18:34 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:18:34   Result: 1B
2017/02/04 11:18:34 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:18:34   Result: 1801B
2017/02/04 11:18:34 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:18:34   Result: 1B01B
2017/02/04 11:18:34 Making system call VerifyVersionInfoW with args: [11E11680 33 1B01B 80000000]
2017/02/04 11:18:34   Result: 0
2017/02/04 11:18:34 Making system call CreateProcessW with args: [0 11F76750 0 0 1 1000614 0 11F6A5A0 11F5CBE0 11FAC080]
2017/02/04 11:18:34   Result: 1
time="2017-02-04T11:18:34Z" level=info msg="processInfo: 0x11f4b3c8" 
2017/02/04 11:18:34 Making system call SetPriorityClass with args: [468 8000]
2017/02/04 11:18:34   Result: 1
2017/02/04 11:18:34 Making system call ResumeThread with args: [464]
2017/02/04 11:18:34   Result: 1
2017/02/04 11:18:34 Making system call GetProcessMemoryInfo with args: [468 11F81980 2C]
2017/02/04 11:18:34   Result: 1
2017/02/04 11:18:34 Making system call CloseHandle with args: [468]
2017/02/04 11:18:34   Result: 0
2017/02/04 11:18:34 Error when closing handle: The handle is invalid.
2017/02/04 11:18:34 Executing command 1: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207112\command_000001_wrapper.bat
2017/02/04 11:18:34 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207112\\command_000001.bat":
2017/02/04 11:18:34 Contents:
2017/02/04 11:18:34 @echo on
echo goodbye world!
2017/02/04 11:18:34 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:18:34   Result: 18
2017/02/04 11:18:34 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:18:34   Result: 1B
2017/02/04 11:18:34 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:18:34   Result: 1801B
2017/02/04 11:18:34 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:18:34   Result: 1B01B
2017/02/04 11:18:34 Making system call VerifyVersionInfoW with args: [11E10FC0 33 1B01B 80000000]
2017/02/04 11:18:34   Result: 0
2017/02/04 11:18:34 Making system call CreateProcessW with args: [0 11C620D0 0 0 1 1000614 0 11E5E000 11F5C050 12058180]
2017/02/04 11:18:34   Result: 1
time="2017-02-04T11:18:34Z" level=info msg="processInfo: 0x11f4a0c0" 
2017/02/04 11:18:34 Making system call SetPriorityClass with args: [474 8000]
2017/02/04 11:18:34   Result: 1
2017/02/04 11:18:34 Making system call ResumeThread with args: [3D4]
2017/02/04 11:18:34   Result: 1
2017/02/04 11:18:34 Making system call GetProcessMemoryInfo with args: [474 11DDA090 2C]
2017/02/04 11:18:34   Result: 1
2017/02/04 11:18:34 Making system call CloseHandle with args: [474]
2017/02/04 11:18:34   Result: 0
2017/02/04 11:18:34 Error when closing handle: The handle is invalid.
2017/02/04 11:18:34 Executing command 2: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207112\command_000002_wrapper.bat
2017/02/04 11:18:34 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207112\\command_000002.bat":
2017/02/04 11:18:34 Contents:
2017/02/04 11:18:34 @echo on
mkdir "SampleArtifacts\_"
2017/02/04 11:18:34 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:18:34   Result: 18
2017/02/04 11:18:34 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:18:34   Result: 1B
2017/02/04 11:18:34 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:18:34   Result: 1801B
2017/02/04 11:18:34 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:18:34   Result: 1B01B
2017/02/04 11:18:34 Making system call VerifyVersionInfoW with args: [11E80480 33 1B01B 80000000]
2017/02/04 11:18:34   Result: 0
2017/02/04 11:18:34 Making system call CreateProcessW with args: [0 11E5C1A0 0 0 1 1000614 0 11DF8000 11E98230 11E32290]
2017/02/04 11:18:34   Result: 1
time="2017-02-04T11:18:34Z" level=info msg="processInfo: 0x11f0a090" 
2017/02/04 11:18:34 Making system call SetPriorityClass with args: [3C4 8000]
2017/02/04 11:18:34   Result: 1
2017/02/04 11:18:34 Making system call ResumeThread with args: [474]
2017/02/04 11:18:34   Result: 1
2017/02/04 11:18:34 Making system call GetProcessMemoryInfo with args: [3C4 11DDA6F0 2C]
2017/02/04 11:18:34   Result: 1
2017/02/04 11:18:34 Making system call CloseHandle with args: [3C4]
2017/02/04 11:18:34   Result: 0
2017/02/04 11:18:34 Error when closing handle: The handle is invalid.
2017/02/04 11:18:34 Executing command 3: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207112\command_000003_wrapper.bat
2017/02/04 11:18:34 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207112\\command_000003.bat":
2017/02/04 11:18:34 Contents:
2017/02/04 11:18:34 @echo on
copy "Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\SampleArtifacts\_\X.txt" "SampleArtifacts\_\X.txt"
2017/02/04 11:18:34 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:18:34   Result: 18
2017/02/04 11:18:34 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:18:34   Result: 1B
2017/02/04 11:18:34 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:18:34   Result: 1801B
2017/02/04 11:18:34 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:18:34   Result: 1B01B
2017/02/04 11:18:34 Making system call VerifyVersionInfoW with args: [11E806C0 33 1B01B 80000000]
2017/02/04 11:18:34   Result: 0
2017/02/04 11:18:34 Making system call CreateProcessW with args: [0 11E5C340 0 0 1 1000614 0 11DF8280 11E98690 11E32650]
2017/02/04 11:18:34   Result: 1
time="2017-02-04T11:18:34Z" level=info msg="processInfo: 0x11f0a178" 
2017/02/04 11:18:34 Making system call SetPriorityClass with args: [494 8000]
2017/02/04 11:18:34   Result: 1
2017/02/04 11:18:34 Making system call ResumeThread with args: [3C4]
2017/02/04 11:18:34   Result: 1
2017/02/04 11:18:34 Making system call GetProcessMemoryInfo with args: [494 11DEA1E0 2C]
2017/02/04 11:18:34   Result: 1
2017/02/04 11:18:34 Making system call CloseHandle with args: [494]
2017/02/04 11:18:34   Result: 0
2017/02/04 11:18:34 Error when closing handle: The handle is invalid.
2017/02/04 11:18:34 Uploading artifact: SampleArtifacts/_/X.txt
2017/02/04 11:18:35 Request
2017/02/04 11:18:35 PUT /AM_sazi-TXmXF4q4oHV8Lg/0/SampleArtifacts/_/X.txt?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208926&Signature=0wcbErpXs5W5V%2Bgi3ZHp6wwsLEw%3D HTTP/1.1
Host: taskcluster-private-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 14
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:18:35 1 put requests issued to https://taskcluster-private-artifacts.s3-us-west-2.amazonaws.com/AM_sazi-TXmXF4q4oHV8Lg/0/SampleArtifacts/_/X.txt?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208926&Signature=0wcbErpXs5W5V%2Bgi3ZHp6wwsLEw%3D
2017/02/04 11:18:35 Response
2017/02/04 11:18:35 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:18:37 GMT
Etag: "9be2af545d56a97e106d14ceaefe12b7"
Server: AmazonS3
X-Amz-Id-2: yJvkjOa2SzMJ9WsWrsm4OLlEuu/QASSxc8wBJLJPW1OVqNWgggkStK/Pj5SAIM6+hgpl9PhryuE=
X-Amz-Request-Id: E324398F93404B39

2017/02/04 11:18:35 Uploading artifact: public/logs/certified.log
2017/02/04 11:18:36 Request
2017/02/04 11:18:36 PUT /AM_sazi-TXmXF4q4oHV8Lg/0/public/logs/certified.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208927&Signature=Y0W%2Bo0ygBVG7MFmqtD6OsT3SR3c%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 817
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:18:36 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/AM_sazi-TXmXF4q4oHV8Lg/0/public/logs/certified.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208927&Signature=Y0W%2Bo0ygBVG7MFmqtD6OsT3SR3c%3D
2017/02/04 11:18:36 Response
2017/02/04 11:18:36 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:18:38 GMT
Etag: "be4149a4fc63345d3ed387a02052bb73"
Server: AmazonS3
X-Amz-Id-2: lJUntR2e9iqzF0NdhB2XGcZIYYC+X1A20yE0Pr2OmYD/v6fa2DicligIzvarRVENqoMgFLHn9d0=
X-Amz-Request-Id: 6A0A0E20041C2F05
X-Amz-Version-Id: n0Bk7eWIPF0E3OfUA8o6CWENXlBTTfu2

2017/02/04 11:18:36 Uploading artifact: public/logs/chainOfTrust.json.asc
2017/02/04 11:18:36 Request
2017/02/04 11:18:36 PUT /AM_sazi-TXmXF4q4oHV8Lg/0/public/logs/chainOfTrust.json.asc?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208927&Signature=BDD0swOlvH3gR7ch0ie0TyNB00A%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 1308
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:18:36 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/AM_sazi-TXmXF4q4oHV8Lg/0/public/logs/chainOfTrust.json.asc?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208927&Signature=BDD0swOlvH3gR7ch0ie0TyNB00A%3D
2017/02/04 11:18:36 Response
2017/02/04 11:18:36 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:18:38 GMT
Etag: "59c46a14aeefb896fc6397b65779474b"
Server: AmazonS3
X-Amz-Id-2: ejlLGGS9xi5gKQM+fFBfSu+RqPRBRPOg9VhH+/c+7bZEa/yboK5kYuY1/hK3F4LDNQK7+NKMOls=
X-Amz-Request-Id: 29A7C18C6A7E2927
X-Amz-Version-Id: UtxHMgqSt.im1D.cPpGVVERT39gqmPTW

2017/02/04 11:18:36 Redirecting live.log to live_backing.log
2017/02/04 11:18:36 Uploading artifact: public/logs/live.log
2017/02/04 11:18:37 Uploading artifact: public/logs/live_backing.log
2017/02/04 11:18:37 Request
2017/02/04 11:18:37 PUT /AM_sazi-TXmXF4q4oHV8Lg/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208928&Signature=v5oG1gdg%2FeIV%2FnBzI%2FTpTVCdPc8%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 820
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:18:37 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/AM_sazi-TXmXF4q4oHV8Lg/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208928&Signature=v5oG1gdg%2FeIV%2FnBzI%2FTpTVCdPc8%3D
2017/02/04 11:18:37 Response
2017/02/04 11:18:37 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:18:39 GMT
Etag: "e54252bc1f73e761bb9b24e4747997fc"
Server: AmazonS3
X-Amz-Id-2: Uq3bhwDZ4w6V2SviMfaYhHJznoWOshXHRx69pr6CKoHH/Gh/UC10BZ/bKarJy6mEZRuN5uo+GEM=
X-Amz-Request-Id: 73A0B898DC2F13D6
X-Amz-Version-Id: BzXE4NA.Pp__Twah42FPSD5uWBIy5SQY

2017/02/04 11:18:37 Resolving task...
2017/02/04 11:18:37 Command finished successfully!
2017/02/04 11:18:38 No previous task user desktop, so no need to close any open desktops
--- PASS: TestUpload (16.02s)
=== RUN   TestMissingIPConfig
--- PASS: TestMissingIPConfig (0.00s)
=== RUN   TestValidConfig
--- PASS: TestValidConfig (0.00s)
=== RUN   TestInvalidIPConfig
--- PASS: TestInvalidIPConfig (0.00s)
=== RUN   TestInvalidJsonConfig
--- PASS: TestInvalidJsonConfig (0.00s)
=== RUN   TestMissingConfigFile
--- PASS: TestMissingConfigFile (0.00s)
=== RUN   TestWorkerTypeMetadata
--- PASS: TestWorkerTypeMetadata (0.00s)
=== RUN   TestBoolAsString
--- PASS: TestBoolAsString (0.00s)
=== RUN   TestFailureResolvesAsFailure
2017/02/04 11:18:48 Detected windows platform
2017/02/04 11:18:48 No previous task user desktop, so no need to close any open desktops
2017/02/04 11:18:48 Refreshing signed urls in 24m50.9062s
2017/02/04 11:18:48   Priority (1) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-s4iqj4m6c3uujr2ia3ukyyba-5/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A48%3A49Z&sp=p&spr=https&sig=0ivySE7AIQ8VRnc2vrUoeTDve3qt32Ap0c%2Bh1di5bbc%3D&st=2017-02-04T11%3A03%3A49Z
2017/02/04 11:18:48   Priority (1) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-s4iqj4m6c3uujr2ia3ukyyba-5/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A48%3A49Z&sp=p&spr=https&sig=0ivySE7AIQ8VRnc2vrUoeTDve3qt32Ap0c%2Bh1di5bbc%3D&st=2017-02-04T11%3A03%3A49Z
2017/02/04 11:18:48   Priority (2) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-s4iqj4m6c3uujr2ia3ukyyba-1/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A48%3A49Z&sp=p&spr=https&sig=QMCpH68USc3hDmWA4cGjIAxySR1jDsbE%2FXMsrVOjZfk%3D&st=2017-02-04T11%3A03%3A49Z
2017/02/04 11:18:48   Priority (2) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-s4iqj4m6c3uujr2ia3ukyyba-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A48%3A49Z&sp=p&spr=https&sig=QMCpH68USc3hDmWA4cGjIAxySR1jDsbE%2FXMsrVOjZfk%3D&st=2017-02-04T11%3A03%3A49Z
2017/02/04 11:18:48 Task found
2017/02/04 11:18:48 Claiming task MfDI6DkoQmiD2vb8y6k8NA...
2017/02/04 11:18:49 Deleting task MfDI6DkoQmiD2vb8y6k8NA from Azure queue...
2017/02/04 11:18:49 Successfully deleted task from azure queue (delete url: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-s4iqj4m6c3uujr2ia3ukyyba-1/messages/de575417-76da-4a53-87b1-bb6c07efc5aa?popreceipt=AgAAAAMAAAAAAAAAqNUJKNl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A48%3A49Z&sp=p&spr=https&sig=QMCpH68USc3hDmWA4cGjIAxySR1jDsbE%2FXMsrVOjZfk%3D&st=2017-02-04T11%3A03%3A49Z) with http response code 204.
2017/02/04 11:18:49 Setting reclaim timer...
2017/02/04 11:18:49 Current claim will expire at 2017-02-04 11:38:49.827 +0000 UTC
2017/02/04 11:18:49 Reclaiming 3 mins earlier, at 2017-02-04 11:35:49.827 +0000 UTC
2017/02/04 11:18:49 Time to wait until then is 17m0.5782s
2017/02/04 11:18:49 This is more than 30 seconds away - so setting a timer
2017/02/04 11:18:49 JSON payload: {
      "command": [
        "exit 1"
      ],
      "features": {},
      "maxRunTime": 10
    }
2017/02/04 11:18:49 Running task https://tools.taskcluster.net/task-inspector/#MfDI6DkoQmiD2vb8y6k8NA/0
2017/02/04 11:18:49 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207128\command_000000_wrapper.bat
2017/02/04 11:18:49 Deadline: 2017-02-04 11:18:59.2498 +0000 GMT
2017/02/04 11:18:49 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207128\command_000000_wrapper.bat
2017/02/04 11:18:49 Uploading artifact: public/logs/live.log
2017/02/04 11:18:49 Disk available: 84846755840 bytes
2017/02/04 11:18:49 Executing command 0: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207128\command_000000_wrapper.bat
2017/02/04 11:18:49 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207128\\command_000000.bat":
2017/02/04 11:18:49 Contents:
2017/02/04 11:18:49 @echo on
exit 1
2017/02/04 11:18:49 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:18:49   Result: 18
2017/02/04 11:18:49 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:18:49   Result: 1B
2017/02/04 11:18:49 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:18:49   Result: 1801B
2017/02/04 11:18:49 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:18:49   Result: 1B01B
2017/02/04 11:18:49 Making system call VerifyVersionInfoW with args: [11C8F320 33 1B01B 80000000]
2017/02/04 11:18:49   Result: 0
2017/02/04 11:18:49 Making system call CreateProcessW with args: [0 11DC5520 0 0 1 1000614 0 11C95A40 11C2E870 11EEC510]
2017/02/04 11:18:49   Result: 1
time="2017-02-04T11:18:49Z" level=info msg="processInfo: 0x11e419b0" 
2017/02/04 11:18:49 Making system call SetPriorityClass with args: [4D8 8000]
2017/02/04 11:18:49   Result: 1
2017/02/04 11:18:49 Making system call ResumeThread with args: [4D4]
2017/02/04 11:18:49   Result: 1
2017/02/04 11:18:49 Making system call GetProcessMemoryInfo with args: [4D8 11ED2BA0 2C]
2017/02/04 11:18:49   Result: 1
2017/02/04 11:18:49 Making system call CloseHandle with args: [4D8]
2017/02/04 11:18:49   Result: 0
2017/02/04 11:18:49 Error when closing handle: The handle is invalid.
2017/02/04 11:18:49 Redirecting live.log to live_backing.log
2017/02/04 11:18:49 Uploading artifact: public/logs/live.log
2017/02/04 11:18:50 Uploading artifact: public/logs/live_backing.log
2017/02/04 11:18:50 Request
2017/02/04 11:18:50 PUT /MfDI6DkoQmiD2vb8y6k8NA/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208941&Signature=VKLrr%2F%2F3xfSZzCiUQQFo6mU9SVo%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 597
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:18:50 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/MfDI6DkoQmiD2vb8y6k8NA/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208941&Signature=VKLrr%2F%2F3xfSZzCiUQQFo6mU9SVo%3D
2017/02/04 11:18:50 Response
2017/02/04 11:18:50 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:18:52 GMT
Etag: "303040d3bcb2afa61c2496cf9bde93d7"
Server: AmazonS3
X-Amz-Id-2: Hk9Ch0aJYkk7jDPYuS91+NZ5K1lvEJnXuIfkMK/1wQgeL/JzEIjrwjvUfWgaOySZIIPotflIj+4=
X-Amz-Request-Id: 07F254F44F70C2EA
X-Amz-Version-Id: zABOebQ0OhtxGsco1.EhoeQZ2b5N19xt

2017/02/04 11:18:50 Resolving task...
2017/02/04 11:18:51 Task Id:                 MfDI6DkoQmiD2vb8y6k8NA
Run Id:                  0
Run Id (Task Claim):     0
Message Id:              de575417-76da-4a53-87b1-bb6c07efc5aa
Insertion Time:          2017-02-04 11:18:48 +0000 GMT
Expiration Time:         2017-02-04 11:33:45 +0000 GMT
Dequeue Count:           1
Pop Receipt:             AgAAAAMAAAAAAAAAqNUJKNl+0gE=
Time Next Visible:       2017-02-04 11:23:49 +0000 GMT
Message Text:            eyJ0YXNrSWQiOiJNZkRJNkRrb1FtaUQydmI4eTZrOE5BIiwicnVuSWQiOjAsImhpbnRJZCI6InN2cXlhRTM5VGwteERxY28xVmdGb0EifQ==
Run 0:
  Reason Created:        scheduled
  Reason Resolved:       failed
  Resolved:              2017-02-04T11:18:52.006Z
  Run Id:                0
  Scheduled:             2017-02-04T11:18:48.928Z
  Started:               2017-02-04T11:18:49.907Z
  State:                 failed
  Taken Until:           2017-02-04T11:38:49.827Z
  Worker Group:          test-worker-group
  Worker Id:             test-worker-id
==========================================
Status Deadline:         2017-02-04T11:33:47.000Z
Status Provisioner Id:   test-provisioner
Status Retries Left:     1
Status Scheduler Id:     test-scheduler
Status State:            failed
Status Task Group Id:    FhPR-atdTsKfoAO_doDqGA
Status Task Id:          MfDI6DkoQmiD2vb8y6k8NA
Status Worker Type:      CIeLj_f4TAejrcWT3PHWMw
Taken Until:             2017-02-04T11:38:49.827Z
Worker Group:            test-worker-group
Worker Id:               test-worker-id
==========================================
Signed Poll URL:         https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-s4iqj4m6c3uujr2ia3ukyyba-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A48%3A49Z&sp=p&spr=https&sig=QMCpH68USc3hDmWA4cGjIAxySR1jDsbE%2FXMsrVOjZfk%3D&st=2017-02-04T11%3A03%3A49Z
Signed Delete URL:       https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-s4iqj4m6c3uujr2ia3ukyyba-1/messages/de575417-76da-4a53-87b1-bb6c07efc5aa?popreceipt=AgAAAAMAAAAAAAAAqNUJKNl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A48%3A49Z&sp=p&spr=https&sig=QMCpH68USc3hDmWA4cGjIAxySR1jDsbE%2FXMsrVOjZfk%3D&st=2017-02-04T11%3A03%3A49Z
==========================================
Created:                 2017-02-04T11:18:47.000Z
Deadline:                2017-02-04T11:33:47.000Z
Expires:                 2017-02-05T11:18:47.000Z
Extra:                   {}
Metadata:                {Test task [TC] TestUpload pmoore@mozilla.com https://github.com/taskcluster/generic-worker/blob/master/artifacts_test.go}
Payload:                 {
      "command": [
        "exit 1"
      ],
      "features": {},
      "maxRunTime": 10
    }
Provisioner Id:          test-provisioner
Retries:                 1
Routes:                  []string{}
SchedulerId:             test-scheduler
Scopes:                  []string{}
Tags:                    {
      "createdForUser": "pmoore@mozilla.com"
    }
Task Group Id:           FhPR-atdTsKfoAO_doDqGA
Worker Type:             CIeLj_f4TAejrcWT3PHWMw
==========================================
Artifacts:               []
Command:                 []string{"exit 1"}
Env:                     json.RawMessage(nil)
Max Run Time:            10
==========================================
2017/02/04 11:18:51 ERROR encountered: Task not successful due to following exception(s):
Exception 1)
[]

Exit code: 1
2017/02/04 11:18:51 No previous task user desktop, so no need to close any open desktops
--- PASS: TestFailureResolvesAsFailure (3.84s)
=== RUN   TestAbortAfterMaxRunTime
2017/02/04 11:18:52 Detected windows platform
2017/02/04 11:18:52 No previous task user desktop, so no need to close any open desktops
2017/02/04 11:18:52 Refreshing signed urls in 24m50.8762s
2017/02/04 11:18:52   Priority (1) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-4rvojwxorsmjj5g6z3k5ja4b-5/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A48%3A53Z&sp=p&spr=https&sig=VNzRUx7%2F77rMbhzPdjZ2qnbeGXo0RHFSwaWmTcwvmpM%3D&st=2017-02-04T11%3A03%3A53Z
2017/02/04 11:18:52   Priority (1) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-4rvojwxorsmjj5g6z3k5ja4b-5/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A48%3A53Z&sp=p&spr=https&sig=VNzRUx7%2F77rMbhzPdjZ2qnbeGXo0RHFSwaWmTcwvmpM%3D&st=2017-02-04T11%3A03%3A53Z
2017/02/04 11:18:52   Priority (2) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-4rvojwxorsmjj5g6z3k5ja4b-1/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A48%3A53Z&sp=p&spr=https&sig=gCJuNSIN2ar26jrv%2BgN5TKX206FvJBoGup47eQvgKfI%3D&st=2017-02-04T11%3A03%3A53Z
2017/02/04 11:18:52   Priority (2) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-4rvojwxorsmjj5g6z3k5ja4b-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A48%3A53Z&sp=p&spr=https&sig=gCJuNSIN2ar26jrv%2BgN5TKX206FvJBoGup47eQvgKfI%3D&st=2017-02-04T11%3A03%3A53Z
2017/02/04 11:18:52 Task found
2017/02/04 11:18:52 Claiming task dN2ZKZOPSgSj8a5pVOPP5g...
2017/02/04 11:18:52 Deleting task dN2ZKZOPSgSj8a5pVOPP5g from Azure queue...
2017/02/04 11:18:53 Successfully deleted task from azure queue (delete url: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-4rvojwxorsmjj5g6z3k5ja4b-1/messages/5330f9b5-d1b3-4ea1-b8fd-11cfdf17c1d8?popreceipt=AgAAAAMAAAAAAAAAmypLKtl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A48%3A53Z&sp=p&spr=https&sig=gCJuNSIN2ar26jrv%2BgN5TKX206FvJBoGup47eQvgKfI%3D&st=2017-02-04T11%3A03%3A53Z) with http response code 204.
2017/02/04 11:18:53 Setting reclaim timer...
2017/02/04 11:18:53 Current claim will expire at 2017-02-04 11:38:53.61 +0000 UTC
2017/02/04 11:18:53 Reclaiming 3 mins earlier, at 2017-02-04 11:35:53.61 +0000 UTC
2017/02/04 11:18:53 Time to wait until then is 17m0.5712s
2017/02/04 11:18:53 This is more than 30 seconds away - so setting a timer
2017/02/04 11:18:53 JSON payload: {
      "command": [
        "ping 127.0.0.1 -n 5 > nul"
      ],
      "features": {},
      "maxRunTime": 3
    }
2017/02/04 11:18:53 Running task https://tools.taskcluster.net/task-inspector/#dN2ZKZOPSgSj8a5pVOPP5g/0
2017/02/04 11:18:53 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207132\command_000000_wrapper.bat
2017/02/04 11:18:53 Deadline: 2017-02-04 11:18:56.0398 +0000 GMT
2017/02/04 11:18:53 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207132\command_000000_wrapper.bat
2017/02/04 11:18:53 Uploading artifact: public/logs/live.log
2017/02/04 11:18:53 Disk available: 84846751744 bytes
2017/02/04 11:18:53 Executing command 0: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207132\command_000000_wrapper.bat
2017/02/04 11:18:53 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207132\\command_000000.bat":
2017/02/04 11:18:53 Contents:
2017/02/04 11:18:53 @echo on
ping 127.0.0.1 -n 5 > nul
2017/02/04 11:18:53 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:18:53   Result: 18
2017/02/04 11:18:53 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:18:53   Result: 1B
2017/02/04 11:18:53 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:18:53   Result: 1801B
2017/02/04 11:18:53 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:18:53   Result: 1B01B
2017/02/04 11:18:53 Making system call VerifyVersionInfoW with args: [11E80480 33 1B01B 80000000]
2017/02/04 11:18:53   Result: 0
2017/02/04 11:18:53 Making system call CreateProcessW with args: [0 11DC4340 0 0 1 1000614 0 11C94140 11F5CA50 12170280]
2017/02/04 11:18:53   Result: 1
time="2017-02-04T11:18:53Z" level=info msg="processInfo: 0x11f0a068" 
2017/02/04 11:18:53 Making system call SetPriorityClass with args: [4D8 8000]
2017/02/04 11:18:53   Result: 1
2017/02/04 11:18:53 Making system call ResumeThread with args: [4D0]
2017/02/04 11:18:53   Result: 1
2017/02/04 11:18:56 Aborting task dN2ZKZOPSgSj8a5pVOPP5g - max run time exceeded!
2017/02/04 11:18:56 Making system call GetProcessMemoryInfo with args: [4D8 11FB02A0 2C]
2017/02/04 11:18:56   Result: 1
2017/02/04 11:18:56 Making system call CloseHandle with args: [4D8]
2017/02/04 11:18:56   Result: 0
2017/02/04 11:18:56 Error when closing handle: The handle is invalid.
2017/02/04 11:18:56 Redirecting live.log to live_backing.log
2017/02/04 11:18:56 Uploading artifact: public/logs/live.log
2017/02/04 11:18:56 Uploading artifact: public/logs/live_backing.log
2017/02/04 11:18:57 Request
2017/02/04 11:18:57 PUT /dN2ZKZOPSgSj8a5pVOPP5g/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208947&Signature=sVeCdvpPlYmG7O2qhm0Cd%2F159Fs%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 661
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:18:57 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/dN2ZKZOPSgSj8a5pVOPP5g/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208947&Signature=sVeCdvpPlYmG7O2qhm0Cd%2F159Fs%3D
2017/02/04 11:18:57 Response
2017/02/04 11:18:57 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:18:59 GMT
Etag: "d86e049b7591ab7960af1bb60a8f9eeb"
Server: AmazonS3
X-Amz-Id-2: 9VFT0htipNwrCpI6zPKP+4mvZZ3hQ2YxRqAdcRs5k+mltSOcD/rV8Xjo9Oo8s0ZylHWYquU5sEg=
X-Amz-Request-Id: 9EFE8B816A1B9315
X-Amz-Version-Id: FTUcodkzTzEdqvzhMKmQok6ERWfQMegu

2017/02/04 11:18:57 Resolving task...
2017/02/04 11:18:57 Task Id:                 dN2ZKZOPSgSj8a5pVOPP5g
Run Id:                  0
Run Id (Task Claim):     0
Message Id:              5330f9b5-d1b3-4ea1-b8fd-11cfdf17c1d8
Insertion Time:          2017-02-04 11:18:52 +0000 GMT
Expiration Time:         2017-02-04 11:33:49 +0000 GMT
Dequeue Count:           1
Pop Receipt:             AgAAAAMAAAAAAAAAmypLKtl+0gE=
Time Next Visible:       2017-02-04 11:23:52 +0000 GMT
Message Text:            eyJ0YXNrSWQiOiJkTjJaS1pPUFNnU2o4YTVwVk9QUDVnIiwicnVuSWQiOjAsImhpbnRJZCI6InVmNEtJOWxEUUtXdUVTdjBJWEdNdXcifQ==
Run 0:
  Reason Created:        scheduled
  Reason Resolved:       failed
  Resolved:              2017-02-04T11:18:58.426Z
  Run Id:                0
  Scheduled:             2017-02-04T11:18:52.748Z
  Started:               2017-02-04T11:18:53.690Z
  State:                 failed
  Taken Until:           2017-02-04T11:38:53.610Z
  Worker Group:          test-worker-group
  Worker Id:             test-worker-id
==========================================
Status Deadline:         2017-02-04T11:33:51.000Z
Status Provisioner Id:   test-provisioner
Status Retries Left:     1
Status Scheduler Id:     test-scheduler
Status State:            failed
Status Task Group Id:    FhPR-atdTsKfoAO_doDqGA
Status Task Id:          dN2ZKZOPSgSj8a5pVOPP5g
Status Worker Type:      YW2Ug34LSY-Y6JGWBUzWaA
Taken Until:             2017-02-04T11:38:53.610Z
Worker Group:            test-worker-group
Worker Id:               test-worker-id
==========================================
Signed Poll URL:         https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-4rvojwxorsmjj5g6z3k5ja4b-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A48%3A53Z&sp=p&spr=https&sig=gCJuNSIN2ar26jrv%2BgN5TKX206FvJBoGup47eQvgKfI%3D&st=2017-02-04T11%3A03%3A53Z
Signed Delete URL:       https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-4rvojwxorsmjj5g6z3k5ja4b-1/messages/5330f9b5-d1b3-4ea1-b8fd-11cfdf17c1d8?popreceipt=AgAAAAMAAAAAAAAAmypLKtl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A48%3A53Z&sp=p&spr=https&sig=gCJuNSIN2ar26jrv%2BgN5TKX206FvJBoGup47eQvgKfI%3D&st=2017-02-04T11%3A03%3A53Z
==========================================
Created:                 2017-02-04T11:18:51.000Z
Deadline:                2017-02-04T11:33:51.000Z
Expires:                 2017-02-05T11:18:51.000Z
Extra:                   {}
Metadata:                {Test task [TC] TestUpload pmoore@mozilla.com https://github.com/taskcluster/generic-worker/blob/master/artifacts_test.go}
Payload:                 {
      "command": [
        "ping 127.0.0.1 -n 5 > nul"
      ],
      "features": {},
      "maxRunTime": 3
    }
Provisioner Id:          test-provisioner
Retries:                 1
Routes:                  []string{}
SchedulerId:             test-scheduler
Scopes:                  []string{}
Tags:                    {
      "createdForUser": "pmoore@mozilla.com"
    }
Task Group Id:           FhPR-atdTsKfoAO_doDqGA
Worker Type:             YW2Ug34LSY-Y6JGWBUzWaA
==========================================
Artifacts:               []
Command:                 []string{"ping 127.0.0.1 -n 5 > nul"}
Env:                     json.RawMessage(nil)
Max Run Time:            3
==========================================
2017/02/04 11:18:57 ERROR encountered: Task not successful due to following exception(s):
Exception 1)
[]

Exit code: 0
2017/02/04 11:18:57 No previous task user desktop, so no need to close any open desktops
--- PASS: TestAbortAfterMaxRunTime (8.02s)
=== RUN   TestMounts
2017/02/04 11:19:00 Detected windows platform
2017/02/04 11:19:00 No previous task user desktop, so no need to close any open desktops
2017/02/04 11:19:00 Refreshing signed urls in 24m50.8762s
2017/02/04 11:19:00   Priority (1) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-dbekokaicwege5d2djk7hxmp-5/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A49%3A01Z&sp=p&spr=https&sig=I1Bx5sVVfWk9RnDDt8%2FS0CChVq7Bt37NojY0jvdlMnQ%3D&st=2017-02-04T11%3A04%3A01Z
2017/02/04 11:19:00   Priority (1) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-dbekokaicwege5d2djk7hxmp-5/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A01Z&sp=p&spr=https&sig=I1Bx5sVVfWk9RnDDt8%2FS0CChVq7Bt37NojY0jvdlMnQ%3D&st=2017-02-04T11%3A04%3A01Z
2017/02/04 11:19:00   Priority (2) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-dbekokaicwege5d2djk7hxmp-1/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A49%3A01Z&sp=p&spr=https&sig=6cmCE0gIvZr2NHdZlPjxHhlXWkkVH5GgVSZ8SOhrz1Y%3D&st=2017-02-04T11%3A04%3A01Z
2017/02/04 11:19:00   Priority (2) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-dbekokaicwege5d2djk7hxmp-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A01Z&sp=p&spr=https&sig=6cmCE0gIvZr2NHdZlPjxHhlXWkkVH5GgVSZ8SOhrz1Y%3D&st=2017-02-04T11%3A04%3A01Z
2017/02/04 11:19:00 Task found
2017/02/04 11:19:00 Claiming task IRU2vN5BTDOrFLc3vAZYAg...
2017/02/04 11:19:01 Deleting task IRU2vN5BTDOrFLc3vAZYAg from Azure queue...
2017/02/04 11:19:01 Successfully deleted task from azure queue (delete url: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-dbekokaicwege5d2djk7hxmp-1/messages/c2381682-5d92-4fea-99a5-9f55412124c8?popreceipt=AgAAAAMAAAAAAAAALlIeL9l%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A49%3A01Z&sp=p&spr=https&sig=6cmCE0gIvZr2NHdZlPjxHhlXWkkVH5GgVSZ8SOhrz1Y%3D&st=2017-02-04T11%3A04%3A01Z) with http response code 204.
2017/02/04 11:19:01 Setting reclaim timer...
2017/02/04 11:19:01 Current claim will expire at 2017-02-04 11:39:01.703 +0000 UTC
2017/02/04 11:19:01 Reclaiming 3 mins earlier, at 2017-02-04 11:36:01.703 +0000 UTC
2017/02/04 11:19:01 Time to wait until then is 17m0.5712s
2017/02/04 11:19:01 This is more than 30 seconds away - so setting a timer
2017/02/04 11:19:01 JSON payload: {
      "command": [
        "powershell -command \"&{& set-executionpolicy unrestricted -scope currentuser }\"",
        "powershell -file preloaded\\\\check-shasums.ps1"
      ],
      "features": {},
      "maxRunTime": 180,
      "mounts": [
        {
          "content": {
            "taskId": "KTBKfEgxR5GdfIIREQIvFQ",
            "artifact": "SampleArtifacts/_/X.txt"
          },
          "file": "preloaded\\Mr X.txt"
        },
        {
          "content": {
            "url": "https://raw.githubusercontent.com/taskcluster/testrepo/master/generic-worker/check-shasums.sh"
          },
          "file": "preloaded\\check-shasums.sh"
        },
        {
          "content": {
            "url": "https://raw.githubusercontent.com/taskcluster/testrepo/master/generic-worker/check-shasums.ps1"
          },
          "file": "preloaded\\check-shasums.ps1"
        },
        {
          "content": {
            "url": "https://raw.githubusercontent.com/taskcluster/testrepo/master/generic-worker/shasums"
          },
          "file": "preloaded\\shasums"
        },
        {
          "cacheName": "banana-cache",
          "directory": "my-task-caches\\bananas"
        },
        {
          "cacheName": "tomato-cache",
          "content": {
            "taskId": "To_4IZUgRgOrmR2w6UTerA",
            "artifact": "public/build/mozharness.zip"
          },
          "directory": "my-task-caches\\tomatoes",
          "format": "zip"
        },
        {
          "cacheName": "devtools-app",
          "content": {
            "url": "https://github.com/mozilla/gecko-dev/raw/233f30f2377f3df0f3388721901681f432b813fb/devtools/client/webide/test/app.zip"
          },
          "directory": "my-task-caches\\devtools-app",
          "format": "zip"
        },
        {
          "content": {
            "taskId": "OpqCz--JTlCYFq_bu3489A",
            "artifact": "public/build/mozharness.zip"
          },
          "directory": "my-task-caches\\mozharness",
          "format": "zip"
        },
        {
          "content": {
            "url": "https://github.com/taskcluster/logserver/raw/53134a5b9cbece05752c0ecc1a6c6d7c2fbf6580/node_modules/express/node_modules/connect/node_modules/multiparty/test/fixture/file/binaryfile.tar.gz"
          },
          "directory": "my-task-caches\\package",
          "format": "tar.gz"
        }
      ]
    }
2017/02/04 11:19:01 Running task https://tools.taskcluster.net/task-inspector/#IRU2vN5BTDOrFLc3vAZYAg/0
2017/02/04 11:19:01 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207140\command_000000_wrapper.bat
2017/02/04 11:19:01 Deadline: 2017-02-04 11:22:01.1348 +0000 GMT
2017/02/04 11:19:01 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207140\command_000000_wrapper.bat
2017/02/04 11:19:01 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207140\command_000001_wrapper.bat
2017/02/04 11:19:01 Deadline: 2017-02-04 11:22:01.1348 +0000 GMT
2017/02/04 11:19:01 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207140\command_000001_wrapper.bat
2017/02/04 11:19:01 Uploading artifact: public/logs/live.log
2017/02/04 11:19:01 Disk available: 84846747648 bytes
2017/02/04 11:19:01 Downloading url https://queue.taskcluster.net/v1/task/KTBKfEgxR5GdfIIREQIvFQ/artifacts/SampleArtifacts%2F_%2FX.txt?bewit=cHJvamVjdC90YXNrY2x1c3Rlci9nZW5lcmljLXdvcmtlci90YXNrY2x1c3Rlci1jaVwxNDg2MjA4OTQxXGpaeHhGVkVLM1NYRlZiV3IzeWRERDRCR0tQRlpDaGk1bndGRC9YKzlKZW89XA to Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\PvP9jPT0SMuS-EMCii7HVw
2017/02/04 11:19:02 Downloading url https://raw.githubusercontent.com/taskcluster/testrepo/master/generic-worker/check-shasums.sh to Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\A2R4yrXnSxCDM2lpryhWCA
2017/02/04 11:19:02 Downloading url https://raw.githubusercontent.com/taskcluster/testrepo/master/generic-worker/check-shasums.ps1 to Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\V_IZREUFRnWVCePUJ65O3w
2017/02/04 11:19:02 Downloading url https://raw.githubusercontent.com/taskcluster/testrepo/master/generic-worker/shasums to Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\GODVLyIKR-aFJUdeCtkO3g
2017/02/04 11:19:02 Downloading url https://queue.taskcluster.net/v1/task/To_4IZUgRgOrmR2w6UTerA/artifacts/public%2Fbuild%2Fmozharness.zip?bewit=cHJvamVjdC90YXNrY2x1c3Rlci9nZW5lcmljLXdvcmtlci90YXNrY2x1c3Rlci1jaVwxNDg2MjA4OTQyXC9lbnA0ZEVRdzgyamM1M0lSSndXVFM1L20yelA4bFJmRjk1U2w0azJRZWc9XA to Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\V8l64672QSKK0ZXUWzGkhA
2017/02/04 11:19:02 Extracting zip file 'Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\V8l64672QSKK0ZXUWzGkhA' to 'Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207140\my-task-caches\tomatoes'
2017/02/04 11:19:03 Downloading url https://github.com/mozilla/gecko-dev/raw/233f30f2377f3df0f3388721901681f432b813fb/devtools/client/webide/test/app.zip to Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\bwwERaNVTwKNbgDY8UPiIw
2017/02/04 11:19:03 Extracting zip file 'Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\bwwERaNVTwKNbgDY8UPiIw' to 'Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207140\my-task-caches\devtools-app'
2017/02/04 11:19:03 Downloading url https://queue.taskcluster.net/v1/task/OpqCz--JTlCYFq_bu3489A/artifacts/public%2Fbuild%2Fmozharness.zip?bewit=cHJvamVjdC90YXNrY2x1c3Rlci9nZW5lcmljLXdvcmtlci90YXNrY2x1c3Rlci1jaVwxNDg2MjA4OTQzXGNoSVZJMHZqdUgxdTd2L3NER3ZYc2JsWHNkV0lqekExU0UvV0xSYkY3aXM9XA to Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\eTbOnV_FSp65iBUE2rPAaA
2017/02/04 11:19:04 Extracting zip file 'Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\eTbOnV_FSp65iBUE2rPAaA' to 'Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207140\my-task-caches\mozharness'
2017/02/04 11:19:05 Downloading url https://github.com/taskcluster/logserver/raw/53134a5b9cbece05752c0ecc1a6c6d7c2fbf6580/node_modules/express/node_modules/connect/node_modules/multiparty/test/fixture/file/binaryfile.tar.gz to Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\FW6VKb8rQRO2wqbKHk2K2w
2017/02/04 11:19:05 Extracting tar.gz file 'Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\FW6VKb8rQRO2wqbKHk2K2w' to 'Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207140\my-task-caches\package'
2017/02/04 11:19:05 Executing command 0: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207140\command_000000_wrapper.bat
2017/02/04 11:19:05 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207140\\command_000000.bat":
2017/02/04 11:19:05 Contents:
2017/02/04 11:19:05 @echo on
powershell -command "&{& set-executionpolicy unrestricted -scope currentuser }"
2017/02/04 11:19:05 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:19:05   Result: 18
2017/02/04 11:19:05 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:19:05   Result: 1B
2017/02/04 11:19:05 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:19:05   Result: 1801B
2017/02/04 11:19:05 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:19:05   Result: 1B01B
2017/02/04 11:19:05 Making system call VerifyVersionInfoW with args: [11DA8120 33 1B01B 80000000]
2017/02/04 11:19:05   Result: 0
2017/02/04 11:19:05 Making system call CreateProcessW with args: [0 11E5CC30 0 0 1 1000614 0 11D40320 12140960 11F2C890]
2017/02/04 11:19:05   Result: 1
time="2017-02-04T11:19:05Z" level=info msg="processInfo: 0x11e404b8" 
2017/02/04 11:19:05 Making system call SetPriorityClass with args: [4D8 8000]
2017/02/04 11:19:05   Result: 1
2017/02/04 11:19:05 Making system call ResumeThread with args: [4E0]
2017/02/04 11:19:05   Result: 1
2017/02/04 11:19:07 Making system call GetProcessMemoryInfo with args: [4D8 11F06750 2C]
2017/02/04 11:19:07   Result: 1
2017/02/04 11:19:07 Making system call CloseHandle with args: [4D8]
2017/02/04 11:19:07   Result: 0
2017/02/04 11:19:07 Error when closing handle: The handle is invalid.
2017/02/04 11:19:07 Executing command 1: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207140\command_000001_wrapper.bat
2017/02/04 11:19:07 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207140\\command_000001.bat":
2017/02/04 11:19:07 Contents:
2017/02/04 11:19:07 @echo on
powershell -file preloaded\\check-shasums.ps1
2017/02/04 11:19:07 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:19:07   Result: 18
2017/02/04 11:19:07 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:19:07   Result: 1B
2017/02/04 11:19:07 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:19:07   Result: 1801B
2017/02/04 11:19:07 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:19:07   Result: 1B01B
2017/02/04 11:19:07 Making system call VerifyVersionInfoW with args: [11F34900 33 1B01B 80000000]
2017/02/04 11:19:07   Result: 0
2017/02/04 11:19:07 Making system call CreateProcessW with args: [0 11DC4340 0 0 1 1000614 0 11C94140 11E34550 12058740]
2017/02/04 11:19:07   Result: 1
time="2017-02-04T11:19:07Z" level=info msg="processInfo: 0x11f0a140" 
2017/02/04 11:19:07 Making system call SetPriorityClass with args: [504 8000]
2017/02/04 11:19:07   Result: 1
2017/02/04 11:19:07 Making system call ResumeThread with args: [4D8]
2017/02/04 11:19:07   Result: 1
2017/02/04 11:19:07 Making system call GetProcessMemoryInfo with args: [504 11ED2660 2C]
2017/02/04 11:19:07   Result: 1
2017/02/04 11:19:07 Making system call CloseHandle with args: [504]
2017/02/04 11:19:07   Result: 0
2017/02/04 11:19:07 Error when closing handle: The handle is invalid.
2017/02/04 11:19:07 Moving "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207140\\my-task-caches\\bananas" to "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\caches\\Q7lSFOEdRMmXZULgG7SaWQ"
2017/02/04 11:19:07 Moving "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207140\\my-task-caches\\tomatoes" to "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\caches\\U0Imb2CbQlCt_NfZm45HdQ"
2017/02/04 11:19:07 Moving "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207140\\my-task-caches\\devtools-app" to "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\caches\\cvXe3thMRIuDobR2uzfASA"
2017/02/04 11:19:07 Redirecting live.log to live_backing.log
2017/02/04 11:19:07 Uploading artifact: public/logs/live.log
2017/02/04 11:19:08 Uploading artifact: public/logs/live_backing.log
2017/02/04 11:19:08 Request
2017/02/04 11:19:08 PUT /IRU2vN5BTDOrFLc3vAZYAg/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208959&Signature=baoW4LFKCEj9UofekVmkLPA8aNY%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 768
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:19:09 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/IRU2vN5BTDOrFLc3vAZYAg/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208959&Signature=baoW4LFKCEj9UofekVmkLPA8aNY%3D
2017/02/04 11:19:09 Response
2017/02/04 11:19:09 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:19:10 GMT
Etag: "0f5fbb0e221653d91997dc151bf58aa2"
Server: AmazonS3
X-Amz-Id-2: A+/5o5WONevZQwwh6lO+EJH8u9K6tQIzphycHrENW4neQ23c+2HNZEEWEapXdbaqNjYwJcpMn7I=
X-Amz-Request-Id: 41D9E449DF7570FE
X-Amz-Version-Id: 7ncSTwsyNta4H7Xc6VFM6FuW9gY7LQ4c

2017/02/04 11:19:09 Resolving task...
2017/02/04 11:19:09 Command finished successfully!
2017/02/04 11:19:09 No previous task user desktop, so no need to close any open desktops
--- PASS: TestMounts (10.17s)
=== RUN   TestMissingScopes
2017/02/04 11:19:10 Detected windows platform
2017/02/04 11:19:10 No previous task user desktop, so no need to close any open desktops
2017/02/04 11:19:11 Refreshing signed urls in 24m50.8782s
2017/02/04 11:19:11   Priority (1) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-6b6gagcns75mzzgk6j6ai7oc-5/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A49%3A12Z&sp=p&spr=https&sig=pZWEMEt5HOJJ8ocAEPSeZhHqjkRAtm2UnJCTQoGb%2FSU%3D&st=2017-02-04T11%3A04%3A12Z
2017/02/04 11:19:11   Priority (1) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-6b6gagcns75mzzgk6j6ai7oc-5/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A12Z&sp=p&spr=https&sig=pZWEMEt5HOJJ8ocAEPSeZhHqjkRAtm2UnJCTQoGb%2FSU%3D&st=2017-02-04T11%3A04%3A12Z
2017/02/04 11:19:11   Priority (2) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-6b6gagcns75mzzgk6j6ai7oc-1/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A49%3A12Z&sp=p&spr=https&sig=KzZj1ersT8JAD2Oq5TFQAp3MDfZQghGHrlmudWMJ8M8%3D&st=2017-02-04T11%3A04%3A12Z
2017/02/04 11:19:11   Priority (2) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-6b6gagcns75mzzgk6j6ai7oc-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A12Z&sp=p&spr=https&sig=KzZj1ersT8JAD2Oq5TFQAp3MDfZQghGHrlmudWMJ8M8%3D&st=2017-02-04T11%3A04%3A12Z
2017/02/04 11:19:11 Task found
2017/02/04 11:19:11 Claiming task dn1000pPT42tP2BOUJLrYg...
2017/02/04 11:19:11 Deleting task dn1000pPT42tP2BOUJLrYg from Azure queue...
2017/02/04 11:19:12 Successfully deleted task from azure queue (delete url: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-6b6gagcns75mzzgk6j6ai7oc-1/messages/06b3f51a-2725-477a-987b-bdbc69368e8b?popreceipt=AgAAAAMAAAAAAAAA10ubNdl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A49%3A12Z&sp=p&spr=https&sig=KzZj1ersT8JAD2Oq5TFQAp3MDfZQghGHrlmudWMJ8M8%3D&st=2017-02-04T11%3A04%3A12Z) with http response code 204.
2017/02/04 11:19:12 Setting reclaim timer...
2017/02/04 11:19:12 Current claim will expire at 2017-02-04 11:39:12.613 +0000 UTC
2017/02/04 11:19:12 Reclaiming 3 mins earlier, at 2017-02-04 11:36:12.613 +0000 UTC
2017/02/04 11:19:12 Time to wait until then is 17m0.5792s
2017/02/04 11:19:12 This is more than 30 seconds away - so setting a timer
2017/02/04 11:19:12 JSON payload: {
      "command": [
        "echo hello world!",
        "echo goodbye world!"
      ],
      "features": {},
      "maxRunTime": 180,
      "mounts": [
        {
          "content": {
            "taskId": "KTBKfEgxR5GdfIIREQIvFQ",
            "artifact": "SampleArtifacts/_/X.txt"
          },
          "file": "preloaded\\Mr X.txt"
        },
        {
          "cacheName": "banana-cache",
          "directory": "my-task-caches\\bananas"
        }
      ]
    }
2017/02/04 11:19:12 Running task https://tools.taskcluster.net/task-inspector/#dn1000pPT42tP2BOUJLrYg/0
2017/02/04 11:19:12 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207151\command_000000_wrapper.bat
2017/02/04 11:19:12 Deadline: 2017-02-04 11:22:12.0348 +0000 GMT
2017/02/04 11:19:12 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207151\command_000000_wrapper.bat
2017/02/04 11:19:12 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207151\command_000001_wrapper.bat
2017/02/04 11:19:12 Deadline: 2017-02-04 11:22:12.0348 +0000 GMT
2017/02/04 11:19:12 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207151\command_000001_wrapper.bat
2017/02/04 11:19:12 Uploading artifact: public/logs/live_backing.log
2017/02/04 11:19:12 Request
2017/02/04 11:19:12 PUT /dn1000pPT42tP2BOUJLrYg/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208963&Signature=tm8ZrWLbV4qgL5kbCd8wLZxYH6U%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 298
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:19:12 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/dn1000pPT42tP2BOUJLrYg/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208963&Signature=tm8ZrWLbV4qgL5kbCd8wLZxYH6U%3D
2017/02/04 11:19:12 Response
2017/02/04 11:19:12 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:19:14 GMT
Etag: "3923a5697e83260fccb9e49c82a3b5bb"
Server: AmazonS3
X-Amz-Id-2: radJnDIXCu2usC2aWBXHfjIREqxhPWLjnrLi1nm737UGGpp9KI307ohdEFj0OVXF9muJs25W1Mc=
X-Amz-Request-Id: C34E5999F765F9A1
X-Amz-Version-Id: 0n1qOpxDZNVNBcYWiLg7r1DMHZgqkFbz

2017/02/04 11:19:12 Resolving task...
2017/02/04 11:19:13 Task Id:                 dn1000pPT42tP2BOUJLrYg
Run Id:                  0
Run Id (Task Claim):     0
Message Id:              06b3f51a-2725-477a-987b-bdbc69368e8b
Insertion Time:          2017-02-04 11:19:11 +0000 GMT
Expiration Time:         2017-02-04 11:34:08 +0000 GMT
Dequeue Count:           1
Pop Receipt:             AgAAAAMAAAAAAAAA10ubNdl+0gE=
Time Next Visible:       2017-02-04 11:24:11 +0000 GMT
Message Text:            eyJ0YXNrSWQiOiJkbjEwMDBwUFQ0MnRQMkJPVUpMcllnIiwicnVuSWQiOjAsImhpbnRJZCI6Ild3SXhvUVgwVEwtRjN4b2RSREptbWcifQ==
Run 0:
  Reason Created:        scheduled
  Reason Resolved:       malformed-payload
  Resolved:              2017-02-04T11:19:13.742Z
  Run Id:                0
  Scheduled:             2017-02-04T11:19:10.965Z
  Started:               2017-02-04T11:19:12.693Z
  State:                 exception
  Taken Until:           2017-02-04T11:39:12.613Z
  Worker Group:          test-worker-group
  Worker Id:             test-worker-id
==========================================
Status Deadline:         2017-02-04T11:34:09.000Z
Status Provisioner Id:   test-provisioner
Status Retries Left:     1
Status Scheduler Id:     test-scheduler
Status State:            exception
Status Task Group Id:    FhPR-atdTsKfoAO_doDqGA
Status Task Id:          dn1000pPT42tP2BOUJLrYg
Status Worker Type:      b2IFwIceSTu9De_b5XiWlw
Taken Until:             2017-02-04T11:39:12.613Z
Worker Group:            test-worker-group
Worker Id:               test-worker-id
==========================================
Signed Poll URL:         https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-6b6gagcns75mzzgk6j6ai7oc-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A12Z&sp=p&spr=https&sig=KzZj1ersT8JAD2Oq5TFQAp3MDfZQghGHrlmudWMJ8M8%3D&st=2017-02-04T11%3A04%3A12Z
Signed Delete URL:       https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-6b6gagcns75mzzgk6j6ai7oc-1/messages/06b3f51a-2725-477a-987b-bdbc69368e8b?popreceipt=AgAAAAMAAAAAAAAA10ubNdl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A49%3A12Z&sp=p&spr=https&sig=KzZj1ersT8JAD2Oq5TFQAp3MDfZQghGHrlmudWMJ8M8%3D&st=2017-02-04T11%3A04%3A12Z
==========================================
Created:                 2017-02-04T11:19:09.000Z
Deadline:                2017-02-04T11:34:09.000Z
Expires:                 2017-02-05T11:19:09.000Z
Extra:                   {}
Metadata:                {Test task [TC] TestUpload pmoore@mozilla.com https://github.com/taskcluster/generic-worker/blob/master/artifacts_test.go}
Payload:                 {
      "command": [
        "echo hello world!",
        "echo goodbye world!"
      ],
      "features": {},
      "maxRunTime": 180,
      "mounts": [
        {
          "content": {
            "taskId": "KTBKfEgxR5GdfIIREQIvFQ",
            "artifact": "SampleArtifacts/_/X.txt"
          },
          "file": "preloaded\\Mr X.txt"
        },
        {
          "cacheName": "banana-cache",
          "directory": "my-task-caches\\bananas"
        }
      ]
    }
Provisioner Id:          test-provisioner
Retries:                 1
Routes:                  []string{}
SchedulerId:             test-scheduler
Scopes:                  []string{}
Tags:                    {
      "createdForUser": "pmoore@mozilla.com"
    }
Task Group Id:           FhPR-atdTsKfoAO_doDqGA
Worker Type:             b2IFwIceSTu9De_b5XiWlw
==========================================
Artifacts:               []
Command:                 []string{"echo hello world!", "echo goodbye world!"}
Env:                     json.RawMessage(nil)
Max Run Time:            180
==========================================
2017/02/04 11:19:13 ERROR encountered: Task not successful due to following exception(s):
Exception 1)
Feature "Mounts/Caches" requires scopes:

queue:get-artifact:SampleArtifacts/_/X.txt, and
generic-worker:cache:banana-cache

but task only has scopes:

<no scopes>

You probably should add some scopes to your task definition.
2017/02/04 11:19:13 No previous task user desktop, so no need to close any open desktops
--- PASS: TestMissingScopes (3.56s)
=== RUN   TestCachesCanBeModified
2017/02/04 11:19:15 Detected windows platform
2017/02/04 11:19:15 No previous task user desktop, so no need to close any open desktops
2017/02/04 11:19:15 Refreshing signed urls in 24m50.8762s
2017/02/04 11:19:15   Priority (1) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-uhyveakpppgeqcw4ynqehyxa-5/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A49%3A16Z&sp=p&spr=https&sig=i%2Bn%2BPX235F2HpCbx0gGEw6qL6igixczLTJHdoCrz51A%3D&st=2017-02-04T11%3A04%3A16Z
2017/02/04 11:19:15   Priority (1) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-uhyveakpppgeqcw4ynqehyxa-5/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A16Z&sp=p&spr=https&sig=i%2Bn%2BPX235F2HpCbx0gGEw6qL6igixczLTJHdoCrz51A%3D&st=2017-02-04T11%3A04%3A16Z
2017/02/04 11:19:15   Priority (2) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-uhyveakpppgeqcw4ynqehyxa-1/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A49%3A16Z&sp=p&spr=https&sig=gpBec7XSS3tFO8tnc8%2BzwvmtjDBTlJCVINgJ2dN%2Bs8E%3D&st=2017-02-04T11%3A04%3A16Z
2017/02/04 11:19:15   Priority (2) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-uhyveakpppgeqcw4ynqehyxa-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A16Z&sp=p&spr=https&sig=gpBec7XSS3tFO8tnc8%2BzwvmtjDBTlJCVINgJ2dN%2Bs8E%3D&st=2017-02-04T11%3A04%3A16Z
2017/02/04 11:19:15 Task found
2017/02/04 11:19:15 Claiming task PfNKX5iwSPmIHBRUhV8Hqw...
2017/02/04 11:19:16 Deleting task PfNKX5iwSPmIHBRUhV8Hqw from Azure queue...
2017/02/04 11:19:16 Successfully deleted task from azure queue (delete url: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-uhyveakpppgeqcw4ynqehyxa-1/messages/f4dbc827-bab6-41be-8b22-18ab177259c9?popreceipt=AgAAAAMAAAAAAAAAafQjONl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A49%3A16Z&sp=p&spr=https&sig=gpBec7XSS3tFO8tnc8%2BzwvmtjDBTlJCVINgJ2dN%2Bs8E%3D&st=2017-02-04T11%3A04%3A16Z) with http response code 204.
2017/02/04 11:19:16 Setting reclaim timer...
2017/02/04 11:19:16 Current claim will expire at 2017-02-04 11:39:16.842 +0000 UTC
2017/02/04 11:19:16 Reclaiming 3 mins earlier, at 2017-02-04 11:36:16.842 +0000 UTC
2017/02/04 11:19:16 Time to wait until then is 17m0.5782s
2017/02/04 11:19:16 This is more than 30 seconds away - so setting a timer
2017/02/04 11:19:16 JSON payload: {
      "command": [
        "\n\t\tsetlocal EnableDelayedExpansion\n\t\tif exist my-task-caches\\test-modifications\\counter (\n\t\t  set /p counter=<my-task-caches\\test-modifications\\counter\n\t\t  set /a counter=counter+1\n\t\t  echo | set /p dummyName=\"!counter!\" > my-task-caches\\test-modifications\\counter\n\t\t) else (\n\t\t  echo | set /p dummyName=\"1\" > my-task-caches\\test-modifications\\counter\n\t\t)\n"
      ],
      "features": {},
      "maxRunTime": 20,
      "mounts": [
        {
          "cacheName": "test-modifications",
          "directory": "my-task-caches\\test-modifications"
        }
      ]
    }
2017/02/04 11:19:16 Running task https://tools.taskcluster.net/task-inspector/#PfNKX5iwSPmIHBRUhV8Hqw/0
2017/02/04 11:19:16 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207155\command_000000_wrapper.bat
2017/02/04 11:19:16 Deadline: 2017-02-04 11:19:36.2668 +0000 GMT
2017/02/04 11:19:16 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207155\command_000000_wrapper.bat
2017/02/04 11:19:16 Uploading artifact: public/logs/live.log
2017/02/04 11:19:16 Disk available: 84842745856 bytes
2017/02/04 11:19:16 Executing command 0: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207155\command_000000_wrapper.bat
2017/02/04 11:19:16 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207155\\command_000000.bat":
2017/02/04 11:19:16 Contents:
2017/02/04 11:19:16 @echo on

		setlocal EnableDelayedExpansion
		if exist my-task-caches\test-modifications\counter (
		  set /p counter=<my-task-caches\test-modifications\counter
		  set /a counter=counter+1
		  echo | set /p dummyName="!counter!" > my-task-caches\test-modifications\counter
		) else (
		  echo | set /p dummyName="1" > my-task-caches\test-modifications\counter
		)
2017/02/04 11:19:16 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:19:16   Result: 18
2017/02/04 11:19:16 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:19:16   Result: 1B
2017/02/04 11:19:16 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:19:16   Result: 1801B
2017/02/04 11:19:16 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:19:16   Result: 1B01B
2017/02/04 11:19:16 Making system call VerifyVersionInfoW with args: [11DA8000 33 1B01B 80000000]
2017/02/04 11:19:16   Result: 0
2017/02/04 11:19:16 Making system call CreateProcessW with args: [0 11E5C410 0 0 1 1000614 0 11C94140 120543C0 11FAC610]
2017/02/04 11:19:16   Result: 1
time="2017-02-04T11:19:16Z" level=info msg="processInfo: 0x11e40200" 
2017/02/04 11:19:16 Making system call SetPriorityClass with args: [530 8000]
2017/02/04 11:19:16   Result: 1
2017/02/04 11:19:16 Making system call ResumeThread with args: [52C]
2017/02/04 11:19:16   Result: 1
2017/02/04 11:19:16 Making system call GetProcessMemoryInfo with args: [530 12174330 2C]
2017/02/04 11:19:16   Result: 1
2017/02/04 11:19:16 Making system call CloseHandle with args: [530]
2017/02/04 11:19:16   Result: 0
2017/02/04 11:19:16 Error when closing handle: The handle is invalid.
2017/02/04 11:19:16 Moving "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207155\\my-task-caches\\test-modifications" to "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\caches\\X1XMnRf3TcyDahQWfLrUSw"
2017/02/04 11:19:16 Redirecting live.log to live_backing.log
2017/02/04 11:19:16 Uploading artifact: public/logs/live.log
2017/02/04 11:19:17 Uploading artifact: public/logs/live_backing.log
2017/02/04 11:19:17 Request
2017/02/04 11:19:17 PUT /PfNKX5iwSPmIHBRUhV8Hqw/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208968&Signature=MbnXhuAEp6JvoZ1abK13aNGjOpU%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 774
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:19:17 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/PfNKX5iwSPmIHBRUhV8Hqw/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208968&Signature=MbnXhuAEp6JvoZ1abK13aNGjOpU%3D
2017/02/04 11:19:17 Response
2017/02/04 11:19:17 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:19:19 GMT
Etag: "5206a5d1df4ba235f12c231cf5c2d347"
Server: AmazonS3
X-Amz-Id-2: uPAiytTxdO28GDEOQYhh0zMjrLq7qOC8qhfuV6Dl/2FDjwHkOyN2D/WNl5Vu138DUUxpPQ65+i8=
X-Amz-Request-Id: B74C27AAEDCC4A82
X-Amz-Version-Id: vsEq2Eb1ZNgu33PVxxkmLQpsK7e2M5j5

2017/02/04 11:19:17 Resolving task...
2017/02/04 11:19:17 Command finished successfully!
2017/02/04 11:19:18 No previous task user desktop, so no need to close any open desktops
2017/02/04 11:19:18 Task found
2017/02/04 11:19:18 Claiming task Lz-ISyT_QhWkAwZ4xPrBiQ...
2017/02/04 11:19:18 Deleting task Lz-ISyT_QhWkAwZ4xPrBiQ from Azure queue...
2017/02/04 11:19:18 Successfully deleted task from azure queue (delete url: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-uhyveakpppgeqcw4ynqehyxa-1/messages/35645087-e221-42ba-8ac2-f43c849ff7a3?popreceipt=AgAAAAMAAAAAAAAA4uSyOdl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A49%3A16Z&sp=p&spr=https&sig=gpBec7XSS3tFO8tnc8%2BzwvmtjDBTlJCVINgJ2dN%2Bs8E%3D&st=2017-02-04T11%3A04%3A16Z) with http response code 204.
2017/02/04 11:19:18 Setting reclaim timer...
2017/02/04 11:19:18 Current claim will expire at 2017-02-04 11:39:19.475 +0000 UTC
2017/02/04 11:19:18 Reclaiming 3 mins earlier, at 2017-02-04 11:36:19.475 +0000 UTC
2017/02/04 11:19:18 Time to wait until then is 17m0.5772s
2017/02/04 11:19:18 This is more than 30 seconds away - so setting a timer
2017/02/04 11:19:18 JSON payload: {
      "command": [
        "\n\t\tsetlocal EnableDelayedExpansion\n\t\tif exist my-task-caches\\test-modifications\\counter (\n\t\t  set /p counter=<my-task-caches\\test-modifications\\counter\n\t\t  set /a counter=counter+1\n\t\t  echo | set /p dummyName=\"!counter!\" > my-task-caches\\test-modifications\\counter\n\t\t) else (\n\t\t  echo | set /p dummyName=\"1\" > my-task-caches\\test-modifications\\counter\n\t\t)\n"
      ],
      "features": {},
      "maxRunTime": 20,
      "mounts": [
        {
          "cacheName": "test-modifications",
          "directory": "my-task-caches\\test-modifications"
        }
      ]
    }
2017/02/04 11:19:18 Running task https://tools.taskcluster.net/task-inspector/#Lz-ISyT_QhWkAwZ4xPrBiQ/0
2017/02/04 11:19:18 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207158\command_000000_wrapper.bat
2017/02/04 11:19:18 Deadline: 2017-02-04 11:19:38.8988 +0000 GMT
2017/02/04 11:19:18 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207158\command_000000_wrapper.bat
2017/02/04 11:19:18 Uploading artifact: public/logs/live.log
2017/02/04 11:19:19 Disk available: 84842741760 bytes
2017/02/04 11:19:19 Executing command 0: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207158\command_000000_wrapper.bat
2017/02/04 11:19:19 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207158\\command_000000.bat":
2017/02/04 11:19:19 Contents:
2017/02/04 11:19:19 @echo on

		setlocal EnableDelayedExpansion
		if exist my-task-caches\test-modifications\counter (
		  set /p counter=<my-task-caches\test-modifications\counter
		  set /a counter=counter+1
		  echo | set /p dummyName="!counter!" > my-task-caches\test-modifications\counter
		) else (
		  echo | set /p dummyName="1" > my-task-caches\test-modifications\counter
		)
2017/02/04 11:19:19 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:19:19   Result: 18
2017/02/04 11:19:19 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:19:19   Result: 1B
2017/02/04 11:19:19 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:19:19   Result: 1801B
2017/02/04 11:19:19 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:19:19   Result: 1B01B
2017/02/04 11:19:19 Making system call VerifyVersionInfoW with args: [11E4EB40 33 1B01B 80000000]
2017/02/04 11:19:19   Result: 0
2017/02/04 11:19:19 Making system call CreateProcessW with args: [0 11F76C30 0 0 1 1000614 0 11E5FCC0 11E99180 12136230]
2017/02/04 11:19:19   Result: 1
time="2017-02-04T11:19:19Z" level=info msg="processInfo: 0x11f97520" 
2017/02/04 11:19:19 Making system call SetPriorityClass with args: [540 8000]
2017/02/04 11:19:19   Result: 1
2017/02/04 11:19:19 Making system call ResumeThread with args: [544]
2017/02/04 11:19:19   Result: 1
2017/02/04 11:19:19 Making system call GetProcessMemoryInfo with args: [540 11ED2720 2C]
2017/02/04 11:19:19   Result: 1
2017/02/04 11:19:19 Making system call CloseHandle with args: [540]
2017/02/04 11:19:19   Result: 0
2017/02/04 11:19:19 Error when closing handle: The handle is invalid.
2017/02/04 11:19:19 Moving "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207158\\my-task-caches\\test-modifications" to "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\caches\\X1XMnRf3TcyDahQWfLrUSw"
2017/02/04 11:19:19 Redirecting live.log to live_backing.log
2017/02/04 11:19:19 Uploading artifact: public/logs/live.log
2017/02/04 11:19:19 Uploading artifact: public/logs/live_backing.log
2017/02/04 11:19:20 Request
2017/02/04 11:19:20 PUT /Lz-ISyT_QhWkAwZ4xPrBiQ/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208971&Signature=0L6FgVb6dVFR3ROqGOxx7G7LMLU%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 764
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:19:20 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/Lz-ISyT_QhWkAwZ4xPrBiQ/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208971&Signature=0L6FgVb6dVFR3ROqGOxx7G7LMLU%3D
2017/02/04 11:19:20 Response
2017/02/04 11:19:20 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:19:22 GMT
Etag: "6ab68c952b2802356ab8f07145dc164a"
Server: AmazonS3
X-Amz-Id-2: wmqFEcSPfIoSl/UlFWqj5G8u663Swsy83xotcb35eg1LnliU1t89mS27yURuVoQ1c5h5M+hyiKQ=
X-Amz-Request-Id: 08BEA752DB628ECA
X-Amz-Version-Id: r7Gx7b29JZeWjUOSTeiocr1tkHqPVImB

2017/02/04 11:19:20 Resolving task...
2017/02/04 11:19:20 Command finished successfully!
2017/02/04 11:19:20 No previous task user desktop, so no need to close any open desktops
2017/02/04 11:19:21 Task found
2017/02/04 11:19:21 Claiming task eTogJIUhQAuM3atC4JwOpQ...
2017/02/04 11:19:21 Deleting task eTogJIUhQAuM3atC4JwOpQ from Azure queue...
2017/02/04 11:19:21 Successfully deleted task from azure queue (delete url: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-uhyveakpppgeqcw4ynqehyxa-1/messages/7a4d9c9e-e774-46db-85b2-71a30bc844b9?popreceipt=AgAAAAMAAAAAAAAAnKpDO9l%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A49%3A16Z&sp=p&spr=https&sig=gpBec7XSS3tFO8tnc8%2BzwvmtjDBTlJCVINgJ2dN%2Bs8E%3D&st=2017-02-04T11%3A04%3A16Z) with http response code 204.
2017/02/04 11:19:21 Setting reclaim timer...
2017/02/04 11:19:21 Current claim will expire at 2017-02-04 11:39:22.106 +0000 UTC
2017/02/04 11:19:21 Reclaiming 3 mins earlier, at 2017-02-04 11:36:22.106 +0000 UTC
2017/02/04 11:19:21 Time to wait until then is 17m0.5992s
2017/02/04 11:19:21 This is more than 30 seconds away - so setting a timer
2017/02/04 11:19:21 JSON payload: {
      "command": [
        "\n\t\tsetlocal EnableDelayedExpansion\n\t\tif exist my-task-caches\\test-modifications\\counter (\n\t\t  set /p counter=<my-task-caches\\test-modifications\\counter\n\t\t  set /a counter=counter+1\n\t\t  echo | set /p dummyName=\"!counter!\" > my-task-caches\\test-modifications\\counter\n\t\t) else (\n\t\t  echo | set /p dummyName=\"1\" > my-task-caches\\test-modifications\\counter\n\t\t)\n"
      ],
      "features": {},
      "maxRunTime": 20,
      "mounts": [
        {
          "cacheName": "test-modifications",
          "directory": "my-task-caches\\test-modifications"
        }
      ]
    }
2017/02/04 11:19:21 Running task https://tools.taskcluster.net/task-inspector/#eTogJIUhQAuM3atC4JwOpQ/0
2017/02/04 11:19:21 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207160\command_000000_wrapper.bat
2017/02/04 11:19:21 Deadline: 2017-02-04 11:19:41.5068 +0000 GMT
2017/02/04 11:19:21 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207160\command_000000_wrapper.bat
2017/02/04 11:19:21 Uploading artifact: public/logs/live.log
2017/02/04 11:19:21 Disk available: 84842737664 bytes
2017/02/04 11:19:22 Executing command 0: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207160\command_000000_wrapper.bat
2017/02/04 11:19:22 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207160\\command_000000.bat":
2017/02/04 11:19:22 Contents:
2017/02/04 11:19:22 @echo on

		setlocal EnableDelayedExpansion
		if exist my-task-caches\test-modifications\counter (
		  set /p counter=<my-task-caches\test-modifications\counter
		  set /a counter=counter+1
		  echo | set /p dummyName="!counter!" > my-task-caches\test-modifications\counter
		) else (
		  echo | set /p dummyName="1" > my-task-caches\test-modifications\counter
		)
2017/02/04 11:19:22 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:19:22   Result: 18
2017/02/04 11:19:22 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:19:22   Result: 1B
2017/02/04 11:19:22 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:19:22   Result: 1801B
2017/02/04 11:19:22 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:19:22   Result: 1B01B
2017/02/04 11:19:22 Making system call VerifyVersionInfoW with args: [11E4E000 33 1B01B 80000000]
2017/02/04 11:19:22   Result: 0
2017/02/04 11:19:22 Making system call CreateProcessW with args: [0 11F76410 0 0 1 1000614 0 11C94140 11C2E6E0 11FAC300]
2017/02/04 11:19:22   Result: 1
time="2017-02-04T11:19:22Z" level=info msg="processInfo: 0x11f0a098" 
2017/02/04 11:19:22 Making system call SetPriorityClass with args: [4FC 8000]
2017/02/04 11:19:22   Result: 1
2017/02/04 11:19:22 Making system call ResumeThread with args: [534]
2017/02/04 11:19:22   Result: 1
2017/02/04 11:19:22 Making system call GetProcessMemoryInfo with args: [4FC 11D46210 2C]
2017/02/04 11:19:22   Result: 1
2017/02/04 11:19:22 Making system call CloseHandle with args: [4FC]
2017/02/04 11:19:22   Result: 0
2017/02/04 11:19:22 Error when closing handle: The handle is invalid.
2017/02/04 11:19:22 Moving "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207160\\my-task-caches\\test-modifications" to "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\caches\\X1XMnRf3TcyDahQWfLrUSw"
2017/02/04 11:19:22 Redirecting live.log to live_backing.log
2017/02/04 11:19:22 Uploading artifact: public/logs/live.log
2017/02/04 11:19:22 Uploading artifact: public/logs/live_backing.log
2017/02/04 11:19:22 Request
2017/02/04 11:19:22 PUT /eTogJIUhQAuM3atC4JwOpQ/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208973&Signature=CU1Z3iQBWwLbYlpIrA%2Fwzh1p2vg%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 774
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:19:23 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/eTogJIUhQAuM3atC4JwOpQ/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208973&Signature=CU1Z3iQBWwLbYlpIrA%2Fwzh1p2vg%3D
2017/02/04 11:19:23 Response
2017/02/04 11:19:23 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:19:24 GMT
Etag: "bb1ad63dfdf2a5a0d73444f1b2c8e023"
Server: AmazonS3
X-Amz-Id-2: d49uBLQyrNNfulV1gSK90wjSO96FSebHiyKRW4qLxoy0AEdOWeoFdApBU/o173ZimSC/mwR32hs=
X-Amz-Request-Id: CD0B5184030A58DA
X-Amz-Version-Id: ZwpfiOhX_FWC4VDzP7uXsv0KouBHShp3

2017/02/04 11:19:23 Resolving task...
2017/02/04 11:19:23 Command finished successfully!
2017/02/04 11:19:23 No previous task user desktop, so no need to close any open desktops
--- PASS: TestCachesCanBeModified (10.20s)
=== RUN   Test32BitOverflow
--- PASS: Test32BitOverflow (0.00s)
=== RUN   TestMissingScopesOSGroups
2017/02/04 11:19:24 Detected windows platform
2017/02/04 11:19:24 No previous task user desktop, so no need to close any open desktops
2017/02/04 11:19:24 Refreshing signed urls in 24m50.8632s
2017/02/04 11:19:24   Priority (1) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-fa7gezk6n767bhmshovi2a3l-5/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A49%3A25Z&sp=p&spr=https&sig=lMTjsODwMcYr9mT9Diwler1ApPD6XzxjehDVH%2BKb5sY%3D&st=2017-02-04T11%3A04%3A25Z
2017/02/04 11:19:24   Priority (1) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-fa7gezk6n767bhmshovi2a3l-5/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A25Z&sp=p&spr=https&sig=lMTjsODwMcYr9mT9Diwler1ApPD6XzxjehDVH%2BKb5sY%3D&st=2017-02-04T11%3A04%3A25Z
2017/02/04 11:19:24   Priority (2) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-fa7gezk6n767bhmshovi2a3l-1/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A49%3A25Z&sp=p&spr=https&sig=1M%2FfB5nTDFlCuCrxThVR6t7bpPaoqxjU%2FmRyDDrbe6o%3D&st=2017-02-04T11%3A04%3A25Z
2017/02/04 11:19:24   Priority (2) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-fa7gezk6n767bhmshovi2a3l-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A25Z&sp=p&spr=https&sig=1M%2FfB5nTDFlCuCrxThVR6t7bpPaoqxjU%2FmRyDDrbe6o%3D&st=2017-02-04T11%3A04%3A25Z
2017/02/04 11:19:24 Task found
2017/02/04 11:19:24 Claiming task YNUjP8qRRFySeWvkSaeu5g...
2017/02/04 11:19:25 Deleting task YNUjP8qRRFySeWvkSaeu5g from Azure queue...
2017/02/04 11:19:25 Successfully deleted task from azure queue (delete url: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-fa7gezk6n767bhmshovi2a3l-1/messages/68cfaf87-7313-49f6-9fdc-8fc2e08093f6?popreceipt=AgAAAAMAAAAAAAAAwoxjPdl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A49%3A25Z&sp=p&spr=https&sig=1M%2FfB5nTDFlCuCrxThVR6t7bpPaoqxjU%2FmRyDDrbe6o%3D&st=2017-02-04T11%3A04%3A25Z) with http response code 204.
2017/02/04 11:19:25 Setting reclaim timer...
2017/02/04 11:19:25 Current claim will expire at 2017-02-04 11:39:25.692 +0000 UTC
2017/02/04 11:19:25 Reclaiming 3 mins earlier, at 2017-02-04 11:36:25.692 +0000 UTC
2017/02/04 11:19:25 Time to wait until then is 17m0.5602s
2017/02/04 11:19:25 This is more than 30 seconds away - so setting a timer
2017/02/04 11:19:25 JSON payload: {
      "command": [
        "echo hello world!",
        "echo goodbye world!"
      ],
      "features": {},
      "maxRunTime": 1,
      "osGroups": [
        "abc",
        "def"
      ]
    }
2017/02/04 11:19:25 Running task https://tools.taskcluster.net/task-inspector/#YNUjP8qRRFySeWvkSaeu5g/0
2017/02/04 11:19:25 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207164\command_000000_wrapper.bat
2017/02/04 11:19:25 Deadline: 2017-02-04 11:19:26.1338 +0000 GMT
2017/02/04 11:19:25 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207164\command_000000_wrapper.bat
2017/02/04 11:19:25 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207164\command_000001_wrapper.bat
2017/02/04 11:19:25 Deadline: 2017-02-04 11:19:26.1338 +0000 GMT
2017/02/04 11:19:25 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207164\command_000001_wrapper.bat
2017/02/04 11:19:25 Uploading artifact: public/logs/live_backing.log
2017/02/04 11:19:25 Request
2017/02/04 11:19:25 PUT /YNUjP8qRRFySeWvkSaeu5g/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208976&Signature=%2Bh0cqLCHv7iK%2BFdGs0GsokJcfkc%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 269
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:19:25 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/YNUjP8qRRFySeWvkSaeu5g/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208976&Signature=%2Bh0cqLCHv7iK%2BFdGs0GsokJcfkc%3D
2017/02/04 11:19:25 Response
2017/02/04 11:19:25 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:19:27 GMT
Etag: "e31658348d2627e06b16bbfe409249d9"
Server: AmazonS3
X-Amz-Id-2: m144k71vnH3JdI7ebQ+dIehHehuH9E2lHHgEsKn3IremS5bEZTcrooc/R2kTEEK8911FdOlHQRU=
X-Amz-Request-Id: 544D34C5D50B6610
X-Amz-Version-Id: 3_UFszWSR4fTGAjxuyxsUHal4nPZcg8P

2017/02/04 11:19:25 Resolving task...
2017/02/04 11:19:26 Task Id:                 YNUjP8qRRFySeWvkSaeu5g
Run Id:                  0
Run Id (Task Claim):     0
Message Id:              68cfaf87-7313-49f6-9fdc-8fc2e08093f6
Insertion Time:          2017-02-04 11:19:24 +0000 GMT
Expiration Time:         2017-02-04 11:34:21 +0000 GMT
Dequeue Count:           1
Pop Receipt:             AgAAAAMAAAAAAAAAwoxjPdl+0gE=
Time Next Visible:       2017-02-04 11:24:25 +0000 GMT
Message Text:            eyJ0YXNrSWQiOiJZTlVqUDhxUlJGeVNlV3ZrU2FldTVnIiwicnVuSWQiOjAsImhpbnRJZCI6IkdIM2xqVzhIUTZXV0lwcVliM3BTVlEifQ==
Run 0:
  Reason Created:        scheduled
  Reason Resolved:       malformed-payload
  Resolved:              2017-02-04T11:19:26.656Z
  Run Id:                0
  Scheduled:             2017-02-04T11:19:24.712Z
  Started:               2017-02-04T11:19:25.770Z
  State:                 exception
  Taken Until:           2017-02-04T11:39:25.692Z
  Worker Group:          test-worker-group
  Worker Id:             test-worker-id
==========================================
Status Deadline:         2017-02-04T11:34:23.000Z
Status Provisioner Id:   test-provisioner
Status Retries Left:     1
Status Scheduler Id:     test-scheduler
Status State:            exception
Status Task Group Id:    FhPR-atdTsKfoAO_doDqGA
Status Task Id:          YNUjP8qRRFySeWvkSaeu5g
Status Worker Type:      GLIGyf3TTd-nR7rEggx_JA
Taken Until:             2017-02-04T11:39:25.692Z
Worker Group:            test-worker-group
Worker Id:               test-worker-id
==========================================
Signed Poll URL:         https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-fa7gezk6n767bhmshovi2a3l-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A25Z&sp=p&spr=https&sig=1M%2FfB5nTDFlCuCrxThVR6t7bpPaoqxjU%2FmRyDDrbe6o%3D&st=2017-02-04T11%3A04%3A25Z
Signed Delete URL:       https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-fa7gezk6n767bhmshovi2a3l-1/messages/68cfaf87-7313-49f6-9fdc-8fc2e08093f6?popreceipt=AgAAAAMAAAAAAAAAwoxjPdl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A49%3A25Z&sp=p&spr=https&sig=1M%2FfB5nTDFlCuCrxThVR6t7bpPaoqxjU%2FmRyDDrbe6o%3D&st=2017-02-04T11%3A04%3A25Z
==========================================
Created:                 2017-02-04T11:19:23.000Z
Deadline:                2017-02-04T11:34:23.000Z
Expires:                 2017-02-05T11:19:23.000Z
Extra:                   {}
Metadata:                {Test task [TC] TestUpload pmoore@mozilla.com https://github.com/taskcluster/generic-worker/blob/master/artifacts_test.go}
Payload:                 {
      "command": [
        "echo hello world!",
        "echo goodbye world!"
      ],
      "features": {},
      "maxRunTime": 1,
      "osGroups": [
        "abc",
        "def"
      ]
    }
Provisioner Id:          test-provisioner
Retries:                 1
Routes:                  []string{}
SchedulerId:             test-scheduler
Scopes:                  []string{}
Tags:                    {
      "createdForUser": "pmoore@mozilla.com"
    }
Task Group Id:           FhPR-atdTsKfoAO_doDqGA
Worker Type:             GLIGyf3TTd-nR7rEggx_JA
==========================================
Artifacts:               []
Command:                 []string{"echo hello world!", "echo goodbye world!"}
Env:                     json.RawMessage(nil)
Max Run Time:            1
==========================================
2017/02/04 11:19:26 ERROR encountered: Task not successful due to following exception(s):
Exception 1)
Feature "OS Groups" requires scopes:

generic-worker:os-group:abc, and
generic-worker:os-group:def

but task only has scopes:

<no scopes>

You probably should add some scopes to your task definition.
2017/02/04 11:19:26 No previous task user desktop, so no need to close any open desktops
--- PASS: TestMissingScopesOSGroups (2.73s)
=== RUN   TestOSGroupsRespected
2017/02/04 11:19:26 Detected windows platform
2017/02/04 11:19:26 No previous task user desktop, so no need to close any open desktops
2017/02/04 11:19:27 Refreshing signed urls in 24m50.8772s
2017/02/04 11:19:27   Priority (1) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-uv7y3w4m2scaw6o2sh5x2aaz-5/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A49%3A27Z&sp=p&spr=https&sig=haDeEP3nh3v6Ycc9mAg9DdX12RC4rE0Vp0BfQ1vXptA%3D&st=2017-02-04T11%3A04%3A27Z
2017/02/04 11:19:27   Priority (1) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-uv7y3w4m2scaw6o2sh5x2aaz-5/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A27Z&sp=p&spr=https&sig=haDeEP3nh3v6Ycc9mAg9DdX12RC4rE0Vp0BfQ1vXptA%3D&st=2017-02-04T11%3A04%3A27Z
2017/02/04 11:19:27   Priority (2) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-uv7y3w4m2scaw6o2sh5x2aaz-1/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A49%3A27Z&sp=p&spr=https&sig=Lt48xui%2FeCbz%2FX0AAZ17szhLpqKECpqr48F6G6PPK98%3D&st=2017-02-04T11%3A04%3A27Z
2017/02/04 11:19:27   Priority (2) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-uv7y3w4m2scaw6o2sh5x2aaz-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A27Z&sp=p&spr=https&sig=Lt48xui%2FeCbz%2FX0AAZ17szhLpqKECpqr48F6G6PPK98%3D&st=2017-02-04T11%3A04%3A27Z
2017/02/04 11:19:27 Task found
2017/02/04 11:19:27 Claiming task CGWVElnlTYKQi0nD5JXrLw...
2017/02/04 11:19:27 Deleting task CGWVElnlTYKQi0nD5JXrLw from Azure queue...
2017/02/04 11:19:27 Successfully deleted task from azure queue (delete url: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-uv7y3w4m2scaw6o2sh5x2aaz-1/messages/d0873522-0c93-4c0c-8a25-0ecdf2f131ee?popreceipt=AgAAAAMAAAAAAAAA4IP5Ptl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A49%3A27Z&sp=p&spr=https&sig=Lt48xui%2FeCbz%2FX0AAZ17szhLpqKECpqr48F6G6PPK98%3D&st=2017-02-04T11%3A04%3A27Z) with http response code 204.
2017/02/04 11:19:27 Setting reclaim timer...
2017/02/04 11:19:27 Current claim will expire at 2017-02-04 11:39:28.332 +0000 UTC
2017/02/04 11:19:27 Reclaiming 3 mins earlier, at 2017-02-04 11:36:28.332 +0000 UTC
2017/02/04 11:19:27 Time to wait until then is 17m0.5852s
2017/02/04 11:19:27 This is more than 30 seconds away - so setting a timer
2017/02/04 11:19:27 JSON payload: {
      "command": [
        "echo hello world!",
        "echo goodbye world!"
      ],
      "features": {},
      "maxRunTime": 30,
      "osGroups": [
        "abc",
        "def"
      ]
    }
2017/02/04 11:19:27 Running task https://tools.taskcluster.net/task-inspector/#CGWVElnlTYKQi0nD5JXrLw/0
2017/02/04 11:19:27 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207166\command_000000_wrapper.bat
2017/02/04 11:19:27 Deadline: 2017-02-04 11:19:57.7478 +0000 GMT
2017/02/04 11:19:27 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207166\command_000000_wrapper.bat
2017/02/04 11:19:27 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207166\command_000001_wrapper.bat
2017/02/04 11:19:27 Deadline: 2017-02-04 11:19:57.7478 +0000 GMT
2017/02/04 11:19:27 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207166\command_000001_wrapper.bat
2017/02/04 11:19:27 Uploading artifact: public/logs/live.log
2017/02/04 11:19:28 Disk available: 84842729472 bytes
2017/02/04 11:19:28 Executing command 0: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207166\command_000000_wrapper.bat
2017/02/04 11:19:28 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207166\\command_000000.bat":
2017/02/04 11:19:28 Contents:
2017/02/04 11:19:28 @echo on
echo hello world!
2017/02/04 11:19:28 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:19:28   Result: 18
2017/02/04 11:19:28 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:19:28   Result: 1B
2017/02/04 11:19:28 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:19:28   Result: 1801B
2017/02/04 11:19:28 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:19:28   Result: 1B01B
2017/02/04 11:19:28 Making system call VerifyVersionInfoW with args: [1215AC60 33 1B01B 80000000]
2017/02/04 11:19:28   Result: 0
2017/02/04 11:19:28 Making system call CreateProcessW with args: [0 11E5C410 0 0 1 1000614 0 11D40140 11DBE8C0 11D04850]
2017/02/04 11:19:28   Result: 1
time="2017-02-04T11:19:28Z" level=info msg="processInfo: 0x11e401a8" 
2017/02/04 11:19:28 Making system call SetPriorityClass with args: [560 8000]
2017/02/04 11:19:28   Result: 1
2017/02/04 11:19:28 Making system call ResumeThread with args: [55C]
2017/02/04 11:19:28   Result: 1
2017/02/04 11:19:28 Making system call GetProcessMemoryInfo with args: [560 11D03E30 2C]
2017/02/04 11:19:28   Result: 1
2017/02/04 11:19:28 Making system call CloseHandle with args: [560]
2017/02/04 11:19:28   Result: 0
2017/02/04 11:19:28 Error when closing handle: The handle is invalid.
2017/02/04 11:19:28 Executing command 1: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207166\command_000001_wrapper.bat
2017/02/04 11:19:28 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207166\\command_000001.bat":
2017/02/04 11:19:28 Contents:
2017/02/04 11:19:28 @echo on
echo goodbye world!
2017/02/04 11:19:28 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:19:28   Result: 18
2017/02/04 11:19:28 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:19:28   Result: 1B
2017/02/04 11:19:28 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:19:28   Result: 1801B
2017/02/04 11:19:28 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:19:28   Result: 1B01B
2017/02/04 11:19:28 Making system call VerifyVersionInfoW with args: [121906C0 33 1B01B 80000000]
2017/02/04 11:19:28   Result: 0
2017/02/04 11:19:28 Making system call CreateProcessW with args: [0 11DC4820 0 0 1 1000614 0 11F6B360 12054F00 11D0A330]
2017/02/04 11:19:28   Result: 1
time="2017-02-04T11:19:28Z" level=info msg="processInfo: 0x11f972b0" 
2017/02/04 11:19:28 Making system call SetPriorityClass with args: [54C 8000]
2017/02/04 11:19:28   Result: 1
2017/02/04 11:19:28 Making system call ResumeThread with args: [560]
2017/02/04 11:19:28   Result: 1
2017/02/04 11:19:28 Making system call GetProcessMemoryInfo with args: [54C 121741E0 2C]
2017/02/04 11:19:28   Result: 1
2017/02/04 11:19:28 Making system call CloseHandle with args: [54C]
2017/02/04 11:19:28   Result: 0
2017/02/04 11:19:28 Error when closing handle: The handle is invalid.
2017/02/04 11:19:28 Redirecting live.log to live_backing.log
2017/02/04 11:19:28 Uploading artifact: public/logs/live.log
2017/02/04 11:19:28 Uploading artifact: public/logs/live_backing.log
2017/02/04 11:19:29 Request
2017/02/04 11:19:29 PUT /CGWVElnlTYKQi0nD5JXrLw/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208980&Signature=qqKj49OW0octq0%2FhhLR4zK%2BvoQs%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 722
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:19:29 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/CGWVElnlTYKQi0nD5JXrLw/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208980&Signature=qqKj49OW0octq0%2FhhLR4zK%2BvoQs%3D
2017/02/04 11:19:29 Response
2017/02/04 11:19:29 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:19:31 GMT
Etag: "faad047c1cc1529f969fba250b7a073f"
Server: AmazonS3
X-Amz-Id-2: r2cTgBMc+2ySD53ROlft3BJ0v8ZoEYgp98s6YmAwimswllDqftV0QT8ZHR95FVdoKKoJjKxxk8A=
X-Amz-Request-Id: EF6937F154BBA323
X-Amz-Version-Id: lJSI3jrQ0IAzlL60U_ek9iwebNBYpjZk

2017/02/04 11:19:29 Resolving task...
2017/02/04 11:19:29 Command finished successfully!
2017/02/04 11:19:29 No previous task user desktop, so no need to close any open desktops
--- PASS: TestOSGroupsRespected (3.83s)
=== RUN   TestPayloadSchemaValid
--- PASS: TestPayloadSchemaValid (0.00s)
=== RUN   TestTotallyMalformedPayload
2017/02/04 11:19:30 JSON payload: bad payload, not even json
--- PASS: TestTotallyMalformedPayload (0.00s)
	payload_test.go:40: Task log:
	payload_test.go:41: invalid character 'b' looking for beginning of value
=== RUN   TestEnvVarsMustBeStrings
2017/02/04 11:19:30 JSON payload: {
  "env": {
    "XPI_NAME": "dist/example_add-on-0.0.1.zip",
    "GITHUB_PULL_REQUEST": 37,
    "GITHUB_BASE_BRANCH": "master"
  },
  "maxRunTime": 1200,
  "command": [
    "echo hello world!",
    "echo goodbye world!"
  ]
}
--- PASS: TestEnvVarsMustBeStrings (0.00s)
	payload_test.go:40: Task log:
		[taskcluster 2017-02-04T11:19:30.036Z] TASK FAIL since the task payload is invalid. See errors:
		[taskcluster 2017-02-04T11:19:30.036Z] - env: Invalid type. Expected: string, given: integer
	payload_test.go:41: Validation of payload failed for task I89lhSvuSjiFK5PYuw74mA
=== RUN   TestExtraFieldsNotAllowed
2017/02/04 11:19:30 JSON payload: {
  "env": {
    "XPI_NAME": "dist/example_add-on-0.0.1.zip"
  },
  "maxRunTime": 3,
  "extraField": "This field is not allowed!",
  "command": [
    "echo hello world!",
    "echo goodbye world!"
  ]
}
--- PASS: TestExtraFieldsNotAllowed (0.00s)
	payload_test.go:40: Task log:
		[taskcluster 2017-02-04T11:19:30.037Z] TASK FAIL since the task payload is invalid. See errors:
		[taskcluster 2017-02-04T11:19:30.037Z] - extraField: Additional property extraField is not allowed
	payload_test.go:41: Validation of payload failed for task SQcfD38aS-KfcO_ajIZHQg
=== RUN   TestNoCommandsSpecified
2017/02/04 11:19:30 JSON payload: {
  "env": {
    "XPI_NAME": "dist/example_add-on-0.0.1.zip"
  },
  "maxRunTime": 3,
  "command": []
}
--- PASS: TestNoCommandsSpecified (0.00s)
	payload_test.go:40: Task log:
		[taskcluster 2017-02-04T11:19:30.038Z] TASK FAIL since the task payload is invalid. See errors:
		[taskcluster 2017-02-04T11:19:30.038Z] - command: Array must have at least 1 items
	payload_test.go:41: Validation of payload failed for task OgwOVUQvR3mQXwDKe1LKOw
=== RUN   TestValidPayload
2017/02/04 11:19:30 JSON payload: {
  "env": {
    "XPI_NAME": "dist/example_add-on-0.0.1.zip"
  },
  "maxRunTime": 3,
  "command": [
    "echo hello world!",
    "echo goodbye world!"
  ]
}
--- PASS: TestValidPayload (0.00s)
=== RUN   TestArtifactExpiresBeforeDeadline
2017/02/04 11:19:30 JSON payload: {
  "env": {
    "XPI_NAME": "dist/example_add-on-0.0.1.zip"
  },
  "maxRunTime": 3,
  "command": [
    "echo hello world!",
    "echo goodbye world!"
  ],
  "artifacts": [
    {
      "type": "file",
      "path": "public/some/artifact",
      "expires": "2017-02-04T11:24:30.038Z"
    }
  ]
}
--- PASS: TestArtifactExpiresBeforeDeadline (0.00s)
	payload_test.go:40: Task log:
	payload_test.go:41: Malformed payload: artifact 'public/some/artifact' expires before task deadline (2017-02-04T11:24:30.038Z is before 2017-02-04T11:29:30.038Z)
=== RUN   TestArtifactExpiresAfterDeadline
2017/02/04 11:19:30 JSON payload: {
  "env": {
    "XPI_NAME": "dist/example_add-on-0.0.1.zip"
  },
  "maxRunTime": 3,
  "command": [
    "echo hello world!",
    "echo goodbye world!"
  ],
  "artifacts": [
    {
      "type": "file",
      "path": "public/some/artifact",
      "expires": "2017-02-04T11:29:30.039Z"
    }
  ]
}
--- PASS: TestArtifactExpiresAfterDeadline (0.00s)
=== RUN   TestResolveResolvedTask
2017/02/04 11:19:30 Detected windows platform
2017/02/04 11:19:30 No previous task user desktop, so no need to close any open desktops
2017/02/04 11:19:31 Refreshing signed urls in 24m50.8762s
2017/02/04 11:19:31   Priority (1) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-nugqw4zpqssrjimzjwl5kzdu-5/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A49%3A31Z&sp=p&spr=https&sig=0YAHWnIlPILs7CtAe1tbxK3B5t2yUywwE3x%2Bx5KY4IM%3D&st=2017-02-04T11%3A04%3A31Z
2017/02/04 11:19:31   Priority (1) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-nugqw4zpqssrjimzjwl5kzdu-5/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A31Z&sp=p&spr=https&sig=0YAHWnIlPILs7CtAe1tbxK3B5t2yUywwE3x%2Bx5KY4IM%3D&st=2017-02-04T11%3A04%3A31Z
2017/02/04 11:19:31   Priority (2) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-nugqw4zpqssrjimzjwl5kzdu-1/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A49%3A31Z&sp=p&spr=https&sig=Qmmfom8tEN8DUxYUgr1wQaRAnxY7%2BtdN6dIKTUFq%2BAU%3D&st=2017-02-04T11%3A04%3A31Z
2017/02/04 11:19:31   Priority (2) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-nugqw4zpqssrjimzjwl5kzdu-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A31Z&sp=p&spr=https&sig=Qmmfom8tEN8DUxYUgr1wQaRAnxY7%2BtdN6dIKTUFq%2BAU%3D&st=2017-02-04T11%3A04%3A31Z
2017/02/04 11:19:31 Task found
2017/02/04 11:19:31 Claiming task ba4nkqSMQ4qkVR80IJbRQg...
2017/02/04 11:19:31 Deleting task ba4nkqSMQ4qkVR80IJbRQg from Azure queue...
2017/02/04 11:19:31 Successfully deleted task from azure queue (delete url: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-nugqw4zpqssrjimzjwl5kzdu-1/messages/dc832f9a-4255-4388-a134-ff6c2cd6e10c?popreceipt=AgAAAAMAAAAAAAAAlp1aQdl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A49%3A31Z&sp=p&spr=https&sig=Qmmfom8tEN8DUxYUgr1wQaRAnxY7%2BtdN6dIKTUFq%2BAU%3D&st=2017-02-04T11%3A04%3A31Z) with http response code 204.
2017/02/04 11:19:31 Setting reclaim timer...
2017/02/04 11:19:31 Current claim will expire at 2017-02-04 11:39:32.301 +0000 UTC
2017/02/04 11:19:31 Reclaiming 3 mins earlier, at 2017-02-04 11:36:32.301 +0000 UTC
2017/02/04 11:19:31 Time to wait until then is 17m0.5632s
2017/02/04 11:19:31 This is more than 30 seconds away - so setting a timer
2017/02/04 11:19:31 JSON payload: {
      "artifacts": [
        {
          "expires": "2017-02-04T12:19:30.040Z",
          "path": "resolvetask.go",
          "type": "file"
        }
      ],
      "command": [
        "go run \"resolvetask.go\""
      ],
      "env": {
        "TASKCLUSTER_ACCESS_TOKEN": "lp3Tf1FSrwaAl0nNmOiMRoSQNGETxIp579qJKVnT6gg",
        "TASKCLUSTER_CERTIFICATE": "{\"version\":1,\"scopes\":[\"queue:cancel-task:test-scheduler/FhPR-atdTsKfoAO_doDqGA/*\"],\"start\":1486206870040,\"expiry\":1486207230040,\"seed\":\"-LWAqjEiTw21ny3vr8oZ6A3DRpDUCSSX2EJd2zsyjnRQ\",\"signature\":\"kgBSNeipfp6DU7UGeP8OnnwmO9+2yiadffUQM8L/4vs=\",\"issuer\":\"project/taskcluster/generic-worker/taskcluster-ci\"}",
        "TASKCLUSTER_CLIENT_ID": "project/taskcluster:generic-worker-tester/TestResolveResolvedTask"
      },
      "features": {},
      "maxRunTime": 60
    }
2017/02/04 11:19:31 Running task https://tools.taskcluster.net/task-inspector/#ba4nkqSMQ4qkVR80IJbRQg/0
2017/02/04 11:19:31 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207170\command_000000_wrapper.bat
2017/02/04 11:19:31 Deadline: 2017-02-04 11:20:31.7388 +0000 GMT
2017/02/04 11:19:31 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207170\command_000000_wrapper.bat
2017/02/04 11:19:31 Uploading artifact: public/logs/live.log
2017/02/04 11:19:32 Disk available: 84842713088 bytes
2017/02/04 11:19:32 Executing command 0: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207170\command_000000_wrapper.bat
2017/02/04 11:19:32 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207170\\command_000000.bat":
2017/02/04 11:19:32 Contents:
2017/02/04 11:19:32 @echo on
go run "resolvetask.go"
2017/02/04 11:19:32 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:19:32   Result: 18
2017/02/04 11:19:32 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:19:32   Result: 1B
2017/02/04 11:19:32 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:19:32   Result: 1801B
2017/02/04 11:19:32 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:19:32   Result: 1B01B
2017/02/04 11:19:32 Making system call VerifyVersionInfoW with args: [12190000 33 1B01B 80000000]
2017/02/04 11:19:32   Result: 0
2017/02/04 11:19:32 Making system call CreateProcessW with args: [0 11DF4340 0 0 1 1000614 0 11FFC0A0 12054370 11D62370]
2017/02/04 11:19:32   Result: 1
time="2017-02-04T11:19:32Z" level=info msg="processInfo: 0x11d700d0" 
2017/02/04 11:19:32 Making system call SetPriorityClass with args: [530 8000]
2017/02/04 11:19:32   Result: 1
2017/02/04 11:19:32 Making system call ResumeThread with args: [550]
2017/02/04 11:19:32   Result: 1
2017/02/04 11:19:32 Making system call GetProcessMemoryInfo with args: [530 11EE0570 2C]
2017/02/04 11:19:32   Result: 1
2017/02/04 11:19:32 Making system call CloseHandle with args: [530]
2017/02/04 11:19:32   Result: 0
2017/02/04 11:19:32 Error when closing handle: The handle is invalid.
2017/02/04 11:19:32 Uploading artifact: resolvetask.go
2017/02/04 11:19:32 Redirecting live.log to live_backing.log
2017/02/04 11:19:32 Uploading artifact: public/logs/live.log
2017/02/04 11:19:33 Uploading artifact: public/logs/live_backing.log
2017/02/04 11:19:33 Request
2017/02/04 11:19:33 PUT /ba4nkqSMQ4qkVR80IJbRQg/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208984&Signature=yer%2Bz7BGoEGU3dj73SDLwbwS5w8%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 655
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:19:33 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/ba4nkqSMQ4qkVR80IJbRQg/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208984&Signature=yer%2Bz7BGoEGU3dj73SDLwbwS5w8%3D
2017/02/04 11:19:33 Response
2017/02/04 11:19:33 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:19:35 GMT
Etag: "e78fe8480e69f31a5e557ffc73c06d25"
Server: AmazonS3
X-Amz-Id-2: gFI6mSvx/WPAzInQX617wnrwsTCQlxZwJbQQV/Umr2z+NDI6PIl3X4l0lqn90sAeV+a9eE/msw0=
X-Amz-Request-Id: 893EA4A4897A4594
X-Amz-Version-Id: XH4qWazp_RJOB1Lk.Tk9Ms.z4uYL9jFa

2017/02/04 11:19:33 Resolving task...
2017/02/04 11:19:34 Task Id:                 ba4nkqSMQ4qkVR80IJbRQg
Run Id:                  0
Run Id (Task Claim):     0
Message Id:              dc832f9a-4255-4388-a134-ff6c2cd6e10c
Insertion Time:          2017-02-04 11:19:31 +0000 GMT
Expiration Time:         2017-02-04 11:34:29 +0000 GMT
Dequeue Count:           1
Pop Receipt:             AgAAAAMAAAAAAAAAlp1aQdl+0gE=
Time Next Visible:       2017-02-04 11:24:31 +0000 GMT
Message Text:            eyJ0YXNrSWQiOiJiYTRua3FTTVE0cWtWUjgwSUpiUlFnIiwicnVuSWQiOjAsImhpbnRJZCI6IjRuV1pFMXNHU09HV0x4OUplVG5aTHcifQ==
Run 0:
  Reason Created:        scheduled
  Reason Resolved:       failed
  Resolved:              2017-02-04T11:19:34.672Z
  Run Id:                0
  Scheduled:             2017-02-04T11:19:31.272Z
  Started:               2017-02-04T11:19:32.388Z
  State:                 failed
  Taken Until:           2017-02-04T11:39:32.301Z
  Worker Group:          test-worker-group
  Worker Id:             test-worker-id
==========================================
Status Deadline:         2017-02-04T11:34:30.000Z
Status Provisioner Id:   test-provisioner
Status Retries Left:     1
Status Scheduler Id:     test-scheduler
Status State:            failed
Status Task Group Id:    FhPR-atdTsKfoAO_doDqGA
Status Task Id:          ba4nkqSMQ4qkVR80IJbRQg
Status Worker Type:      O5MGC4xjTcSb0OqT-T2yWA
Taken Until:             2017-02-04T11:39:32.301Z
Worker Group:            test-worker-group
Worker Id:               test-worker-id
==========================================
Signed Poll URL:         https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-nugqw4zpqssrjimzjwl5kzdu-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A31Z&sp=p&spr=https&sig=Qmmfom8tEN8DUxYUgr1wQaRAnxY7%2BtdN6dIKTUFq%2BAU%3D&st=2017-02-04T11%3A04%3A31Z
Signed Delete URL:       https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-nugqw4zpqssrjimzjwl5kzdu-1/messages/dc832f9a-4255-4388-a134-ff6c2cd6e10c?popreceipt=AgAAAAMAAAAAAAAAlp1aQdl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A49%3A31Z&sp=p&spr=https&sig=Qmmfom8tEN8DUxYUgr1wQaRAnxY7%2BtdN6dIKTUFq%2BAU%3D&st=2017-02-04T11%3A04%3A31Z
==========================================
Created:                 2017-02-04T11:19:30.000Z
Deadline:                2017-02-04T11:34:30.000Z
Expires:                 2017-02-05T11:19:30.000Z
Extra:                   {}
Metadata:                {Test task [TC] TestUpload pmoore@mozilla.com https://github.com/taskcluster/generic-worker/blob/master/artifacts_test.go}
Payload:                 {
      "artifacts": [
        {
          "expires": "2017-02-04T12:19:30.040Z",
          "path": "resolvetask.go",
          "type": "file"
        }
      ],
      "command": [
        "go run \"resolvetask.go\""
      ],
      "env": {
        "TASKCLUSTER_ACCESS_TOKEN": "lp3Tf1FSrwaAl0nNmOiMRoSQNGETxIp579qJKVnT6gg",
        "TASKCLUSTER_CERTIFICATE": "{\"version\":1,\"scopes\":[\"queue:cancel-task:test-scheduler/FhPR-atdTsKfoAO_doDqGA/*\"],\"start\":1486206870040,\"expiry\":1486207230040,\"seed\":\"-LWAqjEiTw21ny3vr8oZ6A3DRpDUCSSX2EJd2zsyjnRQ\",\"signature\":\"kgBSNeipfp6DU7UGeP8OnnwmO9+2yiadffUQM8L/4vs=\",\"issuer\":\"project/taskcluster/generic-worker/taskcluster-ci\"}",
        "TASKCLUSTER_CLIENT_ID": "project/taskcluster:generic-worker-tester/TestResolveResolvedTask"
      },
      "features": {},
      "maxRunTime": 60
    }
Provisioner Id:          test-provisioner
Retries:                 1
Routes:                  []string{}
SchedulerId:             test-scheduler
Scopes:                  []string{}
Tags:                    {
      "createdForUser": "pmoore@mozilla.com"
    }
Task Group Id:           FhPR-atdTsKfoAO_doDqGA
Worker Type:             O5MGC4xjTcSb0OqT-T2yWA
==========================================
Artifacts:               [{2017-02-04T12:19:30.040Z resolvetask.go file}]
Command:                 []string{"go run \"resolvetask.go\""}
Env:                     json.RawMessage{0x7b, 0xa, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x22, 0x54, 0x41, 0x53, 0x4b, 0x43, 0x4c, 0x55, 0x53, 0x54, 0x45, 0x52, 0x5f, 0x41, 0x43, 0x43, 0x45, 0x53, 0x53, 0x5f, 0x54, 0x4f, 0x4b, 0x45, 0x4e, 0x22, 0x3a, 0x20, 0x22, 0x6c, 0x70, 0x33, 0x54, 0x66, 0x31, 0x46, 0x53, 0x72, 0x77, 0x61, 0x41, 0x6c, 0x30, 0x6e, 0x4e, 0x6d, 0x4f, 0x69, 0x4d, 0x52, 0x6f, 0x53, 0x51, 0x4e, 0x47, 0x45, 0x54, 0x78, 0x49, 0x70, 0x35, 0x37, 0x39, 0x71, 0x4a, 0x4b, 0x56, 0x6e, 0x54, 0x36, 0x67, 0x67, 0x22, 0x2c, 0xa, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x22, 0x54, 0x41, 0x53, 0x4b, 0x43, 0x4c, 0x55, 0x53, 0x54, 0x45, 0x52, 0x5f, 0x43, 0x45, 0x52, 0x54, 0x49, 0x46, 0x49, 0x43, 0x41, 0x54, 0x45, 0x22, 0x3a, 0x20, 0x22, 0x7b, 0x5c, 0x22, 0x76, 0x65, 0x72, 0x73, 0x69, 0x6f, 0x6e, 0x5c, 0x22, 0x3a, 0x31, 0x2c, 0x5c, 0x22, 0x73, 0x63, 0x6f, 0x70, 0x65, 0x73, 0x5c, 0x22, 0x3a, 0x5b, 0x5c, 0x22, 0x71, 0x75, 0x65, 0x75, 0x65, 0x3a, 0x63, 0x61, 0x6e, 0x63, 0x65, 0x6c, 0x2d, 0x74, 0x61, 0x73, 0x6b, 0x3a, 0x74, 0x65, 0x73, 0x74, 0x2d, 0x73, 0x63, 0x68, 0x65, 0x64, 0x75, 0x6c, 0x65, 0x72, 0x2f, 0x46, 0x68, 0x50, 0x52, 0x2d, 0x61, 0x74, 0x64, 0x54, 0x73, 0x4b, 0x66, 0x6f, 0x41, 0x4f, 0x5f, 0x64, 0x6f, 0x44, 0x71, 0x47, 0x41, 0x2f, 0x2a, 0x5c, 0x22, 0x5d, 0x2c, 0x5c, 0x22, 0x73, 0x74, 0x61, 0x72, 0x74, 0x5c, 0x22, 0x3a, 0x31, 0x34, 0x38, 0x36, 0x32, 0x30, 0x36, 0x38, 0x37, 0x30, 0x30, 0x34, 0x30, 0x2c, 0x5c, 0x22, 0x65, 0x78, 0x70, 0x69, 0x72, 0x79, 0x5c, 0x22, 0x3a, 0x31, 0x34, 0x38, 0x36, 0x32, 0x30, 0x37, 0x32, 0x33, 0x30, 0x30, 0x34, 0x30, 0x2c, 0x5c, 0x22, 0x73, 0x65, 0x65, 0x64, 0x5c, 0x22, 0x3a, 0x5c, 0x22, 0x2d, 0x4c, 0x57, 0x41, 0x71, 0x6a, 0x45, 0x69, 0x54, 0x77, 0x32, 0x31, 0x6e, 0x79, 0x33, 0x76, 0x72, 0x38, 0x6f, 0x5a, 0x36, 0x41, 0x33, 0x44, 0x52, 0x70, 0x44, 0x55, 0x43, 0x53, 0x53, 0x58, 0x32, 0x45, 0x4a, 0x64, 0x32, 0x7a, 0x73, 0x79, 0x6a, 0x6e, 0x52, 0x51, 0x5c, 0x22, 0x2c, 0x5c, 0x22, 0x73, 0x69, 0x67, 0x6e, 0x61, 0x74, 0x75, 0x72, 0x65, 0x5c, 0x22, 0x3a, 0x5c, 0x22, 0x6b, 0x67, 0x42, 0x53, 0x4e, 0x65, 0x69, 0x70, 0x66, 0x70, 0x36, 0x44, 0x55, 0x37, 0x55, 0x47, 0x65, 0x50, 0x38, 0x4f, 0x6e, 0x6e, 0x77, 0x6d, 0x4f, 0x39, 0x2b, 0x32, 0x79, 0x69, 0x61, 0x64, 0x66, 0x66, 0x55, 0x51, 0x4d, 0x38, 0x4c, 0x2f, 0x34, 0x76, 0x73, 0x3d, 0x5c, 0x22, 0x2c, 0x5c, 0x22, 0x69, 0x73, 0x73, 0x75, 0x65, 0x72, 0x5c, 0x22, 0x3a, 0x5c, 0x22, 0x70, 0x72, 0x6f, 0x6a, 0x65, 0x63, 0x74, 0x2f, 0x74, 0x61, 0x73, 0x6b, 0x63, 0x6c, 0x75, 0x73, 0x74, 0x65, 0x72, 0x2f, 0x67, 0x65, 0x6e, 0x65, 0x72, 0x69, 0x63, 0x2d, 0x77, 0x6f, 0x72, 0x6b, 0x65, 0x72, 0x2f, 0x74, 0x61, 0x73, 0x6b, 0x63, 0x6c, 0x75, 0x73, 0x74, 0x65, 0x72, 0x2d, 0x63, 0x69, 0x5c, 0x22, 0x7d, 0x22, 0x2c, 0xa, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x22, 0x54, 0x41, 0x53, 0x4b, 0x43, 0x4c, 0x55, 0x53, 0x54, 0x45, 0x52, 0x5f, 0x43, 0x4c, 0x49, 0x45, 0x4e, 0x54, 0x5f, 0x49, 0x44, 0x22, 0x3a, 0x20, 0x22, 0x70, 0x72, 0x6f, 0x6a, 0x65, 0x63, 0x74, 0x2f, 0x74, 0x61, 0x73, 0x6b, 0x63, 0x6c, 0x75, 0x73, 0x74, 0x65, 0x72, 0x3a, 0x67, 0x65, 0x6e, 0x65, 0x72, 0x69, 0x63, 0x2d, 0x77, 0x6f, 0x72, 0x6b, 0x65, 0x72, 0x2d, 0x74, 0x65, 0x73, 0x74, 0x65, 0x72, 0x2f, 0x54, 0x65, 0x73, 0x74, 0x52, 0x65, 0x73, 0x6f, 0x6c, 0x76, 0x65, 0x52, 0x65, 0x73, 0x6f, 0x6c, 0x76, 0x65, 0x64, 0x54, 0x61, 0x73, 0x6b, 0x22, 0xa, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x7d}
Max Run Time:            60
==========================================
2017/02/04 11:19:34 ERROR encountered: Task not successful due to following exception(s):
Exception 1)
[]

Exit code: 1
2017/02/04 11:19:34 No previous task user desktop, so no need to close any open desktops
--- PASS: TestResolveResolvedTask (3.99s)
=== RUN   TestRunAfterUserCreation
--- SKIP: TestRunAfterUserCreation (0.00s)
	user_creation_windows_test.go:12: Skipping since running as current user...
PASS
ok  	github.com/taskcluster/generic-worker	62.474s
?   	github.com/taskcluster/generic-worker/gw-codegen	[no test files]
=== RUN   TestLiveLog
--- PASS: TestLiveLog (1.04s)
PASS
ok  	github.com/taskcluster/generic-worker/livelog	1.108s
?   	github.com/taskcluster/generic-worker/process	[no test files]
?   	github.com/taskcluster/generic-worker/runtime	[no test files]
?   	github.com/taskcluster/generic-worker/show-workers	[no test files]
?   	github.com/taskcluster/generic-worker/update-worker-type	[no test files]
?   	github.com/taskcluster/generic-worker/worker_types/all-worker-types	[no test files]
?   	github.com/taskcluster/generic-worker/yamltojson	[no test files]
[taskcluster 2017-02-04T11:19:34.058Z]   Exit Code: 0
[taskcluster 2017-02-04T11:19:34.058Z]   User Time: 0s
[taskcluster 2017-02-04T11:19:34.058Z] Kernel Time: 31.2002ms
[taskcluster 2017-02-04T11:19:34.058Z]   Wall Time: 1m4.521s
[taskcluster 2017-02-04T11:19:34.058Z] Peak Memory: 2494464
[taskcluster 2017-02-04T11:19:34.058Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:19:34.058Z] Executing command 21: set GW_TESTS_GENERATE_USERS=true

Z:\gopath\src\github.com\taskcluster\generic-worker>set GW_TESTS_GENERATE_USERS=true 
[taskcluster 2017-02-04T11:19:34.105Z]   Exit Code: 0
[taskcluster 2017-02-04T11:19:34.105Z]   User Time: 0s
[taskcluster 2017-02-04T11:19:34.105Z] Kernel Time: 15.6001ms
[taskcluster 2017-02-04T11:19:34.105Z]   Wall Time: 38ms
[taskcluster 2017-02-04T11:19:34.105Z] Peak Memory: 2256896
[taskcluster 2017-02-04T11:19:34.105Z]      Result: SUCCEEDED
[taskcluster 2017-02-04T11:19:34.105Z] Executing command 22: go test -v

Z:\gopath\src\github.com\taskcluster\generic-worker>go test -v 
=== RUN   TestDirectoryArtifacts
--- PASS: TestDirectoryArtifacts (0.02s)
=== RUN   TestMissingFileArtifact
--- PASS: TestMissingFileArtifact (0.00s)
=== RUN   TestMissingDirectoryArtifact
--- PASS: TestMissingDirectoryArtifact (0.00s)
=== RUN   TestFileArtifactIsDirectory
--- PASS: TestFileArtifactIsDirectory (0.00s)
=== RUN   TestDirectoryArtifactIsFile
--- PASS: TestDirectoryArtifactIsFile (0.00s)
=== RUN   TestUpload
2017/02/04 11:19:37 Detected windows platform
2017/02/04 11:19:37 No previous task user desktop, so no need to close any open desktops
2017/02/04 11:19:37 Looking for existing task users to delete...
2017/02/04 11:19:37 Creating Windows User task_1486207177...
2017/02/04 11:19:37 Running command: 'net' 'user' 'task_1486207177' 'pWd0_SwOb6e58E4tC9Tg136UQMRj1' '/add' '/expires:never' '/passwordchg:no' '/y'
2017/02/04 11:19:37 Created new task user!
2017/02/04 11:19:37 Running command: 'wmic' 'useraccount' 'where' 'name='task_1486207177'' 'set' 'passwordexpires=false'
Updating property(s) of '\\I-02A561117A676\ROOT\CIMV2:Win32_UserAccount.Domain="I-02A561117A676",Name="task_1486207177"'
Property(s) update successful.
2017/02/04 11:19:37 Running command: 'net' 'localgroup' 'Remote Desktop Users' '/add' 'task_1486207177'
The command completed successfully.

2017/02/04 11:19:37 Making system call GetProcessWindowStation with args: []
2017/02/04 11:19:37   Result: 2C
2017/02/04 11:19:37 Making system call GetCurrentThreadId with args: []
2017/02/04 11:19:37   Result: 328
2017/02/04 11:19:37 Making system call GetThreadDesktop with args: [328]
2017/02/04 11:19:37   Result: 30
2017/02/04 11:19:37 Making system call GetUserObjectInformationW with args: [30 2 11F36200 200 11CCA808]
2017/02/04 11:19:37   Result: 1
2017/02/04 11:19:37 Making system call GetUserObjectInformationW with args: [2C 2 11F36400 200 11CCA858]
2017/02/04 11:19:37   Result: 1
2017/02/04 11:19:37 Making system call GetCurrentThreadId with args: []
2017/02/04 11:19:37   Result: 328
2017/02/04 11:19:37 Making system call CreateDesktopW with args: [11CCA904 0 0 0 10000000 11CCA910]
2017/02/04 11:19:37   Result: 370
2017/02/04 11:19:37 Making system call InitializeAcl with args: [11F82000 400 2]
2017/02/04 11:19:37   Result: 1
2017/02/04 11:19:37 Making system call AddAccessAllowedAceEx with args: [11F82000 2 B 10000000 11CCA9D0]
2017/02/04 11:19:37   Result: 1
2017/02/04 11:19:37 Making system call AddAccessAllowedAceEx with args: [11F82000 2 4 2037F 11CCA9D0]
2017/02/04 11:19:37   Result: 1
2017/02/04 11:19:37 Making system call InitializeSecurityDescriptor with args: [11F84000 1]
2017/02/04 11:19:37   Result: 1
2017/02/04 11:19:37 Making system call SetSecurityDescriptorDacl with args: [11F84000 1 11F82000 0]
2017/02/04 11:19:37   Result: 1
2017/02/04 11:19:37 Making system call SetUserObjectSecurity with args: [2C 11CCAB9C 11F84000]
2017/02/04 11:19:37   Result: 1
2017/02/04 11:19:37 Making system call InitializeAcl with args: [11F82480 400 2]
2017/02/04 11:19:37   Result: 1
2017/02/04 11:19:37 Making system call AddAccessAllowedAce with args: [11F82480 2 201FF 11CCA9D0]
2017/02/04 11:19:37   Result: 1
2017/02/04 11:19:37 Making system call InitializeSecurityDescriptor with args: [11F85200 1]
2017/02/04 11:19:37   Result: 1
2017/02/04 11:19:37 Making system call SetSecurityDescriptorDacl with args: [11F85200 1 11F82480 0]
2017/02/04 11:19:37   Result: 1
2017/02/04 11:19:37 Making system call SetUserObjectSecurity with args: [370 11CCAD2C 11F85200]
2017/02/04 11:19:37   Result: 1
2017/02/04 11:19:37 Making system call LogonUserW with args: [11F4BD60 11CCAD8C 11CC78C0 2 0 11CCADA0]
2017/02/04 11:19:37   Result: 1
2017/02/04 11:19:37 Making system call LoadUserProfileW with args: [384 11F4BDA0]
2017/02/04 11:19:37   Result: 1
2017/02/04 11:19:37 Making system call SwitchDesktop with args: [370]
2017/02/04 11:19:37   Result: 1
2017/02/04 11:19:37 Making system call SHSetKnownFolderPath with args: [B338C0 0 384 11F4CF00]
2017/02/04 11:19:37   Result: 0
2017/02/04 11:19:37 Making system call SHGetKnownFolderPath with args: [B338C0 8000 384 11CCAF30]
2017/02/04 11:19:37   Result: 0
2017/02/04 11:19:37 Making system call CoTaskMemFree with args: [25B8A0]
2017/02/04 11:19:37   Result: 1
2017/02/04 11:19:37 Making system call SHSetKnownFolderPath with args: [B338B0 0 384 11F4CFA0]
2017/02/04 11:19:37   Result: 0
2017/02/04 11:19:37 Making system call SHGetKnownFolderPath with args: [B338B0 8000 384 11CCB030]
2017/02/04 11:19:37   Result: 0
2017/02/04 11:19:37 Making system call CoTaskMemFree with args: [22A0D8]
2017/02/04 11:19:37   Result: 1
2017/02/04 11:19:37 Refreshing signed urls in 24m50.8772s
2017/02/04 11:19:37   Priority (1) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-7vsod4fme6js6w4sip2g2o2k-5/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A49%3A38Z&sp=p&spr=https&sig=ph2N7h6HwnEUBCi2RSNoe7yVYESHkVYlnm3Vz0ufNKM%3D&st=2017-02-04T11%3A04%3A38Z
2017/02/04 11:19:37   Priority (1) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-7vsod4fme6js6w4sip2g2o2k-5/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A38Z&sp=p&spr=https&sig=ph2N7h6HwnEUBCi2RSNoe7yVYESHkVYlnm3Vz0ufNKM%3D&st=2017-02-04T11%3A04%3A38Z
2017/02/04 11:19:37   Priority (2) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-7vsod4fme6js6w4sip2g2o2k-1/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A49%3A38Z&sp=p&spr=https&sig=fmG9wybCwNhqn73kd22H06VFiGztSDMGyOoPnyywM5A%3D&st=2017-02-04T11%3A04%3A38Z
2017/02/04 11:19:37   Priority (2) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-7vsod4fme6js6w4sip2g2o2k-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A38Z&sp=p&spr=https&sig=fmG9wybCwNhqn73kd22H06VFiGztSDMGyOoPnyywM5A%3D&st=2017-02-04T11%3A04%3A38Z
2017/02/04 11:19:38 Task found
2017/02/04 11:19:38 Claiming task SOokBCIFR6KrOXSgCDxmZw...
2017/02/04 11:19:38 Deleting task SOokBCIFR6KrOXSgCDxmZw from Azure queue...
2017/02/04 11:19:38 Successfully deleted task from azure queue (delete url: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-7vsod4fme6js6w4sip2g2o2k-1/messages/8e2392c3-4418-477a-bb9a-d38ed311794b?popreceipt=AgAAAAMAAAAAAAAAcJ6ZRdl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A49%3A38Z&sp=p&spr=https&sig=fmG9wybCwNhqn73kd22H06VFiGztSDMGyOoPnyywM5A%3D&st=2017-02-04T11%3A04%3A38Z) with http response code 204.
2017/02/04 11:19:38 Setting reclaim timer...
2017/02/04 11:19:38 Current claim will expire at 2017-02-04 11:39:39.439 +0000 UTC
2017/02/04 11:19:38 Reclaiming 3 mins earlier, at 2017-02-04 11:36:39.439 +0000 UTC
2017/02/04 11:19:38 Time to wait until then is 17m0.5692s
2017/02/04 11:19:38 This is more than 30 seconds away - so setting a timer
2017/02/04 11:19:38 JSON payload: {
      "artifacts": [
        {
          "expires": "2017-02-04T11:49:36.061Z",
          "path": "SampleArtifacts/_/X.txt",
          "type": "file"
        }
      ],
      "command": [
        "echo hello world!",
        "echo goodbye world!",
        "mkdir \"SampleArtifacts\\_\"",
        "copy \"Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\SampleArtifacts\\_\\X.txt\" \"SampleArtifacts\\_\\X.txt\""
      ],
      "features": {
        "chainOfTrust": true
      },
      "maxRunTime": 7200
    }
2017/02/04 11:19:38 Running task https://tools.taskcluster.net/task-inspector/#SOokBCIFR6KrOXSgCDxmZw/0
2017/02/04 11:19:38 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207177\command_000000_wrapper.bat
2017/02/04 11:19:38 Deadline: 2017-02-04 13:19:38.8708 +0000 GMT
2017/02/04 11:19:38 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207177\command_000000_wrapper.bat
2017/02/04 11:19:38 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207177\command_000001_wrapper.bat
2017/02/04 11:19:38 Deadline: 2017-02-04 13:19:38.8708 +0000 GMT
2017/02/04 11:19:38 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207177\command_000001_wrapper.bat
2017/02/04 11:19:38 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207177\command_000002_wrapper.bat
2017/02/04 11:19:38 Deadline: 2017-02-04 13:19:38.8708 +0000 GMT
2017/02/04 11:19:38 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207177\command_000002_wrapper.bat
2017/02/04 11:19:38 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207177\command_000003_wrapper.bat
2017/02/04 11:19:38 Deadline: 2017-02-04 13:19:38.8708 +0000 GMT
2017/02/04 11:19:38 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207177\command_000003_wrapper.bat
2017/02/04 11:19:38 Uploading artifact: public/logs/live.log
2017/02/04 11:19:39 Disk available: 84842500096 bytes
2017/02/04 11:19:39 Executing command 0: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207177\command_000000_wrapper.bat
2017/02/04 11:19:39 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207177\\command_000000.bat":
2017/02/04 11:19:39 Contents:
2017/02/04 11:19:39 @echo on
echo hello world!
2017/02/04 11:19:39 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:19:39   Result: 18
2017/02/04 11:19:39 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:19:39   Result: 1B
2017/02/04 11:19:39 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:19:39   Result: 1801B
2017/02/04 11:19:39 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:19:39   Result: 1B01B
2017/02/04 11:19:39 Making system call VerifyVersionInfoW with args: [11D40EA0 33 1B01B 80000000]
2017/02/04 11:19:39   Result: 0
2017/02/04 11:19:39 Making system call CreateEnvironmentBlock with args: [11F960C0 384 0]
2017/02/04 11:19:39   Result: 1
2017/02/04 11:19:39 Making system call DestroyEnvironmentBlock with args: [26AEC0]
2017/02/04 11:19:39   Result: 1
2017/02/04 11:19:39 Making system call CreateProcessAsUserW with args: [384 0 11E76750 0 0 1 1000614 11D76000 11EEA3C0 11EF2A00 11F960A0]
2017/02/04 11:19:39   Result: 1
time="2017-02-04T11:19:39Z" level=info msg="processInfo: 0x120912e0" 
2017/02/04 11:19:39 Making system call SetPriorityClass with args: [4E8 8000]
2017/02/04 11:19:39   Result: 1
2017/02/04 11:19:39 Making system call ResumeThread with args: [4E4]
2017/02/04 11:19:39   Result: 1
2017/02/04 11:19:39 Making system call GetProcessMemoryInfo with args: [4E8 11F144E0 2C]
2017/02/04 11:19:39   Result: 1
2017/02/04 11:19:39 Making system call CloseHandle with args: [4E8]
2017/02/04 11:19:39   Result: 0
2017/02/04 11:19:39 Error when closing handle: The handle is invalid.
2017/02/04 11:19:39 Uploading artifact: SampleArtifacts/_/X.txt
2017/02/04 11:19:39 Uploading artifact: public/logs/certified.log
2017/02/04 11:19:40 Request
2017/02/04 11:19:40 PUT /SOokBCIFR6KrOXSgCDxmZw/0/public/logs/certified.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208990&Signature=2%2BcQlEfGnaua4AB%2Ffyvyq%2BTXXIE%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 551
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:19:40 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/SOokBCIFR6KrOXSgCDxmZw/0/public/logs/certified.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208990&Signature=2%2BcQlEfGnaua4AB%2Ffyvyq%2BTXXIE%3D
2017/02/04 11:19:40 Response
2017/02/04 11:19:40 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:19:42 GMT
Etag: "cfa9cb67cd0d4ae32e6bfa888ec747fd"
Server: AmazonS3
X-Amz-Id-2: tdvCfGNWVOeyAacOHXIBiB2Eq0bJELl7K/ZaKguzBGq8BFisMfQ/RqtJGP1W7CxeSHNCpURN6/8=
X-Amz-Request-Id: A3CEA84E3FC2695C
X-Amz-Version-Id: VWlev6dWO2jQ4Y5A887VPYslkQ1iyB.4

2017/02/04 11:19:40 Uploading artifact: public/logs/chainOfTrust.json.asc
2017/02/04 11:19:40 Request
2017/02/04 11:19:40 PUT /SOokBCIFR6KrOXSgCDxmZw/0/public/logs/chainOfTrust.json.asc?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208991&Signature=Ecm2zhk1IZXeEJoW1VPLb5GpxKY%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 1257
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:19:40 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/SOokBCIFR6KrOXSgCDxmZw/0/public/logs/chainOfTrust.json.asc?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208991&Signature=Ecm2zhk1IZXeEJoW1VPLb5GpxKY%3D
2017/02/04 11:19:40 Response
2017/02/04 11:19:40 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:19:42 GMT
Etag: "4369e9918256cf50232c07e624ff2616"
Server: AmazonS3
X-Amz-Id-2: 3xtoJJUdsN3yNp66Vz8NQE+jljxR6HEwJLfXbrhbUesXyhkbgDcVfOiTMygm48uHHvFBNEHHOV4=
X-Amz-Request-Id: 660240AADC05A0B8
X-Amz-Version-Id: hoOtlkQaTNaLVZAemFFRzUn_B99hMdJR

2017/02/04 11:19:40 Redirecting live.log to live_backing.log
2017/02/04 11:19:40 Uploading artifact: public/logs/live.log
2017/02/04 11:19:41 Uploading artifact: public/logs/live_backing.log
2017/02/04 11:19:41 Request
2017/02/04 11:19:41 PUT /SOokBCIFR6KrOXSgCDxmZw/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208992&Signature=zU5fXnmaZWa60Nd6V%2BlQiRrsU%2FY%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 554
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:19:42 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/SOokBCIFR6KrOXSgCDxmZw/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486208992&Signature=zU5fXnmaZWa60Nd6V%2BlQiRrsU%2FY%3D
2017/02/04 11:19:42 Response
2017/02/04 11:19:42 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:19:43 GMT
Etag: "7be1163ffbdfaf585de6cc643189dc64"
Server: AmazonS3
X-Amz-Id-2: 7uBE7IhYF3m8UAGYyfsd+Vhnt3y2PfY4Ggwhc6p5UyswnzUvmY9AEl29CMLyzfzSbk72J7sNwyQ=
X-Amz-Request-Id: A4A792123AD2BBBC
X-Amz-Version-Id: 4k7noXwpTQG0lSNxnkBDJObceaOmslaO

2017/02/04 11:19:42 Resolving task...
2017/02/04 11:19:42 Task Id:                 SOokBCIFR6KrOXSgCDxmZw
Run Id:                  0
Run Id (Task Claim):     0
Message Id:              8e2392c3-4418-477a-bb9a-d38ed311794b
Insertion Time:          2017-02-04 11:19:37 +0000 GMT
Expiration Time:         2017-02-04 11:34:34 +0000 GMT
Dequeue Count:           1
Pop Receipt:             AgAAAAMAAAAAAAAAcJ6ZRdl+0gE=
Time Next Visible:       2017-02-04 11:24:38 +0000 GMT
Message Text:            eyJ0YXNrSWQiOiJTT29rQkNJRlI2S3JPWFNnQ0R4bVp3IiwicnVuSWQiOjAsImhpbnRJZCI6Ik9YS2kwLUl3U3JtdHBVa2VNU3FpcHcifQ==
Run 0:
  Reason Created:        scheduled
  Reason Resolved:       failed
  Resolved:              2017-02-04T11:19:43.059Z
  Run Id:                0
  Scheduled:             2017-02-04T11:19:37.566Z
  Started:               2017-02-04T11:19:39.518Z
  State:                 failed
  Taken Until:           2017-02-04T11:39:39.439Z
  Worker Group:          test-worker-group
  Worker Id:             test-worker-id
==========================================
Status Deadline:         2017-02-04T11:34:36.000Z
Status Provisioner Id:   test-provisioner
Status Retries Left:     1
Status Scheduler Id:     test-scheduler
Status State:            failed
Status Task Group Id:    O-5VAxZ3Rdi_isTZCkQaxQ
Status Task Id:          SOokBCIFR6KrOXSgCDxmZw
Status Worker Type:      UnCmsOFJQNu2HUOqWuVHiA
Taken Until:             2017-02-04T11:39:39.439Z
Worker Group:            test-worker-group
Worker Id:               test-worker-id
==========================================
Signed Poll URL:         https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-7vsod4fme6js6w4sip2g2o2k-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A38Z&sp=p&spr=https&sig=fmG9wybCwNhqn73kd22H06VFiGztSDMGyOoPnyywM5A%3D&st=2017-02-04T11%3A04%3A38Z
Signed Delete URL:       https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-7vsod4fme6js6w4sip2g2o2k-1/messages/8e2392c3-4418-477a-bb9a-d38ed311794b?popreceipt=AgAAAAMAAAAAAAAAcJ6ZRdl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A49%3A38Z&sp=p&spr=https&sig=fmG9wybCwNhqn73kd22H06VFiGztSDMGyOoPnyywM5A%3D&st=2017-02-04T11%3A04%3A38Z
==========================================
Created:                 2017-02-04T11:19:36.000Z
Deadline:                2017-02-04T11:34:36.000Z
Expires:                 2017-02-05T11:19:36.000Z
Extra:                   {}
Metadata:                {Test task [TC] TestUpload pmoore@mozilla.com https://github.com/taskcluster/generic-worker/blob/master/artifacts_test.go}
Payload:                 {
      "artifacts": [
        {
          "expires": "2017-02-04T11:49:36.061Z",
          "path": "SampleArtifacts/_/X.txt",
          "type": "file"
        }
      ],
      "command": [
        "echo hello world!",
        "echo goodbye world!",
        "mkdir \"SampleArtifacts\\_\"",
        "copy \"Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\SampleArtifacts\\_\\X.txt\" \"SampleArtifacts\\_\\X.txt\""
      ],
      "features": {
        "chainOfTrust": true
      },
      "maxRunTime": 7200
    }
Provisioner Id:          test-provisioner
Retries:                 1
Routes:                  []string{}
SchedulerId:             test-scheduler
Scopes:                  []string{}
Tags:                    {
      "createdForUser": "pmoore@mozilla.com"
    }
Task Group Id:           O-5VAxZ3Rdi_isTZCkQaxQ
Worker Type:             UnCmsOFJQNu2HUOqWuVHiA
==========================================
Artifacts:               [{2017-02-04T11:49:36.061Z SampleArtifacts/_/X.txt file}]
Command:                 []string{"echo hello world!", "echo goodbye world!", "mkdir \"SampleArtifacts\\_\"", "copy \"Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\SampleArtifacts\\_\\X.txt\" \"SampleArtifacts\\_\\X.txt\""}
Env:                     json.RawMessage(nil)
Max Run Time:            7200
==========================================
2017/02/04 11:19:42 ERROR encountered: Task not successful due to following exception(s):
Exception 1)
[]

Exit code: 3221225794
2017/02/04 11:19:42 Making system call SwitchDesktop with args: [370]
2017/02/04 11:19:42   Result: 1
2017/02/04 11:19:42 Making system call CloseDesktop with args: [30]
2017/02/04 11:19:42   Result: 0
2017/02/04 11:19:42 Error cleaning up after task!
Could not create new task user because previous task user's desktop could not be closed:
CloseDesktop: The requested resource is in use.
--- FAIL: TestUpload (13.67s)
	artifacts_test.go:328: Artifact SampleArtifacts/_/X.txt should have mime type 'text/plain; charset=utf-8' but has 'application/json'
	artifacts_test.go:368: Artifact 'public/logs/live_backing.log': Could not find substring "goodbye world!" in '[taskcluster 2017-02-04T11:19:39.409Z] Worker Type (UnCmsOFJQNu2HUOqWuVHiA) settings:
		[taskcluster 2017-02-04T11:19:39.410Z]   {
		[taskcluster 2017-02-04T11:19:39.410Z]     "aws": {
		[taskcluster 2017-02-04T11:19:39.410Z]       "ami-id": "test-ami",
		[taskcluster 2017-02-04T11:19:39.410Z]       "availability-zone": "outer-space",
		[taskcluster 2017-02-04T11:19:39.410Z]       "instance-id": "test-instance-id",
		[taskcluster 2017-02-04T11:19:39.410Z]       "instance-type": "p3.enormous",
		[taskcluster 2017-02-04T11:19:39.410Z]       "local-ipv4": "87.65.43.21",
		[taskcluster 2017-02-04T11:19:39.410Z]       "public-ipv4": "12.34.56.78"
		[taskcluster 2017-02-04T11:19:39.410Z]     },
		[taskcluster 2017-02-04T11:19:39.410Z]     "generic-worker": {
		[taskcluster 2017-02-04T11:19:39.410Z]       "go-arch": "386",
		[taskcluster 2017-02-04T11:19:39.410Z]       "go-os": "windows",
		[taskcluster 2017-02-04T11:19:39.410Z]       "go-version": "go1.7.5",
		[taskcluster 2017-02-04T11:19:39.410Z]       "release": "test-release-url",
		[taskcluster 2017-02-04T11:19:39.410Z]       "version": "7.2.13"
		[taskcluster 2017-02-04T11:19:39.410Z]     },
		[taskcluster 2017-02-04T11:19:39.410Z]     "machine-setup": {
		[taskcluster 2017-02-04T11:19:39.410Z]       "maintainer": "pmoore@mozilla.com",
		[taskcluster 2017-02-04T11:19:39.411Z]       "script": "test-script-url"
		[taskcluster 2017-02-04T11:19:39.411Z]     }
		[taskcluster 2017-02-04T11:19:39.411Z]   }
		[taskcluster 2017-02-04T11:19:39.411Z] === Task Starting ===
		[taskcluster 2017-02-04T11:19:39.411Z] Executing command 0: echo hello world!
		[taskcluster 2017-02-04T11:19:39.423Z]   Exit Code: 3221225794
		[taskcluster 2017-02-04T11:19:39.423Z]   User Time: 0s
		[taskcluster 2017-02-04T11:19:39.423Z] Kernel Time: 0s
		[taskcluster 2017-02-04T11:19:39.423Z]   Wall Time: 4ms
		[taskcluster 2017-02-04T11:19:39.423Z] Peak Memory: 1388544
		[taskcluster 2017-02-04T11:19:39.423Z]      Result: FAILED
		[taskcluster 2017-02-04T11:19:39.424Z] === Task Finished ===
		[taskcluster 2017-02-04T11:19:39.424Z] Task Duration: 13ms
		'
	artifacts_test.go:368: Artifact 'public/logs/live.log': Could not find substring "goodbye world!" in '[taskcluster 2017-02-04T11:19:39.409Z] Worker Type (UnCmsOFJQNu2HUOqWuVHiA) settings:
		[taskcluster 2017-02-04T11:19:39.410Z]   {
		[taskcluster 2017-02-04T11:19:39.410Z]     "aws": {
		[taskcluster 2017-02-04T11:19:39.410Z]       "ami-id": "test-ami",
		[taskcluster 2017-02-04T11:19:39.410Z]       "availability-zone": "outer-space",
		[taskcluster 2017-02-04T11:19:39.410Z]       "instance-id": "test-instance-id",
		[taskcluster 2017-02-04T11:19:39.410Z]       "instance-type": "p3.enormous",
		[taskcluster 2017-02-04T11:19:39.410Z]       "local-ipv4": "87.65.43.21",
		[taskcluster 2017-02-04T11:19:39.410Z]       "public-ipv4": "12.34.56.78"
		[taskcluster 2017-02-04T11:19:39.410Z]     },
		[taskcluster 2017-02-04T11:19:39.410Z]     "generic-worker": {
		[taskcluster 2017-02-04T11:19:39.410Z]       "go-arch": "386",
		[taskcluster 2017-02-04T11:19:39.410Z]       "go-os": "windows",
		[taskcluster 2017-02-04T11:19:39.410Z]       "go-version": "go1.7.5",
		[taskcluster 2017-02-04T11:19:39.410Z]       "release": "test-release-url",
		[taskcluster 2017-02-04T11:19:39.410Z]       "version": "7.2.13"
		[taskcluster 2017-02-04T11:19:39.410Z]     },
		[taskcluster 2017-02-04T11:19:39.410Z]     "machine-setup": {
		[taskcluster 2017-02-04T11:19:39.410Z]       "maintainer": "pmoore@mozilla.com",
		[taskcluster 2017-02-04T11:19:39.411Z]       "script": "test-script-url"
		[taskcluster 2017-02-04T11:19:39.411Z]     }
		[taskcluster 2017-02-04T11:19:39.411Z]   }
		[taskcluster 2017-02-04T11:19:39.411Z] === Task Starting ===
		[taskcluster 2017-02-04T11:19:39.411Z] Executing command 0: echo hello world!
		[taskcluster 2017-02-04T11:19:39.423Z]   Exit Code: 3221225794
		[taskcluster 2017-02-04T11:19:39.423Z]   User Time: 0s
		[taskcluster 2017-02-04T11:19:39.423Z] Kernel Time: 0s
		[taskcluster 2017-02-04T11:19:39.423Z]   Wall Time: 4ms
		[taskcluster 2017-02-04T11:19:39.423Z] Peak Memory: 1388544
		[taskcluster 2017-02-04T11:19:39.423Z]      Result: FAILED
		[taskcluster 2017-02-04T11:19:39.424Z] === Task Finished ===
		[taskcluster 2017-02-04T11:19:39.424Z] Task Duration: 13ms
		'
	artifacts_test.go:368: Artifact 'public/logs/live.log': Could not find substring "Exit Code: 0" in '[taskcluster 2017-02-04T11:19:39.409Z] Worker Type (UnCmsOFJQNu2HUOqWuVHiA) settings:
		[taskcluster 2017-02-04T11:19:39.410Z]   {
		[taskcluster 2017-02-04T11:19:39.410Z]     "aws": {
		[taskcluster 2017-02-04T11:19:39.410Z]       "ami-id": "test-ami",
		[taskcluster 2017-02-04T11:19:39.410Z]       "availability-zone": "outer-space",
		[taskcluster 2017-02-04T11:19:39.410Z]       "instance-id": "test-instance-id",
		[taskcluster 2017-02-04T11:19:39.410Z]       "instance-type": "p3.enormous",
		[taskcluster 2017-02-04T11:19:39.410Z]       "local-ipv4": "87.65.43.21",
		[taskcluster 2017-02-04T11:19:39.410Z]       "public-ipv4": "12.34.56.78"
		[taskcluster 2017-02-04T11:19:39.410Z]     },
		[taskcluster 2017-02-04T11:19:39.410Z]     "generic-worker": {
		[taskcluster 2017-02-04T11:19:39.410Z]       "go-arch": "386",
		[taskcluster 2017-02-04T11:19:39.410Z]       "go-os": "windows",
		[taskcluster 2017-02-04T11:19:39.410Z]       "go-version": "go1.7.5",
		[taskcluster 2017-02-04T11:19:39.410Z]       "release": "test-release-url",
		[taskcluster 2017-02-04T11:19:39.410Z]       "version": "7.2.13"
		[taskcluster 2017-02-04T11:19:39.410Z]     },
		[taskcluster 2017-02-04T11:19:39.410Z]     "machine-setup": {
		[taskcluster 2017-02-04T11:19:39.410Z]       "maintainer": "pmoore@mozilla.com",
		[taskcluster 2017-02-04T11:19:39.411Z]       "script": "test-script-url"
		[taskcluster 2017-02-04T11:19:39.411Z]     }
		[taskcluster 2017-02-04T11:19:39.411Z]   }
		[taskcluster 2017-02-04T11:19:39.411Z] === Task Starting ===
		[taskcluster 2017-02-04T11:19:39.411Z] Executing command 0: echo hello world!
		[taskcluster 2017-02-04T11:19:39.423Z]   Exit Code: 3221225794
		[taskcluster 2017-02-04T11:19:39.423Z]   User Time: 0s
		[taskcluster 2017-02-04T11:19:39.423Z] Kernel Time: 0s
		[taskcluster 2017-02-04T11:19:39.423Z]   Wall Time: 4ms
		[taskcluster 2017-02-04T11:19:39.423Z] Peak Memory: 1388544
		[taskcluster 2017-02-04T11:19:39.423Z]      Result: FAILED
		[taskcluster 2017-02-04T11:19:39.424Z] === Task Finished ===
		[taskcluster 2017-02-04T11:19:39.424Z] Task Duration: 13ms
		'
	artifacts_test.go:368: Artifact 'public/logs/certified.log': Could not find substring "goodbye world!" in '[taskcluster 2017-02-04T11:19:39.409Z] Worker Type (UnCmsOFJQNu2HUOqWuVHiA) settings:
		[taskcluster 2017-02-04T11:19:39.410Z]   {
		[taskcluster 2017-02-04T11:19:39.410Z]     "aws": {
		[taskcluster 2017-02-04T11:19:39.410Z]       "ami-id": "test-ami",
		[taskcluster 2017-02-04T11:19:39.410Z]       "availability-zone": "outer-space",
		[taskcluster 2017-02-04T11:19:39.410Z]       "instance-id": "test-instance-id",
		[taskcluster 2017-02-04T11:19:39.410Z]       "instance-type": "p3.enormous",
		[taskcluster 2017-02-04T11:19:39.410Z]       "local-ipv4": "87.65.43.21",
		[taskcluster 2017-02-04T11:19:39.410Z]       "public-ipv4": "12.34.56.78"
		[taskcluster 2017-02-04T11:19:39.410Z]     },
		[taskcluster 2017-02-04T11:19:39.410Z]     "generic-worker": {
		[taskcluster 2017-02-04T11:19:39.410Z]       "go-arch": "386",
		[taskcluster 2017-02-04T11:19:39.410Z]       "go-os": "windows",
		[taskcluster 2017-02-04T11:19:39.410Z]       "go-version": "go1.7.5",
		[taskcluster 2017-02-04T11:19:39.410Z]       "release": "test-release-url",
		[taskcluster 2017-02-04T11:19:39.410Z]       "version": "7.2.13"
		[taskcluster 2017-02-04T11:19:39.410Z]     },
		[taskcluster 2017-02-04T11:19:39.410Z]     "machine-setup": {
		[taskcluster 2017-02-04T11:19:39.410Z]       "maintainer": "pmoore@mozilla.com",
		[taskcluster 2017-02-04T11:19:39.411Z]       "script": "test-script-url"
		[taskcluster 2017-02-04T11:19:39.411Z]     }
		[taskcluster 2017-02-04T11:19:39.411Z]   }
		[taskcluster 2017-02-04T11:19:39.411Z] === Task Starting ===
		[taskcluster 2017-02-04T11:19:39.411Z] Executing command 0: echo hello world!
		[taskcluster 2017-02-04T11:19:39.423Z]   Exit Code: 3221225794
		[taskcluster 2017-02-04T11:19:39.423Z]   User Time: 0s
		[taskcluster 2017-02-04T11:19:39.423Z] Kernel Time: 0s
		[taskcluster 2017-02-04T11:19:39.423Z]   Wall Time: 4ms
		[taskcluster 2017-02-04T11:19:39.423Z] Peak Memory: 1388544
		[taskcluster 2017-02-04T11:19:39.423Z]      Result: FAILED
		[taskcluster 2017-02-04T11:19:39.424Z] === Task Finished ===
		[taskcluster 2017-02-04T11:19:39.424Z] Task Duration: 13ms
		'
	artifacts_test.go:368: Artifact 'public/logs/certified.log': Could not find substring "Exit Code: 0" in '[taskcluster 2017-02-04T11:19:39.409Z] Worker Type (UnCmsOFJQNu2HUOqWuVHiA) settings:
		[taskcluster 2017-02-04T11:19:39.410Z]   {
		[taskcluster 2017-02-04T11:19:39.410Z]     "aws": {
		[taskcluster 2017-02-04T11:19:39.410Z]       "ami-id": "test-ami",
		[taskcluster 2017-02-04T11:19:39.410Z]       "availability-zone": "outer-space",
		[taskcluster 2017-02-04T11:19:39.410Z]       "instance-id": "test-instance-id",
		[taskcluster 2017-02-04T11:19:39.410Z]       "instance-type": "p3.enormous",
		[taskcluster 2017-02-04T11:19:39.410Z]       "local-ipv4": "87.65.43.21",
		[taskcluster 2017-02-04T11:19:39.410Z]       "public-ipv4": "12.34.56.78"
		[taskcluster 2017-02-04T11:19:39.410Z]     },
		[taskcluster 2017-02-04T11:19:39.410Z]     "generic-worker": {
		[taskcluster 2017-02-04T11:19:39.410Z]       "go-arch": "386",
		[taskcluster 2017-02-04T11:19:39.410Z]       "go-os": "windows",
		[taskcluster 2017-02-04T11:19:39.410Z]       "go-version": "go1.7.5",
		[taskcluster 2017-02-04T11:19:39.410Z]       "release": "test-release-url",
		[taskcluster 2017-02-04T11:19:39.410Z]       "version": "7.2.13"
		[taskcluster 2017-02-04T11:19:39.410Z]     },
		[taskcluster 2017-02-04T11:19:39.410Z]     "machine-setup": {
		[taskcluster 2017-02-04T11:19:39.410Z]       "maintainer": "pmoore@mozilla.com",
		[taskcluster 2017-02-04T11:19:39.411Z]       "script": "test-script-url"
		[taskcluster 2017-02-04T11:19:39.411Z]     }
		[taskcluster 2017-02-04T11:19:39.411Z]   }
		[taskcluster 2017-02-04T11:19:39.411Z] === Task Starting ===
		[taskcluster 2017-02-04T11:19:39.411Z] Executing command 0: echo hello world!
		[taskcluster 2017-02-04T11:19:39.423Z]   Exit Code: 3221225794
		[taskcluster 2017-02-04T11:19:39.423Z]   User Time: 0s
		[taskcluster 2017-02-04T11:19:39.423Z] Kernel Time: 0s
		[taskcluster 2017-02-04T11:19:39.423Z]   Wall Time: 4ms
		[taskcluster 2017-02-04T11:19:39.423Z] Peak Memory: 1388544
		[taskcluster 2017-02-04T11:19:39.423Z]      Result: FAILED
		[taskcluster 2017-02-04T11:19:39.424Z] === Task Finished ===
		[taskcluster 2017-02-04T11:19:39.424Z] Task Duration: 13ms
		'
	artifacts_test.go:368: Artifact 'public/logs/chainOfTrust.json.asc': Could not find substring "8308d593eb56527137532595a60255a3fcfbe4b6b068e29b22d99742bad80f6f" in '-----BEGIN PGP SIGNED MESSAGE-----
		Hash: SHA256
		
		{
		  "chainOfTrustVersion": 1,
		  "artifacts": {
		    "public/logs/certified.log": {
		      "sha256": "df45e8d0822c400c57998dadd6a831217f28d41debbb2dbee97895367f5e4985"
		    }
		  },
		  "task": {
		    "created": "2017-02-04T11:19:36.000Z",
		    "deadline": "2017-02-04T11:34:36.000Z",
		    "dependencies": [],
		    "expires": "2017-02-05T11:19:36.000Z",
		    "extra": {},
		    "metadata": {
		      "description": "Test task",
		      "name": "[TC] TestUpload",
		      "owner": "pmoore@mozilla.com",
		      "source": "https://github.com/taskcluster/generic-worker/blob/master/artifacts_test.go"
		    },
		    "payload": {
		      "artifacts": [
		        {
		          "expires": "2017-02-04T11:49:36.061Z",
		          "path": "SampleArtifacts/_/X.txt",
		          "type": "file"
		        }
		      ],
		      "command": [
		        "echo hello world!",
		        "echo goodbye world!",
		        "mkdir \"SampleArtifacts\\_\"",
		        "copy \"Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\SampleArtifacts\\_\\X.txt\" \"SampleArtifacts\\_\\X.txt\""
		      ],
		      "features": {
		        "chainOfTrust": true
		      },
		      "maxRunTime": 7200
		    },
		    "priority": "normal",
		    "provisionerId": "test-provisioner",
		    "requires": "all-completed",
		    "retries": 1,
		    "routes": [],
		    "schedulerId": "test-scheduler",
		    "scopes": [],
		    "tags": {
		      "createdForUser": "pmoore@mozilla.com"
		    },
		    "taskGroupId": "O-5VAxZ3Rdi_isTZCkQaxQ",
		    "workerType": "UnCmsOFJQNu2HUOqWuVHiA"
		  },
		  "taskId": "SOokBCIFR6KrOXSgCDxmZw",
		  "runId": 0,
		  "workerGroup": "test-worker-group",
		  "workerId": "test-worker-id",
		  "environment": {
		    "publicIpAddress": "12.34.56.78",
		    "privateIpAddress": "87.65.43.21",
		    "instanceId": "test-instance-id",
		    "instanceType": "p3.enormous",
		    "region": "outer-space"
		  }
		}
		-----BEGIN PGP SIGNATURE-----
		
		wsBcBAEBCAAQBQJYlbjMCRDGJNqMfD2d0AAAZ7YIAHKX/7RvM0NlwvYIjBdsTHhj
		xdEVvj5S8UYsWydJy/MpVEnA5s7R1lle2XAq/ltGcDnNGNhfkCwf6Uq0tADBBJM8
		yZC13WS38+tLp2ibDH4HUGvVoou+rCaMU5Jy5DD1AxSvwQrCQFdNAatC1VWaIl4K
		TewxKa2C/DTShhc1p3BzpS5h++UdMntSIWNHeww+m8xq3dy6MAX/VlMYp+A4xV1m
		+8qIm4J2dIhK8qfps9NZYo3g02QcqDoqw9Zn5/r9SdqwpbyGEG+AORPDnT4SIj6E
		q3Gkm7fbhO6l4anLvK+PJwl89DyZ6Cef/fNTkNOBz9eXgC9uAfq4c8So/0lmabQ=
		=wFu3
		-----END PGP SIGNATURE-----
		'
	artifacts_test.go:356: Error trying to fetch decompressed artifact from signed URL https://queue.taskcluster.net/v1/task/SOokBCIFR6KrOXSgCDxmZw/artifacts/SampleArtifacts%2F_%2FX.txt?bewit=cHJvamVjdC90YXNrY2x1c3Rlci9nZW5lcmljLXdvcmtlci90YXNrY2x1c3Rlci1jaVwxNDg2MjA3Nzg5XEcwR2NPc1VTdW43VStrQi94WGdIY1JPYS9ZMEl1S0pjWU95VExVSGFhYzA9XA ...
		(Permanent) HTTP response code 403
		HTTP/1.1 403 Forbidden
		Content-Length: 189
		Access-Control-Allow-Headers: X-Requested-With,Content-Type,Authorization,Accept,Origin
		Access-Control-Allow-Methods: OPTIONS,GET,HEAD,POST,PUT,DELETE,TRACE,CONNECT
		Access-Control-Allow-Origin: *
		Access-Control-Request-Method: *
		Connection: keep-alive
		Content-Type: application/json; charset=utf-8
		Date: Sat, 04 Feb 2017 11:19:50 GMT
		Etag: W/"bd-a98b7c76"
		Server: Cowboy
		Strict-Transport-Security: max-age=7776000
		Via: 1.1 vegur
		X-Powered-By: Express
		
		{
		  "reason": "file-missing-on-worker",
		  "message": "Could not read file 'Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207177\\SampleArtifacts\\_\\X.txt'"
		}
=== RUN   TestMissingIPConfig
--- PASS: TestMissingIPConfig (0.00s)
=== RUN   TestValidConfig
--- PASS: TestValidConfig (0.00s)
=== RUN   TestInvalidIPConfig
--- PASS: TestInvalidIPConfig (0.00s)
=== RUN   TestInvalidJsonConfig
--- PASS: TestInvalidJsonConfig (0.00s)
=== RUN   TestMissingConfigFile
--- PASS: TestMissingConfigFile (0.00s)
=== RUN   TestWorkerTypeMetadata
--- PASS: TestWorkerTypeMetadata (0.00s)
=== RUN   TestBoolAsString
--- PASS: TestBoolAsString (0.00s)
=== RUN   TestFailureResolvesAsFailure
2017/02/04 11:19:50 Detected windows platform
2017/02/04 11:19:50 No previous task user desktop, so no need to close any open desktops
2017/02/04 11:19:50 Looking for existing task users to delete...
2017/02/04 11:19:50 Attempting to remove Windows user task_1486207177...
2017/02/04 11:19:50 Running command: 'net' 'user' 'task_1486207177' '/delete'
The command completed successfully.

2017/02/04 11:19:50 Creating Windows User task_1486207190...
2017/02/04 11:19:50 Running command: 'net' 'user' 'task_1486207190' 'pWd0_7qespx6DNzJWL3GY3xA2juEw' '/add' '/expires:never' '/passwordchg:no' '/y'
2017/02/04 11:19:50 Created new task user!
2017/02/04 11:19:50 Running command: 'wmic' 'useraccount' 'where' 'name='task_1486207190'' 'set' 'passwordexpires=false'
Updating property(s) of '\\I-02A561117A676\ROOT\CIMV2:Win32_UserAccount.Domain="I-02A561117A676",Name="task_1486207190"'
Property(s) update successful.
2017/02/04 11:19:50 Running command: 'net' 'localgroup' 'Remote Desktop Users' '/add' 'task_1486207190'
The command completed successfully.

2017/02/04 11:19:50 Making system call GetProcessWindowStation with args: []
2017/02/04 11:19:50   Result: 2C
2017/02/04 11:19:50 Making system call GetCurrentThreadId with args: []
2017/02/04 11:19:50   Result: A40
2017/02/04 11:19:50 Making system call GetThreadDesktop with args: [A40]
2017/02/04 11:19:50   Result: 30
2017/02/04 11:19:50 Making system call GetUserObjectInformationW with args: [30 2 11D27C00 200 12019E28]
2017/02/04 11:19:50   Result: 1
2017/02/04 11:19:50 Making system call GetUserObjectInformationW with args: [2C 2 11D27E00 200 12019E78]
2017/02/04 11:19:50   Result: 1
2017/02/04 11:19:50 Making system call GetCurrentThreadId with args: []
2017/02/04 11:19:50   Result: A40
2017/02/04 11:19:50 Making system call CreateDesktopW with args: [12019F40 0 0 0 10000000 12019F50]
2017/02/04 11:19:50   Result: 540
2017/02/04 11:19:50 Making system call InitializeAcl with args: [124B4000 400 2]
2017/02/04 11:19:50   Result: 1
2017/02/04 11:19:50 Making system call AddAccessAllowedAceEx with args: [124B4000 2 B 10000000 12019FE0]
2017/02/04 11:19:50   Result: 1
2017/02/04 11:19:50 Making system call AddAccessAllowedAceEx with args: [124B4000 2 4 2037F 12019FE0]
2017/02/04 11:19:50   Result: 1
2017/02/04 11:19:50 Making system call InitializeSecurityDescriptor with args: [11D77200 1]
2017/02/04 11:19:50   Result: 1
2017/02/04 11:19:50 Making system call SetSecurityDescriptorDacl with args: [11D77200 1 124B4000 0]
2017/02/04 11:19:50   Result: 1
2017/02/04 11:19:50 Making system call SetUserObjectSecurity with args: [2C 11F2617C 11D77200]
2017/02/04 11:19:50   Result: 1
2017/02/04 11:19:50 Making system call InitializeAcl with args: [124B4480 400 2]
2017/02/04 11:19:50   Result: 1
2017/02/04 11:19:50 Making system call AddAccessAllowedAce with args: [124B4480 2 201FF 12019FE0]
2017/02/04 11:19:50   Result: 1
2017/02/04 11:19:50 Making system call InitializeSecurityDescriptor with args: [11D78400 1]
2017/02/04 11:19:50   Result: 1
2017/02/04 11:19:50 Making system call SetSecurityDescriptorDacl with args: [11D78400 1 124B4480 0]
2017/02/04 11:19:50   Result: 1
2017/02/04 11:19:50 Making system call SetUserObjectSecurity with args: [540 11F2637C 11D78400]
2017/02/04 11:19:50   Result: 1
2017/02/04 11:19:50 Making system call LogonUserW with args: [11E44860 11F2640C 11CFC700 2 0 11F26430]
2017/02/04 11:19:50   Result: 1
2017/02/04 11:19:50 Making system call LoadUserProfileW with args: [534 11E448A0]
2017/02/04 11:19:51   Result: 1
2017/02/04 11:19:51 Making system call SwitchDesktop with args: [540]
2017/02/04 11:19:51   Result: 1
2017/02/04 11:19:51 Making system call SHSetKnownFolderPath with args: [B338C0 0 534 120A1A40]
2017/02/04 11:19:51   Result: 0
2017/02/04 11:19:51 Making system call SHGetKnownFolderPath with args: [B338C0 8000 534 11F26560]
2017/02/04 11:19:51   Result: 0
2017/02/04 11:19:51 Making system call CoTaskMemFree with args: [25D040]
2017/02/04 11:19:51   Result: 1
2017/02/04 11:19:51 Making system call SHSetKnownFolderPath with args: [B338B0 0 534 120A1AE0]
2017/02/04 11:19:51   Result: 0
2017/02/04 11:19:51 Making system call SHGetKnownFolderPath with args: [B338B0 8000 534 11F26630]
2017/02/04 11:19:51   Result: 0
2017/02/04 11:19:51 Making system call CoTaskMemFree with args: [2601F0]
2017/02/04 11:19:51   Result: 1
2017/02/04 11:19:51 Refreshing signed urls in 24m50.8772s
2017/02/04 11:19:51   Priority (1) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-pl34p4qmkkmnrnxikm4jdlbe-5/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A49%3A52Z&sp=p&spr=https&sig=TnLV%2Fhav8bnWdpMXCHE98AZ%2F3arI3mDhx8z547TuRu8%3D&st=2017-02-04T11%3A04%3A52Z
2017/02/04 11:19:51   Priority (1) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-pl34p4qmkkmnrnxikm4jdlbe-5/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A52Z&sp=p&spr=https&sig=TnLV%2Fhav8bnWdpMXCHE98AZ%2F3arI3mDhx8z547TuRu8%3D&st=2017-02-04T11%3A04%3A52Z
2017/02/04 11:19:51   Priority (2) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-pl34p4qmkkmnrnxikm4jdlbe-1/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A49%3A52Z&sp=p&spr=https&sig=YBWCN6YKvzwysW%2FbcaYKm39jskWmdWAoIGAljl4tcc0%3D&st=2017-02-04T11%3A04%3A52Z
2017/02/04 11:19:51   Priority (2) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-pl34p4qmkkmnrnxikm4jdlbe-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A52Z&sp=p&spr=https&sig=YBWCN6YKvzwysW%2FbcaYKm39jskWmdWAoIGAljl4tcc0%3D&st=2017-02-04T11%3A04%3A52Z
2017/02/04 11:19:51 Task found
2017/02/04 11:19:51 Claiming task CQWDzmasTyuIyHMzN-P0HA...
2017/02/04 11:19:51 Deleting task CQWDzmasTyuIyHMzN-P0HA from Azure queue...
2017/02/04 11:19:51 Successfully deleted task from azure queue (delete url: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-pl34p4qmkkmnrnxikm4jdlbe-1/messages/e8a21aae-3822-4d60-9f93-7b7cd58e57e1?popreceipt=AgAAAAMAAAAAAAAAyB5qTdl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A49%3A52Z&sp=p&spr=https&sig=YBWCN6YKvzwysW%2FbcaYKm39jskWmdWAoIGAljl4tcc0%3D&st=2017-02-04T11%3A04%3A52Z) with http response code 204.
2017/02/04 11:19:51 Setting reclaim timer...
2017/02/04 11:19:51 Current claim will expire at 2017-02-04 11:39:52.549 +0000 UTC
2017/02/04 11:19:51 Reclaiming 3 mins earlier, at 2017-02-04 11:36:52.549 +0000 UTC
2017/02/04 11:19:51 Time to wait until then is 17m0.5752s
2017/02/04 11:19:51 This is more than 30 seconds away - so setting a timer
2017/02/04 11:19:51 JSON payload: {
      "command": [
        "exit 1"
      ],
      "features": {},
      "maxRunTime": 10
    }
2017/02/04 11:19:51 Running task https://tools.taskcluster.net/task-inspector/#CQWDzmasTyuIyHMzN-P0HA/0
2017/02/04 11:19:51 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207190\command_000000_wrapper.bat
2017/02/04 11:19:51 Deadline: 2017-02-04 11:20:01.9748 +0000 GMT
2017/02/04 11:19:51 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207190\command_000000_wrapper.bat
2017/02/04 11:19:51 Uploading artifact: public/logs/live.log
2017/02/04 11:19:52 Disk available: 84842487808 bytes
2017/02/04 11:19:52 Executing command 0: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207190\command_000000_wrapper.bat
2017/02/04 11:19:52 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207190\\command_000000.bat":
2017/02/04 11:19:52 Contents:
2017/02/04 11:19:52 @echo on
exit 1
2017/02/04 11:19:52 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:19:52   Result: 18
2017/02/04 11:19:52 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:19:52   Result: 1B
2017/02/04 11:19:52 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:19:52   Result: 1801B
2017/02/04 11:19:52 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:19:52   Result: 1B01B
2017/02/04 11:19:52 Making system call VerifyVersionInfoW with args: [11DFB320 33 1B01B 80000000]
2017/02/04 11:19:52   Result: 0
2017/02/04 11:19:52 Making system call CreateEnvironmentBlock with args: [11F27410 534 0]
2017/02/04 11:19:52   Result: 1
2017/02/04 11:19:52 Making system call DestroyEnvironmentBlock with args: [272820]
2017/02/04 11:19:52   Result: 1
2017/02/04 11:19:52 Making system call CreateProcessAsUserW with args: [534 0 11ED7790 0 0 1 1000614 11FC2000 124B81E0 11E7F2C0 11F27400]
2017/02/04 11:19:52   Result: 1
time="2017-02-04T11:19:52Z" level=info msg="processInfo: 0x11e23d80" 
2017/02/04 11:19:52 Making system call SetPriorityClass with args: [57C 8000]
2017/02/04 11:19:52   Result: 1
2017/02/04 11:19:52 Making system call ResumeThread with args: [578]
2017/02/04 11:19:52   Result: 1
2017/02/04 11:19:52 Making system call GetProcessMemoryInfo with args: [57C 11DEA690 2C]
2017/02/04 11:19:52   Result: 1
2017/02/04 11:19:52 Making system call CloseHandle with args: [57C]
2017/02/04 11:19:52   Result: 0
2017/02/04 11:19:52 Error when closing handle: The handle is invalid.
2017/02/04 11:19:52 Redirecting live.log to live_backing.log
2017/02/04 11:19:52 Uploading artifact: public/logs/live.log
2017/02/04 11:19:52 Uploading artifact: public/logs/live_backing.log
2017/02/04 11:19:53 Making system call UnloadUserProfile with args: [384 398]
2017/02/04 11:19:53 Request
2017/02/04 11:19:53 PUT /CQWDzmasTyuIyHMzN-P0HA/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486209004&Signature=6LobdBGsT5jjtLLz4iHeo%2B0IGMc%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 541
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:19:53   Result: 1
2017/02/04 11:19:53 Making system call CloseHandle with args: [384]
2017/02/04 11:19:53   Result: 0
2017/02/04 11:19:53 Error when closing handle: The handle is invalid.
2017/02/04 11:19:53 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/CQWDzmasTyuIyHMzN-P0HA/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486209004&Signature=6LobdBGsT5jjtLLz4iHeo%2B0IGMc%3D
2017/02/04 11:19:53 Response
2017/02/04 11:19:53 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:19:55 GMT
Etag: "1717adb96d6b9b6413645687d46ee982"
Server: AmazonS3
X-Amz-Id-2: PP2yHBVxPsrj5L5cAWejp5rSSTp73hNwK8mhIKyEANN+O7fAggejhh9xMGB6/tCR4UwmXtM8Ts4=
X-Amz-Request-Id: DA562A78486B0169
X-Amz-Version-Id: G9qXTbl1B.vQ_9o9IkdZ3QjB7TRUCjUK

2017/02/04 11:19:53 Resolving task...
2017/02/04 11:19:54 Task Id:                 CQWDzmasTyuIyHMzN-P0HA
Run Id:                  0
Run Id (Task Claim):     0
Message Id:              e8a21aae-3822-4d60-9f93-7b7cd58e57e1
Insertion Time:          2017-02-04 11:19:51 +0000 GMT
Expiration Time:         2017-02-04 11:34:48 +0000 GMT
Dequeue Count:           1
Pop Receipt:             AgAAAAMAAAAAAAAAyB5qTdl+0gE=
Time Next Visible:       2017-02-04 11:24:51 +0000 GMT
Message Text:            eyJ0YXNrSWQiOiJDUVdEem1hc1R5dUl5SE16Ti1QMEhBIiwicnVuSWQiOjAsImhpbnRJZCI6IlRlUjVKR2thUWYtS2N6ZGlYb3dLb2cifQ==
Run 0:
  Reason Created:        scheduled
  Reason Resolved:       failed
  Resolved:              2017-02-04T11:19:54.769Z
  Run Id:                0
  Scheduled:             2017-02-04T11:19:50.981Z
  Started:               2017-02-04T11:19:52.629Z
  State:                 failed
  Taken Until:           2017-02-04T11:39:52.549Z
  Worker Group:          test-worker-group
  Worker Id:             test-worker-id
==========================================
Status Deadline:         2017-02-04T11:34:49.000Z
Status Provisioner Id:   test-provisioner
Status Retries Left:     1
Status Scheduler Id:     test-scheduler
Status State:            failed
Status Task Group Id:    O-5VAxZ3Rdi_isTZCkQaxQ
Status Task Id:          CQWDzmasTyuIyHMzN-P0HA
Status Worker Type:      dq4zxWICSWyFl3w2IBMC8Q
Taken Until:             2017-02-04T11:39:52.549Z
Worker Group:            test-worker-group
Worker Id:               test-worker-id
==========================================
Signed Poll URL:         https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-pl34p4qmkkmnrnxikm4jdlbe-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A52Z&sp=p&spr=https&sig=YBWCN6YKvzwysW%2FbcaYKm39jskWmdWAoIGAljl4tcc0%3D&st=2017-02-04T11%3A04%3A52Z
Signed Delete URL:       https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-pl34p4qmkkmnrnxikm4jdlbe-1/messages/e8a21aae-3822-4d60-9f93-7b7cd58e57e1?popreceipt=AgAAAAMAAAAAAAAAyB5qTdl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A49%3A52Z&sp=p&spr=https&sig=YBWCN6YKvzwysW%2FbcaYKm39jskWmdWAoIGAljl4tcc0%3D&st=2017-02-04T11%3A04%3A52Z
==========================================
Created:                 2017-02-04T11:19:49.000Z
Deadline:                2017-02-04T11:34:49.000Z
Expires:                 2017-02-05T11:19:49.000Z
Extra:                   {}
Metadata:                {Test task [TC] TestUpload pmoore@mozilla.com https://github.com/taskcluster/generic-worker/blob/master/artifacts_test.go}
Payload:                 {
      "command": [
        "exit 1"
      ],
      "features": {},
      "maxRunTime": 10
    }
Provisioner Id:          test-provisioner
Retries:                 1
Routes:                  []string{}
SchedulerId:             test-scheduler
Scopes:                  []string{}
Tags:                    {
      "createdForUser": "pmoore@mozilla.com"
    }
Task Group Id:           O-5VAxZ3Rdi_isTZCkQaxQ
Worker Type:             dq4zxWICSWyFl3w2IBMC8Q
==========================================
Artifacts:               []
Command:                 []string{"exit 1"}
Env:                     json.RawMessage(nil)
Max Run Time:            10
==========================================
2017/02/04 11:19:54 ERROR encountered: Task not successful due to following exception(s):
Exception 1)
[]

Exit code: 3221225794
2017/02/04 11:19:54 Making system call SwitchDesktop with args: [540]
2017/02/04 11:19:54   Result: 1
2017/02/04 11:19:54 Making system call CloseDesktop with args: [30]
2017/02/04 11:19:54   Result: 0
2017/02/04 11:19:54 Error cleaning up after task!
Could not create new task user because previous task user's desktop could not be closed:
CloseDesktop: The requested resource is in use.
--- PASS: TestFailureResolvesAsFailure (4.54s)
=== RUN   TestAbortAfterMaxRunTime
2017/02/04 11:19:55 Detected windows platform
2017/02/04 11:19:55 No previous task user desktop, so no need to close any open desktops
2017/02/04 11:19:55 Looking for existing task users to delete...
2017/02/04 11:19:55 Attempting to remove Windows user task_1486207190...
2017/02/04 11:19:55 Running command: 'net' 'user' 'task_1486207190' '/delete'
The command completed successfully.

2017/02/04 11:19:55 Creating Windows User task_1486207195...
2017/02/04 11:19:55 Running command: 'net' 'user' 'task_1486207195' 'pWd0_ysCE0LpBtju3UL2KO0CScwPD' '/add' '/expires:never' '/passwordchg:no' '/y'
2017/02/04 11:19:55 Created new task user!
2017/02/04 11:19:55 Running command: 'wmic' 'useraccount' 'where' 'name='task_1486207195'' 'set' 'passwordexpires=false'
Updating property(s) of '\\I-02A561117A676\ROOT\CIMV2:Win32_UserAccount.Domain="I-02A561117A676",Name="task_1486207195"'
Property(s) update successful.
2017/02/04 11:19:55 Running command: 'net' 'localgroup' 'Remote Desktop Users' '/add' 'task_1486207195'
The command completed successfully.

2017/02/04 11:19:55 Making system call GetProcessWindowStation with args: []
2017/02/04 11:19:55   Result: 2C
2017/02/04 11:19:55 Making system call GetCurrentThreadId with args: []
2017/02/04 11:19:55   Result: A40
2017/02/04 11:19:55 Making system call GetThreadDesktop with args: [A40]
2017/02/04 11:19:55   Result: 30
2017/02/04 11:19:55 Making system call GetUserObjectInformationW with args: [30 2 11D27800 200 1211BCC8]
2017/02/04 11:19:55   Result: 1
2017/02/04 11:19:55 Making system call GetUserObjectInformationW with args: [2C 2 11D27A00 200 1211BD48]
2017/02/04 11:19:55   Result: 1
2017/02/04 11:19:55 Making system call GetCurrentThreadId with args: []
2017/02/04 11:19:55   Result: A40
2017/02/04 11:19:55 Making system call CreateDesktopW with args: [1211BE50 0 0 0 10000000 1211BE60]
2017/02/04 11:19:55   Result: 0
2017/02/04 11:19:55 goroutine 273 [running]:
runtime/debug.Stack(0x0, 0x0, 0x0)
	Z:/go/src/runtime/debug/stack.go:24 +0x80
github.com/taskcluster/generic-worker.runWorker.func1()
	Z:/gopath/src/github.com/taskcluster/generic-worker/main.go:437 +0x43
panic(0x8be9c0, 0x1211bed0)
	Z:/go/src/runtime/panic.go:458 +0x40b
github.com/taskcluster/generic-worker.prepareTaskUser(0x12010b80, 0xf)
	Z:/gopath/src/github.com/taskcluster/generic-worker/plat_windows.go:99 +0x14d
github.com/taskcluster/generic-worker.PrepareTaskEnvironment()
	Z:/gopath/src/github.com/taskcluster/generic-worker/main.go:1231 +0x18b
github.com/taskcluster/generic-worker.runWorker()
	Z:/gopath/src/github.com/taskcluster/generic-worker/main.go:472 +0x65e
github.com/taskcluster/generic-worker.TestAbortAfterMaxRunTime(0x11eb6580)
	Z:/gopath/src/github.com/taskcluster/generic-worker/main_test.go:40 +0x10a
testing.tRunner(0x11eb6580, 0x98ad20)
	Z:/go/src/testing/testing.go:610 +0x8c
created by testing.(*T).Run
	Z:/go/src/testing/testing.go:646 +0x2a5
2017/02/04 11:19:55 Cause: CreateDesktop: Access is denied.
--- FAIL: TestAbortAfterMaxRunTime (1.26s)
	main_test.go:47: Was expecting state "failed" but got "pending"
=== RUN   TestMounts
2017/02/04 11:19:56 Detected windows platform
2017/02/04 11:19:56 No previous task user desktop, so no need to close any open desktops
2017/02/04 11:19:56 Looking for existing task users to delete...
2017/02/04 11:19:56 Attempting to remove Windows user task_1486207195...
2017/02/04 11:19:56 Running command: 'net' 'user' 'task_1486207195' '/delete'
The command completed successfully.

2017/02/04 11:19:56 Creating Windows User task_1486207196...
2017/02/04 11:19:56 Running command: 'net' 'user' 'task_1486207196' 'pWd0_ylM9a0B2jqoHYIwB87x3nf4Y' '/add' '/expires:never' '/passwordchg:no' '/y'
2017/02/04 11:19:56 Created new task user!
2017/02/04 11:19:56 Running command: 'wmic' 'useraccount' 'where' 'name='task_1486207196'' 'set' 'passwordexpires=false'
Updating property(s) of '\\I-02A561117A676\ROOT\CIMV2:Win32_UserAccount.Domain="I-02A561117A676",Name="task_1486207196"'
Property(s) update successful.
2017/02/04 11:19:56 Running command: 'net' 'localgroup' 'Remote Desktop Users' '/add' 'task_1486207196'
2017/02/04 11:19:56 Making system call UnloadUserProfile with args: [534 554]
The command completed successfully.

2017/02/04 11:19:56   Result: 1
2017/02/04 11:19:56 Making system call CloseHandle with args: [534]
2017/02/04 11:19:56   Result: 0
2017/02/04 11:19:56 Error when closing handle: The handle is invalid.
2017/02/04 11:19:56 Making system call GetProcessWindowStation with args: []
2017/02/04 11:19:56   Result: 2C
2017/02/04 11:19:56 Making system call GetCurrentThreadId with args: []
2017/02/04 11:19:56   Result: F18
2017/02/04 11:19:56 Making system call GetThreadDesktop with args: [F18]
2017/02/04 11:19:56   Result: 30
2017/02/04 11:19:56 Making system call GetUserObjectInformationW with args: [30 2 11D26400 200 11F780BC]
2017/02/04 11:19:56   Result: 1
2017/02/04 11:19:56 Making system call GetUserObjectInformationW with args: [2C 2 11D26C00 200 11F7810C]
2017/02/04 11:19:56   Result: 1
2017/02/04 11:19:56 Making system call GetCurrentThreadId with args: []
2017/02/04 11:19:56   Result: F18
2017/02/04 11:19:56 Making system call CreateDesktopW with args: [11F781D0 0 0 0 10000000 11F781E0]
2017/02/04 11:19:56   Result: 534
2017/02/04 11:19:56 Making system call InitializeAcl with args: [11F08900 400 2]
2017/02/04 11:19:56   Result: 1
2017/02/04 11:19:56 Making system call AddAccessAllowedAceEx with args: [11F08900 2 B 10000000 11F78280]
2017/02/04 11:19:56   Result: 1
2017/02/04 11:19:56 Making system call AddAccessAllowedAceEx with args: [11F08900 2 4 2037F 11F78280]
2017/02/04 11:19:56   Result: 1
2017/02/04 11:19:56 Making system call InitializeSecurityDescriptor with args: [11D76000 1]
2017/02/04 11:19:56   Result: 1
2017/02/04 11:19:56 Making system call SetSecurityDescriptorDacl with args: [11D76000 1 11F08900 0]
2017/02/04 11:19:56   Result: 1
2017/02/04 11:19:56 Making system call SetUserObjectSecurity with args: [2C 11F7844C 11D76000]
2017/02/04 11:19:56   Result: 1
2017/02/04 11:19:56 Making system call InitializeAcl with args: [11F08D80 400 2]
2017/02/04 11:19:56   Result: 1
2017/02/04 11:19:56 Making system call AddAccessAllowedAce with args: [11F08D80 2 201FF 11F78280]
2017/02/04 11:19:56   Result: 1
2017/02/04 11:19:56 Making system call InitializeSecurityDescriptor with args: [11D77200 1]
2017/02/04 11:19:56   Result: 1
2017/02/04 11:19:56 Making system call SetSecurityDescriptorDacl with args: [11D77200 1 11F08D80 0]
2017/02/04 11:19:56   Result: 1
2017/02/04 11:19:56 Making system call SetUserObjectSecurity with args: [534 11F785EC 11D77200]
2017/02/04 11:19:56   Result: 1
2017/02/04 11:19:56 Making system call LogonUserW with args: [11E44260 11F7864C 11FF2380 2 0 11F78660]
2017/02/04 11:19:56   Result: 1
2017/02/04 11:19:56 Making system call LoadUserProfileW with args: [564 11E442C0]
2017/02/04 11:19:57   Result: 1
2017/02/04 11:19:57 Making system call SwitchDesktop with args: [534]
2017/02/04 11:19:57   Result: 1
2017/02/04 11:19:57 Making system call SHSetKnownFolderPath with args: [B338C0 0 564 11EEA280]
2017/02/04 11:19:57   Result: 0
2017/02/04 11:19:57 Making system call SHGetKnownFolderPath with args: [B338C0 8000 564 11F78770]
2017/02/04 11:19:57   Result: 0
2017/02/04 11:19:57 Making system call CoTaskMemFree with args: [1D0F90]
2017/02/04 11:19:57   Result: 1
2017/02/04 11:19:57 Making system call SHSetKnownFolderPath with args: [B338B0 0 564 11EEA3C0]
2017/02/04 11:19:57   Result: 0
2017/02/04 11:19:57 Making system call SHGetKnownFolderPath with args: [B338B0 8000 564 11F78860]
2017/02/04 11:19:57   Result: 0
2017/02/04 11:19:57 Making system call CoTaskMemFree with args: [2601F0]
2017/02/04 11:19:57   Result: 1
2017/02/04 11:19:57 Refreshing signed urls in 24m50.8942s
2017/02/04 11:19:57   Priority (1) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-veekdf6laz3xtq7ywxykivcc-5/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A49%3A58Z&sp=p&spr=https&sig=wJO3y%2Bf5rkqwaGd1TbnDQoUCw1S20H5Wd%2FhPl9dx1Lk%3D&st=2017-02-04T11%3A04%3A58Z
2017/02/04 11:19:57   Priority (1) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-veekdf6laz3xtq7ywxykivcc-5/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A58Z&sp=p&spr=https&sig=wJO3y%2Bf5rkqwaGd1TbnDQoUCw1S20H5Wd%2FhPl9dx1Lk%3D&st=2017-02-04T11%3A04%3A58Z
2017/02/04 11:19:57   Priority (2) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-veekdf6laz3xtq7ywxykivcc-1/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A49%3A58Z&sp=p&spr=https&sig=HyrSnp%2FTkQWbeS6UApj9Ooojdm%2B4r5JVTyjfXhIuUfU%3D&st=2017-02-04T11%3A04%3A58Z
2017/02/04 11:19:57   Priority (2) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-veekdf6laz3xtq7ywxykivcc-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A58Z&sp=p&spr=https&sig=HyrSnp%2FTkQWbeS6UApj9Ooojdm%2B4r5JVTyjfXhIuUfU%3D&st=2017-02-04T11%3A04%3A58Z
2017/02/04 11:19:57 Task found
2017/02/04 11:19:57 Claiming task XjmWn55LQbKzbWLS-qVCxQ...
2017/02/04 11:19:57 Deleting task XjmWn55LQbKzbWLS-qVCxQ from Azure queue...
2017/02/04 11:19:57 Successfully deleted task from azure queue (delete url: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-veekdf6laz3xtq7ywxykivcc-1/messages/86092270-1ce9-4955-bb78-12cbf42f6a94?popreceipt=AgAAAAMAAAAAAAAA9R0BUdl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A49%3A58Z&sp=p&spr=https&sig=HyrSnp%2FTkQWbeS6UApj9Ooojdm%2B4r5JVTyjfXhIuUfU%3D&st=2017-02-04T11%3A04%3A58Z) with http response code 204.
2017/02/04 11:19:57 Setting reclaim timer...
2017/02/04 11:19:57 Current claim will expire at 2017-02-04 11:39:58.571 +0000 UTC
2017/02/04 11:19:57 Reclaiming 3 mins earlier, at 2017-02-04 11:36:58.571 +0000 UTC
2017/02/04 11:19:57 Time to wait until then is 17m0.5842s
2017/02/04 11:19:57 This is more than 30 seconds away - so setting a timer
2017/02/04 11:19:57 JSON payload: {
      "command": [
        "powershell -command \"&{& set-executionpolicy unrestricted -scope currentuser }\"",
        "powershell -file preloaded\\\\check-shasums.ps1"
      ],
      "features": {},
      "maxRunTime": 180,
      "mounts": [
        {
          "content": {
            "taskId": "KTBKfEgxR5GdfIIREQIvFQ",
            "artifact": "SampleArtifacts/_/X.txt"
          },
          "file": "preloaded\\Mr X.txt"
        },
        {
          "content": {
            "url": "https://raw.githubusercontent.com/taskcluster/testrepo/master/generic-worker/check-shasums.sh"
          },
          "file": "preloaded\\check-shasums.sh"
        },
        {
          "content": {
            "url": "https://raw.githubusercontent.com/taskcluster/testrepo/master/generic-worker/check-shasums.ps1"
          },
          "file": "preloaded\\check-shasums.ps1"
        },
        {
          "content": {
            "url": "https://raw.githubusercontent.com/taskcluster/testrepo/master/generic-worker/shasums"
          },
          "file": "preloaded\\shasums"
        },
        {
          "cacheName": "banana-cache",
          "directory": "my-task-caches\\bananas"
        },
        {
          "cacheName": "tomato-cache",
          "content": {
            "taskId": "To_4IZUgRgOrmR2w6UTerA",
            "artifact": "public/build/mozharness.zip"
          },
          "directory": "my-task-caches\\tomatoes",
          "format": "zip"
        },
        {
          "cacheName": "devtools-app",
          "content": {
            "url": "https://github.com/mozilla/gecko-dev/raw/233f30f2377f3df0f3388721901681f432b813fb/devtools/client/webide/test/app.zip"
          },
          "directory": "my-task-caches\\devtools-app",
          "format": "zip"
        },
        {
          "content": {
            "taskId": "OpqCz--JTlCYFq_bu3489A",
            "artifact": "public/build/mozharness.zip"
          },
          "directory": "my-task-caches\\mozharness",
          "format": "zip"
        },
        {
          "content": {
            "url": "https://github.com/taskcluster/logserver/raw/53134a5b9cbece05752c0ecc1a6c6d7c2fbf6580/node_modules/express/node_modules/connect/node_modules/multiparty/test/fixture/file/binaryfile.tar.gz"
          },
          "directory": "my-task-caches\\package",
          "format": "tar.gz"
        }
      ]
    }
2017/02/04 11:19:57 Running task https://tools.taskcluster.net/task-inspector/#XjmWn55LQbKzbWLS-qVCxQ/0
2017/02/04 11:19:57 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207196\command_000000_wrapper.bat
2017/02/04 11:19:57 Deadline: 2017-02-04 11:22:57.9888 +0000 GMT
2017/02/04 11:19:57 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207196\command_000000_wrapper.bat
2017/02/04 11:19:57 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207196\command_000001_wrapper.bat
2017/02/04 11:19:57 Deadline: 2017-02-04 11:22:57.9888 +0000 GMT
2017/02/04 11:19:57 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207196\command_000001_wrapper.bat
2017/02/04 11:19:57 Uploading artifact: public/logs/live.log
2017/02/04 11:19:58 Disk available: 84842483712 bytes
2017/02/04 11:19:58 Downloading url https://queue.taskcluster.net/v1/task/KTBKfEgxR5GdfIIREQIvFQ/artifacts/SampleArtifacts%2F_%2FX.txt?bewit=cHJvamVjdC90YXNrY2x1c3Rlci9nZW5lcmljLXdvcmtlci90YXNrY2x1c3Rlci1jaVwxNDg2MjA4OTk4XFNXZUpCRUgzbjVGT3gveVkramZBNGh1N2VsTS9jR3J3VnhWamo0Sk4yV0k9XA to Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\JBIwb3iGQzuunGvEJq-p-Q
2017/02/04 11:19:59 Downloading url https://raw.githubusercontent.com/taskcluster/testrepo/master/generic-worker/check-shasums.sh to Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\X9v45y1vRp6cQ45Q2s6xiw
2017/02/04 11:19:59 Downloading url https://raw.githubusercontent.com/taskcluster/testrepo/master/generic-worker/check-shasums.ps1 to Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\IXwEO8EPTDeqLlrdggCubA
2017/02/04 11:19:59 Downloading url https://raw.githubusercontent.com/taskcluster/testrepo/master/generic-worker/shasums to Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\N15O4Ju_QhmLkAiN6Fg1Yg
2017/02/04 11:19:59 Downloading url https://queue.taskcluster.net/v1/task/To_4IZUgRgOrmR2w6UTerA/artifacts/public%2Fbuild%2Fmozharness.zip?bewit=cHJvamVjdC90YXNrY2x1c3Rlci9nZW5lcmljLXdvcmtlci90YXNrY2x1c3Rlci1jaVwxNDg2MjA4OTk5XFJXb2Zzdm1jMCt1M3hraU9XUzNGNFdYdmdEQkswK1pFdWRJNkt3U09SeTg9XA to Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\WMgCWpeOROWTEHWm8YRGVA
2017/02/04 11:19:59 Extracting zip file 'Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\WMgCWpeOROWTEHWm8YRGVA' to 'Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207196\my-task-caches\tomatoes'
2017/02/04 11:20:00 Downloading url https://github.com/mozilla/gecko-dev/raw/233f30f2377f3df0f3388721901681f432b813fb/devtools/client/webide/test/app.zip to Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\GrYHNPSLQGeiqBbyFG9vNg
2017/02/04 11:20:00 Extracting zip file 'Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\GrYHNPSLQGeiqBbyFG9vNg' to 'Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207196\my-task-caches\devtools-app'
2017/02/04 11:20:00 Downloading url https://queue.taskcluster.net/v1/task/OpqCz--JTlCYFq_bu3489A/artifacts/public%2Fbuild%2Fmozharness.zip?bewit=cHJvamVjdC90YXNrY2x1c3Rlci9nZW5lcmljLXdvcmtlci90YXNrY2x1c3Rlci1jaVwxNDg2MjA5MDAwXC8wK0s3dWwwQTJ2MXdqS0c1cktFQ25meVdiSE9BUzhSVmJWYVFRWE5RZVU9XA to Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\NRW4__-oRN6SJEUwd3NvdA
2017/02/04 11:20:01 Extracting zip file 'Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\NRW4__-oRN6SJEUwd3NvdA' to 'Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207196\my-task-caches\mozharness'
2017/02/04 11:20:02 Downloading url https://github.com/taskcluster/logserver/raw/53134a5b9cbece05752c0ecc1a6c6d7c2fbf6580/node_modules/express/node_modules/connect/node_modules/multiparty/test/fixture/file/binaryfile.tar.gz to Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\PwqVrctbQhGSJ0pwZmi0nQ
2017/02/04 11:20:02 Extracting tar.gz file 'Z:\gopath\src\github.com\taskcluster\generic-worker\downloads\PwqVrctbQhGSJ0pwZmi0nQ' to 'Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207196\my-task-caches\package'
2017/02/04 11:20:02 Executing command 0: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207196\command_000000_wrapper.bat
2017/02/04 11:20:02 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207196\\command_000000.bat":
2017/02/04 11:20:02 Contents:
2017/02/04 11:20:02 @echo on
powershell -command "&{& set-executionpolicy unrestricted -scope currentuser }"
2017/02/04 11:20:02 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:20:02   Result: 18
2017/02/04 11:20:02 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:20:02   Result: 1B
2017/02/04 11:20:02 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:20:02   Result: 1801B
2017/02/04 11:20:02 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:20:02   Result: 1B01B
2017/02/04 11:20:02 Making system call VerifyVersionInfoW with args: [11EFA000 33 1B01B 80000000]
2017/02/04 11:20:02   Result: 0
2017/02/04 11:20:02 Making system call CreateEnvironmentBlock with args: [11CCA6C0 564 0]
2017/02/04 11:20:02   Result: 1
2017/02/04 11:20:02 Making system call DestroyEnvironmentBlock with args: [27F270]
2017/02/04 11:20:02   Result: 1
2017/02/04 11:20:02 Making system call CreateProcessAsUserW with args: [564 0 120004E0 0 0 1 1000614 11EFE000 11EEA000 11ECC820 11CCA6B0]
2017/02/04 11:20:02   Result: 1
time="2017-02-04T11:20:02Z" level=info msg="processInfo: 0x11ed21f8" 
2017/02/04 11:20:02 Making system call SetPriorityClass with args: [450 8000]
2017/02/04 11:20:02   Result: 1
2017/02/04 11:20:02 Making system call ResumeThread with args: [5B8]
2017/02/04 11:20:02   Result: 1
2017/02/04 11:20:02 Making system call GetProcessMemoryInfo with args: [450 11CC9EF0 2C]
2017/02/04 11:20:02   Result: 1
2017/02/04 11:20:02 Making system call CloseHandle with args: [450]
2017/02/04 11:20:02   Result: 0
2017/02/04 11:20:02 Error when closing handle: The handle is invalid.
2017/02/04 11:20:02 Moving "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207196\\my-task-caches\\bananas" to "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\caches\\VoEhaKdUTAiGvQ9AaaptXQ"
2017/02/04 11:20:02 Running command: 'icacls' 'Z:\gopath\src\github.com\taskcluster\generic-worker\caches\VoEhaKdUTAiGvQ9AaaptXQ' '/remove:g' 'task_1486207196'
processed file: Z:\gopath\src\github.com\taskcluster\generic-worker\caches\VoEhaKdUTAiGvQ9AaaptXQ
Successfully processed 1 files; Failed processing 0 files
2017/02/04 11:20:02 Moving "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207196\\my-task-caches\\tomatoes" to "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\caches\\R-F5md01QRucCK66--hlCA"
2017/02/04 11:20:02 Running command: 'icacls' 'Z:\gopath\src\github.com\taskcluster\generic-worker\caches\R-F5md01QRucCK66--hlCA' '/remove:g' 'task_1486207196'
processed file: Z:\gopath\src\github.com\taskcluster\generic-worker\caches\R-F5md01QRucCK66--hlCA
Successfully processed 1 files; Failed processing 0 files
2017/02/04 11:20:03 Moving "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207196\\my-task-caches\\devtools-app" to "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\caches\\SApXjsfjTHGcvpmUnbu6rA"
2017/02/04 11:20:03 Running command: 'icacls' 'Z:\gopath\src\github.com\taskcluster\generic-worker\caches\SApXjsfjTHGcvpmUnbu6rA' '/remove:g' 'task_1486207196'
processed file: Z:\gopath\src\github.com\taskcluster\generic-worker\caches\SApXjsfjTHGcvpmUnbu6rA
Successfully processed 1 files; Failed processing 0 files
2017/02/04 11:20:03 Redirecting live.log to live_backing.log
2017/02/04 11:20:03 Uploading artifact: public/logs/live.log
2017/02/04 11:20:03 Uploading artifact: public/logs/live_backing.log
2017/02/04 11:20:03 Request
2017/02/04 11:20:03 PUT /XjmWn55LQbKzbWLS-qVCxQ/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486209014&Signature=6Ok6k%2FPvqxo0%2Ff0IomyZfI8Cq1M%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 583
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:20:04 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/XjmWn55LQbKzbWLS-qVCxQ/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486209014&Signature=6Ok6k%2FPvqxo0%2Ff0IomyZfI8Cq1M%3D
2017/02/04 11:20:04 Response
2017/02/04 11:20:04 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:20:06 GMT
Etag: "d4bd1eaab2b9a8b2ed8056224234bc59"
Server: AmazonS3
X-Amz-Id-2: 71J1HmvJV7spxh8ksJeb/gFj3P5gcFOrNrw49pSy0P2thI5fPMMvlqA1mLF+nhsPN4/pCLPkvlI=
X-Amz-Request-Id: 91C9B81851E01B08
X-Amz-Version-Id: 0Fbia7kEio3H97AmShQ7wyCI0KUIcgcp

2017/02/04 11:20:04 Resolving task...
2017/02/04 11:20:04 Task Id:                 XjmWn55LQbKzbWLS-qVCxQ
Run Id:                  0
Run Id (Task Claim):     0
Message Id:              86092270-1ce9-4955-bb78-12cbf42f6a94
Insertion Time:          2017-02-04 11:19:57 +0000 GMT
Expiration Time:         2017-02-04 11:34:54 +0000 GMT
Dequeue Count:           1
Pop Receipt:             AgAAAAMAAAAAAAAA9R0BUdl+0gE=
Time Next Visible:       2017-02-04 11:24:57 +0000 GMT
Message Text:            eyJ0YXNrSWQiOiJYam1XbjU1TFFiS3piV0xTLXFWQ3hRIiwicnVuSWQiOjAsImhpbnRJZCI6IlRQdW5OdW9VUUg2Q3FqeWRLN2ZidlEifQ==
Run 0:
  Reason Created:        scheduled
  Reason Resolved:       failed
  Resolved:              2017-02-04T11:20:05.438Z
  Run Id:                0
  Scheduled:             2017-02-04T11:19:56.757Z
  Started:               2017-02-04T11:19:58.651Z
  State:                 failed
  Taken Until:           2017-02-04T11:39:58.571Z
  Worker Group:          test-worker-group
  Worker Id:             test-worker-id
==========================================
Status Deadline:         2017-02-04T11:34:55.000Z
Status Provisioner Id:   test-provisioner
Status Retries Left:     1
Status Scheduler Id:     test-scheduler
Status State:            failed
Status Task Group Id:    O-5VAxZ3Rdi_isTZCkQaxQ
Status Task Id:          XjmWn55LQbKzbWLS-qVCxQ
Status Worker Type:      Fa3KBlztSWSMmWTTtr75YA
Taken Until:             2017-02-04T11:39:58.571Z
Worker Group:            test-worker-group
Worker Id:               test-worker-id
==========================================
Signed Poll URL:         https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-veekdf6laz3xtq7ywxykivcc-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A49%3A58Z&sp=p&spr=https&sig=HyrSnp%2FTkQWbeS6UApj9Ooojdm%2B4r5JVTyjfXhIuUfU%3D&st=2017-02-04T11%3A04%3A58Z
Signed Delete URL:       https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-veekdf6laz3xtq7ywxykivcc-1/messages/86092270-1ce9-4955-bb78-12cbf42f6a94?popreceipt=AgAAAAMAAAAAAAAA9R0BUdl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A49%3A58Z&sp=p&spr=https&sig=HyrSnp%2FTkQWbeS6UApj9Ooojdm%2B4r5JVTyjfXhIuUfU%3D&st=2017-02-04T11%3A04%3A58Z
==========================================
Created:                 2017-02-04T11:19:55.000Z
Deadline:                2017-02-04T11:34:55.000Z
Expires:                 2017-02-05T11:19:55.000Z
Extra:                   {}
Metadata:                {Test task [TC] TestUpload pmoore@mozilla.com https://github.com/taskcluster/generic-worker/blob/master/artifacts_test.go}
Payload:                 {
      "command": [
        "powershell -command \"&{& set-executionpolicy unrestricted -scope currentuser }\"",
        "powershell -file preloaded\\\\check-shasums.ps1"
      ],
      "features": {},
      "maxRunTime": 180,
      "mounts": [
        {
          "content": {
            "taskId": "KTBKfEgxR5GdfIIREQIvFQ",
            "artifact": "SampleArtifacts/_/X.txt"
          },
          "file": "preloaded\\Mr X.txt"
        },
        {
          "content": {
            "url": "https://raw.githubusercontent.com/taskcluster/testrepo/master/generic-worker/check-shasums.sh"
          },
          "file": "preloaded\\check-shasums.sh"
        },
        {
          "content": {
            "url": "https://raw.githubusercontent.com/taskcluster/testrepo/master/generic-worker/check-shasums.ps1"
          },
          "file": "preloaded\\check-shasums.ps1"
        },
        {
          "content": {
            "url": "https://raw.githubusercontent.com/taskcluster/testrepo/master/generic-worker/shasums"
          },
          "file": "preloaded\\shasums"
        },
        {
          "cacheName": "banana-cache",
          "directory": "my-task-caches\\bananas"
        },
        {
          "cacheName": "tomato-cache",
          "content": {
            "taskId": "To_4IZUgRgOrmR2w6UTerA",
            "artifact": "public/build/mozharness.zip"
          },
          "directory": "my-task-caches\\tomatoes",
          "format": "zip"
        },
        {
          "cacheName": "devtools-app",
          "content": {
            "url": "https://github.com/mozilla/gecko-dev/raw/233f30f2377f3df0f3388721901681f432b813fb/devtools/client/webide/test/app.zip"
          },
          "directory": "my-task-caches\\devtools-app",
          "format": "zip"
        },
        {
          "content": {
            "taskId": "OpqCz--JTlCYFq_bu3489A",
            "artifact": "public/build/mozharness.zip"
          },
          "directory": "my-task-caches\\mozharness",
          "format": "zip"
        },
        {
          "content": {
            "url": "https://github.com/taskcluster/logserver/raw/53134a5b9cbece05752c0ecc1a6c6d7c2fbf6580/node_modules/express/node_modules/connect/node_modules/multiparty/test/fixture/file/binaryfile.tar.gz"
          },
          "directory": "my-task-caches\\package",
          "format": "tar.gz"
        }
      ]
    }
Provisioner Id:          test-provisioner
Retries:                 1
Routes:                  []string{}
SchedulerId:             test-scheduler
Scopes:                  []string{"queue:get-artifact:SampleArtifacts/_/X.txt", "generic-worker:cache:banana-cache", "generic-worker:cache:tomato-cache", "generic-worker:cache:devtools-app"}
Tags:                    {
      "createdForUser": "pmoore@mozilla.com"
    }
Task Group Id:           O-5VAxZ3Rdi_isTZCkQaxQ
Worker Type:             Fa3KBlztSWSMmWTTtr75YA
==========================================
Artifacts:               []
Command:                 []string{"powershell -command \"&{& set-executionpolicy unrestricted -scope currentuser }\"", "powershell -file preloaded\\\\check-shasums.ps1"}
Env:                     json.RawMessage(nil)
Max Run Time:            180
==========================================
2017/02/04 11:20:04 ERROR encountered: Task not successful due to following exception(s):
Exception 1)
[]

Exit code: 3221225794
2017/02/04 11:20:04 Making system call SwitchDesktop with args: [534]
2017/02/04 11:20:04   Result: 1
2017/02/04 11:20:04 Making system call CloseDesktop with args: [30]
2017/02/04 11:20:04   Result: 0
2017/02/04 11:20:04 Error cleaning up after task!
Could not create new task user because previous task user's desktop could not be closed:
CloseDesktop: The requested resource is in use.
--- FAIL: TestMounts (9.44s)
	mounts_test.go:130: Task XjmWn55LQbKzbWLS-qVCxQ did not complete successfully - it has state "failed" but should have state "completed"
=== RUN   TestMissingScopes
2017/02/04 11:20:05 Detected windows platform
2017/02/04 11:20:05 No previous task user desktop, so no need to close any open desktops
2017/02/04 11:20:05 Looking for existing task users to delete...
2017/02/04 11:20:05 Attempting to remove Windows user task_1486207196...
2017/02/04 11:20:05 Running command: 'net' 'user' 'task_1486207196' '/delete'
The command completed successfully.

2017/02/04 11:20:06 Creating Windows User task_1486207206...
2017/02/04 11:20:06 Running command: 'net' 'user' 'task_1486207206' 'pWd0_8FbLvTdUxRSwmvjLVuwTTFJm' '/add' '/expires:never' '/passwordchg:no' '/y'
2017/02/04 11:20:06 Created new task user!
2017/02/04 11:20:06 Running command: 'wmic' 'useraccount' 'where' 'name='task_1486207206'' 'set' 'passwordexpires=false'
Updating property(s) of '\\I-02A561117A676\ROOT\CIMV2:Win32_UserAccount.Domain="I-02A561117A676",Name="task_1486207206"'
Property(s) update successful.
2017/02/04 11:20:06 Running command: 'net' 'localgroup' 'Remote Desktop Users' '/add' 'task_1486207206'
The command completed successfully.

2017/02/04 11:20:06 Making system call GetProcessWindowStation with args: []
2017/02/04 11:20:06   Result: 2C
2017/02/04 11:20:06 Making system call GetCurrentThreadId with args: []
2017/02/04 11:20:06   Result: F18
2017/02/04 11:20:06 Making system call GetThreadDesktop with args: [F18]
2017/02/04 11:20:06   Result: 30
2017/02/04 11:20:06 Making system call GetUserObjectInformationW with args: [30 2 1207C800 200 12102F88]
2017/02/04 11:20:06   Result: 1
2017/02/04 11:20:06 Making system call GetUserObjectInformationW with args: [2C 2 1207CA00 200 12102FE8]
2017/02/04 11:20:06   Result: 1
2017/02/04 11:20:06 Making system call GetCurrentThreadId with args: []
2017/02/04 11:20:06   Result: F18
2017/02/04 11:20:06 Making system call CreateDesktopW with args: [12103120 0 0 0 10000000 12103160]
2017/02/04 11:20:06   Result: 0
2017/02/04 11:20:06 goroutine 308 [running]:
runtime/debug.Stack(0x0, 0x0, 0x0)
	Z:/go/src/runtime/debug/stack.go:24 +0x80
github.com/taskcluster/generic-worker.runWorker.func1()
	Z:/gopath/src/github.com/taskcluster/generic-worker/main.go:437 +0x43
panic(0x8be9c0, 0x121031d0)
	Z:/go/src/runtime/panic.go:458 +0x40b
github.com/taskcluster/generic-worker.prepareTaskUser(0x11f79aa0, 0xf)
	Z:/gopath/src/github.com/taskcluster/generic-worker/plat_windows.go:99 +0x14d
github.com/taskcluster/generic-worker.PrepareTaskEnvironment()
	Z:/gopath/src/github.com/taskcluster/generic-worker/main.go:1231 +0x18b
github.com/taskcluster/generic-worker.runWorker()
	Z:/gopath/src/github.com/taskcluster/generic-worker/main.go:472 +0x65e
github.com/taskcluster/generic-worker.TestMissingScopes(0x11cc1c00)
	Z:/gopath/src/github.com/taskcluster/generic-worker/mounts_test.go:200 +0x498
testing.tRunner(0x11cc1c00, 0x98ad68)
	Z:/go/src/testing/testing.go:610 +0x8c
created by testing.(*T).Run
	Z:/go/src/testing/testing.go:646 +0x2a5
2017/02/04 11:20:06 Cause: CreateDesktop: Access is denied.
--- FAIL: TestMissingScopes (1.80s)
	mounts_test.go:208: Task EcEyTaPjRBaz-nLrxTUgNw did not complete as intended - it resolved as pending/ but should have resolved as exception/malformed-payload
=== RUN   TestCachesCanBeModified
2017/02/04 11:20:09 Detected windows platform
2017/02/04 11:20:09 No previous task user desktop, so no need to close any open desktops
2017/02/04 11:20:09 Looking for existing task users to delete...
2017/02/04 11:20:09 Attempting to remove Windows user task_1486207206...
2017/02/04 11:20:09 Running command: 'net' 'user' 'task_1486207206' '/delete'
2017/02/04 11:20:09 Making system call UnloadUserProfile with args: [564 478]
The command completed successfully.

2017/02/04 11:20:09   Result: 1
2017/02/04 11:20:09 Making system call CloseHandle with args: [564]
2017/02/04 11:20:09   Result: 0
2017/02/04 11:20:09 Error when closing handle: The handle is invalid.
2017/02/04 11:20:09 Creating Windows User task_1486207209...
2017/02/04 11:20:09 Running command: 'net' 'user' 'task_1486207209' 'pWd0_RKjCemxfuBlua4IRu2bvFuyB' '/add' '/expires:never' '/passwordchg:no' '/y'
2017/02/04 11:20:09 Created new task user!
2017/02/04 11:20:09 Running command: 'wmic' 'useraccount' 'where' 'name='task_1486207209'' 'set' 'passwordexpires=false'
Updating property(s) of '\\I-02A561117A676\ROOT\CIMV2:Win32_UserAccount.Domain="I-02A561117A676",Name="task_1486207209"'
Property(s) update successful.
2017/02/04 11:20:09 Running command: 'net' 'localgroup' 'Remote Desktop Users' '/add' 'task_1486207209'
The command completed successfully.

2017/02/04 11:20:09 Making system call GetProcessWindowStation with args: []
2017/02/04 11:20:09   Result: 2C
2017/02/04 11:20:09 Making system call GetCurrentThreadId with args: []
2017/02/04 11:20:09   Result: B5C
2017/02/04 11:20:09 Making system call GetThreadDesktop with args: [B5C]
2017/02/04 11:20:09   Result: 30
2017/02/04 11:20:09 Making system call GetUserObjectInformationW with args: [30 2 11EE8400 200 12102F08]
2017/02/04 11:20:09   Result: 1
2017/02/04 11:20:09 Making system call GetUserObjectInformationW with args: [2C 2 11EE8600 200 12102F68]
2017/02/04 11:20:09   Result: 1
2017/02/04 11:20:09 Making system call GetCurrentThreadId with args: []
2017/02/04 11:20:09   Result: B5C
2017/02/04 11:20:09 Making system call CreateDesktopW with args: [12103070 0 0 0 10000000 12103080]
2017/02/04 11:20:09   Result: 584
2017/02/04 11:20:09 Making system call InitializeAcl with args: [12050000 400 2]
2017/02/04 11:20:09   Result: 1
2017/02/04 11:20:09 Making system call AddAccessAllowedAceEx with args: [12050000 2 B 10000000 12103170]
2017/02/04 11:20:09   Result: 1
2017/02/04 11:20:09 Making system call AddAccessAllowedAceEx with args: [12050000 2 4 2037F 12103170]
2017/02/04 11:20:09   Result: 1
2017/02/04 11:20:09 Making system call InitializeSecurityDescriptor with args: [11D76000 1]
2017/02/04 11:20:09   Result: 1
2017/02/04 11:20:09 Making system call SetSecurityDescriptorDacl with args: [11D76000 1 12050000 0]
2017/02/04 11:20:09   Result: 1
2017/02/04 11:20:09 Making system call SetUserObjectSecurity with args: [2C 1210337C 11D76000]
2017/02/04 11:20:09   Result: 1
2017/02/04 11:20:09 Making system call InitializeAcl with args: [12050480 400 2]
2017/02/04 11:20:09   Result: 1
2017/02/04 11:20:09 Making system call AddAccessAllowedAce with args: [12050480 2 201FF 12103170]
2017/02/04 11:20:09   Result: 1
2017/02/04 11:20:09 Making system call InitializeSecurityDescriptor with args: [11D77200 1]
2017/02/04 11:20:09   Result: 1
2017/02/04 11:20:09 Making system call SetSecurityDescriptorDacl with args: [11D77200 1 12050480 0]
2017/02/04 11:20:09   Result: 1
2017/02/04 11:20:09 Making system call SetUserObjectSecurity with args: [584 121035BC 11D77200]
2017/02/04 11:20:09   Result: 1
2017/02/04 11:20:09 Making system call LogonUserW with args: [11EEC7E0 121036BC 11E8C9C0 2 0 121036F0]
2017/02/04 11:20:09   Result: 1
2017/02/04 11:20:09 Making system call LoadUserProfileW with args: [4EC 11EEC820]
2017/02/04 11:20:09   Result: 1
2017/02/04 11:20:09 Making system call SwitchDesktop with args: [584]
2017/02/04 11:20:09   Result: 1
2017/02/04 11:20:09 Making system call SHSetKnownFolderPath with args: [B338C0 0 4EC 11E55040]
2017/02/04 11:20:09   Result: 0
2017/02/04 11:20:09 Making system call SHGetKnownFolderPath with args: [B338C0 8000 4EC 12103910]
2017/02/04 11:20:09   Result: 0
2017/02/04 11:20:09 Making system call CoTaskMemFree with args: [269438]
2017/02/04 11:20:09   Result: 1
2017/02/04 11:20:09 Making system call SHSetKnownFolderPath with args: [B338B0 0 4EC 11E550E0]
2017/02/04 11:20:09   Result: 0
2017/02/04 11:20:09 Making system call SHGetKnownFolderPath with args: [B338B0 8000 4EC 121039D0]
2017/02/04 11:20:09   Result: 0
2017/02/04 11:20:09 Making system call CoTaskMemFree with args: [2601F0]
2017/02/04 11:20:09   Result: 1
2017/02/04 11:20:09 Refreshing signed urls in 24m50.8772s
2017/02/04 11:20:09   Priority (1) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-zgtpzr4urg3d33ndxnc3grly-5/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A50%3A10Z&sp=p&spr=https&sig=pMCu03oVGgnYig4vtfq2zdGdkPSFdH4qmrPOciWYSwM%3D&st=2017-02-04T11%3A05%3A10Z
2017/02/04 11:20:09   Priority (1) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-zgtpzr4urg3d33ndxnc3grly-5/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A50%3A10Z&sp=p&spr=https&sig=pMCu03oVGgnYig4vtfq2zdGdkPSFdH4qmrPOciWYSwM%3D&st=2017-02-04T11%3A05%3A10Z
2017/02/04 11:20:09   Priority (2) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-zgtpzr4urg3d33ndxnc3grly-1/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A50%3A10Z&sp=p&spr=https&sig=G0proVrrOdG5cZmWmR3AMSCPXR1MWtHKF2MwhQ%2BMnkM%3D&st=2017-02-04T11%3A05%3A10Z
2017/02/04 11:20:09   Priority (2) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-zgtpzr4urg3d33ndxnc3grly-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A50%3A10Z&sp=p&spr=https&sig=G0proVrrOdG5cZmWmR3AMSCPXR1MWtHKF2MwhQ%2BMnkM%3D&st=2017-02-04T11%3A05%3A10Z
2017/02/04 11:20:09 Task found
2017/02/04 11:20:09 Claiming task W2EOMu5PTfK-_fH6SzXsyw...
2017/02/04 11:20:10 Deleting task W2EOMu5PTfK-_fH6SzXsyw from Azure queue...
2017/02/04 11:20:10 Successfully deleted task from azure queue (delete url: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-zgtpzr4urg3d33ndxnc3grly-1/messages/cb68f97d-9b73-4e43-9210-1e6bf2670dcd?popreceipt=AgAAAAMAAAAAAAAAg3BrWNl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A50%3A10Z&sp=p&spr=https&sig=G0proVrrOdG5cZmWmR3AMSCPXR1MWtHKF2MwhQ%2BMnkM%3D&st=2017-02-04T11%3A05%3A10Z) with http response code 204.
2017/02/04 11:20:10 Setting reclaim timer...
2017/02/04 11:20:10 Current claim will expire at 2017-02-04 11:40:11 +0000 UTC
2017/02/04 11:20:10 Reclaiming 3 mins earlier, at 2017-02-04 11:37:11 +0000 UTC
2017/02/04 11:20:10 Time to wait until then is 17m0.5712s
2017/02/04 11:20:10 This is more than 30 seconds away - so setting a timer
2017/02/04 11:20:10 JSON payload: {
      "command": [
        "\n\t\tsetlocal EnableDelayedExpansion\n\t\tif exist my-task-caches\\test-modifications\\counter (\n\t\t  set /p counter=<my-task-caches\\test-modifications\\counter\n\t\t  set /a counter=counter+1\n\t\t  echo | set /p dummyName=\"!counter!\" > my-task-caches\\test-modifications\\counter\n\t\t) else (\n\t\t  echo | set /p dummyName=\"1\" > my-task-caches\\test-modifications\\counter\n\t\t)\n"
      ],
      "features": {},
      "maxRunTime": 20,
      "mounts": [
        {
          "cacheName": "test-modifications",
          "directory": "my-task-caches\\test-modifications"
        }
      ]
    }
2017/02/04 11:20:10 Running task https://tools.taskcluster.net/task-inspector/#W2EOMu5PTfK-_fH6SzXsyw/0
2017/02/04 11:20:10 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207209\command_000000_wrapper.bat
2017/02/04 11:20:10 Deadline: 2017-02-04 11:20:30.4298 +0000 GMT
2017/02/04 11:20:10 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207209\command_000000_wrapper.bat
2017/02/04 11:20:10 Uploading artifact: public/logs/live.log
2017/02/04 11:20:10 Disk available: 84839026688 bytes
2017/02/04 11:20:10 Executing command 0: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207209\command_000000_wrapper.bat
2017/02/04 11:20:10 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207209\\command_000000.bat":
2017/02/04 11:20:10 Contents:
2017/02/04 11:20:10 @echo on

		setlocal EnableDelayedExpansion
		if exist my-task-caches\test-modifications\counter (
		  set /p counter=<my-task-caches\test-modifications\counter
		  set /a counter=counter+1
		  echo | set /p dummyName="!counter!" > my-task-caches\test-modifications\counter
		) else (
		  echo | set /p dummyName="1" > my-task-caches\test-modifications\counter
		)
2017/02/04 11:20:10 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:20:10   Result: 18
2017/02/04 11:20:10 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:20:10   Result: 1B
2017/02/04 11:20:10 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:20:10   Result: 1801B
2017/02/04 11:20:10 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:20:10   Result: 1B01B
2017/02/04 11:20:10 Making system call VerifyVersionInfoW with args: [11EA0480 33 1B01B 80000000]
2017/02/04 11:20:10   Result: 0
2017/02/04 11:20:10 Making system call CreateEnvironmentBlock with args: [1208E818 4EC 0]
2017/02/04 11:20:10   Result: 1
2017/02/04 11:20:10 Making system call DestroyEnvironmentBlock with args: [2815A0]
2017/02/04 11:20:10   Result: 1
2017/02/04 11:20:10 Making system call CreateProcessAsUserW with args: [4EC 0 11E76270 0 0 1 1000614 123F0000 11DB4320 11F46410 1208E850]
2017/02/04 11:20:10   Result: 1
time="2017-02-04T11:20:10Z" level=info msg="processInfo: 0x11e9c420" 
2017/02/04 11:20:10 Making system call SetPriorityClass with args: [594 8000]
2017/02/04 11:20:10   Result: 1
2017/02/04 11:20:10 Making system call ResumeThread with args: [5C0]
2017/02/04 11:20:10   Result: 1
2017/02/04 11:20:10 Making system call GetProcessMemoryInfo with args: [594 11F49110 2C]
2017/02/04 11:20:10   Result: 1
2017/02/04 11:20:10 Making system call CloseHandle with args: [594]
2017/02/04 11:20:10   Result: 0
2017/02/04 11:20:10 Error when closing handle: The handle is invalid.
2017/02/04 11:20:10 Moving "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207209\\my-task-caches\\test-modifications" to "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\caches\\K_VM7_mhTfagIGYg0xPABw"
2017/02/04 11:20:10 Running command: 'icacls' 'Z:\gopath\src\github.com\taskcluster\generic-worker\caches\K_VM7_mhTfagIGYg0xPABw' '/remove:g' 'task_1486207209'
processed file: Z:\gopath\src\github.com\taskcluster\generic-worker\caches\K_VM7_mhTfagIGYg0xPABw
Successfully processed 1 files; Failed processing 0 files
2017/02/04 11:20:10 Redirecting live.log to live_backing.log
2017/02/04 11:20:10 Uploading artifact: public/logs/live.log
2017/02/04 11:20:11 Uploading artifact: public/logs/live_backing.log
2017/02/04 11:20:11 Request
2017/02/04 11:20:11 PUT /W2EOMu5PTfK-_fH6SzXsyw/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486209022&Signature=27XqgBweI%2F3C8jplBeq5sQ6p4vk%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 671
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:20:12 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/W2EOMu5PTfK-_fH6SzXsyw/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486209022&Signature=27XqgBweI%2F3C8jplBeq5sQ6p4vk%3D
2017/02/04 11:20:12 Response
2017/02/04 11:20:12 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:20:13 GMT
Etag: "32430b56c965dd8c4b173f46e6b4bbe8"
Server: AmazonS3
X-Amz-Id-2: Qn8xyyPYMbXg9eEGogTee/GMSBnoQ76GufcK+pU0pd8Zo8mr7aSmXYBRk1XTlMJG9rmJACltTCs=
X-Amz-Request-Id: BB5A4C110672464E
X-Amz-Version-Id: WXctz9lKCNUVuTJlopxakXl_DDL9GHOS

2017/02/04 11:20:12 Resolving task...
2017/02/04 11:20:12 Task Id:                 W2EOMu5PTfK-_fH6SzXsyw
Run Id:                  0
Run Id (Task Claim):     0
Message Id:              cb68f97d-9b73-4e43-9210-1e6bf2670dcd
Insertion Time:          2017-02-04 11:20:08 +0000 GMT
Expiration Time:         2017-02-04 11:35:05 +0000 GMT
Dequeue Count:           1
Pop Receipt:             AgAAAAMAAAAAAAAAg3BrWNl+0gE=
Time Next Visible:       2017-02-04 11:25:10 +0000 GMT
Message Text:            eyJ0YXNrSWQiOiJXMkVPTXU1UFRmSy1fZkg2U3pYc3l3IiwicnVuSWQiOjAsImhpbnRJZCI6IlBKTG5nUnJkUV9pZ3ptNHZfRWxETUEifQ==
Run 0:
  Reason Created:        scheduled
  Reason Resolved:       failed
  Resolved:              2017-02-04T11:20:13.113Z
  Run Id:                0
  Scheduled:             2017-02-04T11:20:08.006Z
  Started:               2017-02-04T11:20:11.080Z
  State:                 failed
  Taken Until:           2017-02-04T11:40:11.000Z
  Worker Group:          test-worker-group
  Worker Id:             test-worker-id
==========================================
Status Deadline:         2017-02-04T11:35:06.000Z
Status Provisioner Id:   test-provisioner
Status Retries Left:     1
Status Scheduler Id:     test-scheduler
Status State:            failed
Status Task Group Id:    O-5VAxZ3Rdi_isTZCkQaxQ
Status Task Id:          W2EOMu5PTfK-_fH6SzXsyw
Status Worker Type:      NenIKkwYRYGRfyX4-nFBJg
Taken Until:             2017-02-04T11:40:11.000Z
Worker Group:            test-worker-group
Worker Id:               test-worker-id
==========================================
Signed Poll URL:         https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-zgtpzr4urg3d33ndxnc3grly-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A50%3A10Z&sp=p&spr=https&sig=G0proVrrOdG5cZmWmR3AMSCPXR1MWtHKF2MwhQ%2BMnkM%3D&st=2017-02-04T11%3A05%3A10Z
Signed Delete URL:       https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-zgtpzr4urg3d33ndxnc3grly-1/messages/cb68f97d-9b73-4e43-9210-1e6bf2670dcd?popreceipt=AgAAAAMAAAAAAAAAg3BrWNl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A50%3A10Z&sp=p&spr=https&sig=G0proVrrOdG5cZmWmR3AMSCPXR1MWtHKF2MwhQ%2BMnkM%3D&st=2017-02-04T11%3A05%3A10Z
==========================================
Created:                 2017-02-04T11:20:06.000Z
Deadline:                2017-02-04T11:35:06.000Z
Expires:                 2017-02-05T11:20:06.000Z
Extra:                   {}
Metadata:                {Test task [TC] TestUpload pmoore@mozilla.com https://github.com/taskcluster/generic-worker/blob/master/artifacts_test.go}
Payload:                 {
      "command": [
        "\n\t\tsetlocal EnableDelayedExpansion\n\t\tif exist my-task-caches\\test-modifications\\counter (\n\t\t  set /p counter=<my-task-caches\\test-modifications\\counter\n\t\t  set /a counter=counter+1\n\t\t  echo | set /p dummyName=\"!counter!\" > my-task-caches\\test-modifications\\counter\n\t\t) else (\n\t\t  echo | set /p dummyName=\"1\" > my-task-caches\\test-modifications\\counter\n\t\t)\n"
      ],
      "features": {},
      "maxRunTime": 20,
      "mounts": [
        {
          "cacheName": "test-modifications",
          "directory": "my-task-caches\\test-modifications"
        }
      ]
    }
Provisioner Id:          test-provisioner
Retries:                 1
Routes:                  []string{}
SchedulerId:             test-scheduler
Scopes:                  []string{"generic-worker:cache:test-modifications"}
Tags:                    {
      "createdForUser": "pmoore@mozilla.com"
    }
Task Group Id:           O-5VAxZ3Rdi_isTZCkQaxQ
Worker Type:             NenIKkwYRYGRfyX4-nFBJg
==========================================
Artifacts:               []
Command:                 []string{"\n\t\tsetlocal EnableDelayedExpansion\n\t\tif exist my-task-caches\\test-modifications\\counter (\n\t\t  set /p counter=<my-task-caches\\test-modifications\\counter\n\t\t  set /a counter=counter+1\n\t\t  echo | set /p dummyName=\"!counter!\" > my-task-caches\\test-modifications\\counter\n\t\t) else (\n\t\t  echo | set /p dummyName=\"1\" > my-task-caches\\test-modifications\\counter\n\t\t)\n"}
Env:                     json.RawMessage(nil)
Max Run Time:            20
==========================================
2017/02/04 11:20:12 ERROR encountered: Task not successful due to following exception(s):
Exception 1)
[]

Exit code: 3221225794
2017/02/04 11:20:12 Making system call SwitchDesktop with args: [584]
2017/02/04 11:20:12   Result: 1
2017/02/04 11:20:12 Making system call CloseDesktop with args: [30]
2017/02/04 11:20:12   Result: 0
2017/02/04 11:20:12 Error cleaning up after task!
Could not create new task user because previous task user's desktop could not be closed:
CloseDesktop: The requested resource is in use.
2017/02/04 11:20:12 Creating Windows User task_1486207212...
2017/02/04 11:20:12 Running command: 'net' 'user' 'task_1486207212' 'pWd0_VI1U6UtUCD8lnt5qoROMctKx' '/add' '/expires:never' '/passwordchg:no' '/y'
2017/02/04 11:20:12 Created new task user!
2017/02/04 11:20:12 Running command: 'wmic' 'useraccount' 'where' 'name='task_1486207212'' 'set' 'passwordexpires=false'
Updating property(s) of '\\I-02A561117A676\ROOT\CIMV2:Win32_UserAccount.Domain="I-02A561117A676",Name="task_1486207212"'
Property(s) update successful.
2017/02/04 11:20:12 Running command: 'net' 'localgroup' 'Remote Desktop Users' '/add' 'task_1486207212'
The command completed successfully.

2017/02/04 11:20:12 Making system call GetProcessWindowStation with args: []
2017/02/04 11:20:12   Result: 2C
2017/02/04 11:20:12 Making system call GetCurrentThreadId with args: []
2017/02/04 11:20:12   Result: D14
2017/02/04 11:20:12 Making system call GetThreadDesktop with args: [D14]
2017/02/04 11:20:12   Result: 30
2017/02/04 11:20:12 Making system call GetUserObjectInformationW with args: [30 2 11ECEA00 200 12102108]
2017/02/04 11:20:12   Result: 1
2017/02/04 11:20:12 Making system call GetUserObjectInformationW with args: [2C 2 11ECEC00 200 12102168]
2017/02/04 11:20:12   Result: 1
2017/02/04 11:20:12 Making system call GetCurrentThreadId with args: []
2017/02/04 11:20:12   Result: D14
2017/02/04 11:20:12 Making system call CreateDesktopW with args: [121022C0 0 0 0 10000000 121022D0]
2017/02/04 11:20:12   Result: 5DC
2017/02/04 11:20:12 Making system call InitializeAcl with args: [11FE8000 400 2]
2017/02/04 11:20:12   Result: 1
2017/02/04 11:20:12 Making system call AddAccessAllowedAceEx with args: [11FE8000 2 B 10000000 12102370]
2017/02/04 11:20:12   Result: 1
2017/02/04 11:20:12 Making system call AddAccessAllowedAceEx with args: [11FE8000 2 4 2037F 12102370]
2017/02/04 11:20:12   Result: 1
2017/02/04 11:20:12 Making system call InitializeSecurityDescriptor with args: [123F0000 1]
2017/02/04 11:20:12   Result: 1
2017/02/04 11:20:12 Making system call SetSecurityDescriptorDacl with args: [123F0000 1 11FE8000 0]
2017/02/04 11:20:12   Result: 1
2017/02/04 11:20:12 Making system call SetUserObjectSecurity with args: [2C 1210253C 123F0000]
2017/02/04 11:20:12   Result: 1
2017/02/04 11:20:12 Making system call InitializeAcl with args: [11FE8480 400 2]
2017/02/04 11:20:12   Result: 1
2017/02/04 11:20:12 Making system call AddAccessAllowedAce with args: [11FE8480 2 201FF 12102370]
2017/02/04 11:20:12   Result: 1
2017/02/04 11:20:12 Making system call InitializeSecurityDescriptor with args: [11FCA400 1]
2017/02/04 11:20:12   Result: 1
2017/02/04 11:20:12 Making system call SetSecurityDescriptorDacl with args: [11FCA400 1 11FE8480 0]
2017/02/04 11:20:12   Result: 1
2017/02/04 11:20:12 Making system call SetUserObjectSecurity with args: [5DC 1210277C 11FCA400]
2017/02/04 11:20:12   Result: 1
2017/02/04 11:20:12 Making system call LogonUserW with args: [11E9B420 12102ACC 11EBC380 2 0 12102AF0]
2017/02/04 11:20:12   Result: 1
2017/02/04 11:20:12 Making system call LoadUserProfileW with args: [5B0 11E9B4A0]
2017/02/04 11:20:12   Result: 1
2017/02/04 11:20:12 Making system call SwitchDesktop with args: [5DC]
2017/02/04 11:20:12   Result: 1
2017/02/04 11:20:12 Making system call SHSetKnownFolderPath with args: [B338C0 0 5B0 11E552C0]
2017/02/04 11:20:12   Result: 0
2017/02/04 11:20:12 Making system call SHGetKnownFolderPath with args: [B338C0 8000 5B0 12102C40]
2017/02/04 11:20:12   Result: 0
2017/02/04 11:20:12 Making system call CoTaskMemFree with args: [269438]
2017/02/04 11:20:12   Result: 1
2017/02/04 11:20:12 Making system call SHSetKnownFolderPath with args: [B338B0 0 5B0 11E55360]
2017/02/04 11:20:12   Result: 0
2017/02/04 11:20:12 Making system call SHGetKnownFolderPath with args: [B338B0 8000 5B0 12102D90]
2017/02/04 11:20:12   Result: 0
2017/02/04 11:20:12 Making system call CoTaskMemFree with args: [2601F0]
2017/02/04 11:20:12   Result: 1
2017/02/04 11:20:13 Task found
2017/02/04 11:20:13 Claiming task HemMxq-9TdqsIwtidkHIzQ...
2017/02/04 11:20:13 Deleting task HemMxq-9TdqsIwtidkHIzQ from Azure queue...
2017/02/04 11:20:13 Successfully deleted task from azure queue (delete url: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-zgtpzr4urg3d33ndxnc3grly-1/messages/a76e355b-0c7e-45f7-946f-de542a5a84f5?popreceipt=AgAAAAMAAAAAAAAAIQ1HWtl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A50%3A10Z&sp=p&spr=https&sig=G0proVrrOdG5cZmWmR3AMSCPXR1MWtHKF2MwhQ%2BMnkM%3D&st=2017-02-04T11%3A05%3A10Z) with http response code 204.
2017/02/04 11:20:13 Setting reclaim timer...
2017/02/04 11:20:13 Current claim will expire at 2017-02-04 11:40:14.286 +0000 UTC
2017/02/04 11:20:13 Reclaiming 3 mins earlier, at 2017-02-04 11:37:14.286 +0000 UTC
2017/02/04 11:20:13 Time to wait until then is 17m0.5502s
2017/02/04 11:20:13 This is more than 30 seconds away - so setting a timer
2017/02/04 11:20:13 JSON payload: {
      "command": [
        "\n\t\tsetlocal EnableDelayedExpansion\n\t\tif exist my-task-caches\\test-modifications\\counter (\n\t\t  set /p counter=<my-task-caches\\test-modifications\\counter\n\t\t  set /a counter=counter+1\n\t\t  echo | set /p dummyName=\"!counter!\" > my-task-caches\\test-modifications\\counter\n\t\t) else (\n\t\t  echo | set /p dummyName=\"1\" > my-task-caches\\test-modifications\\counter\n\t\t)\n"
      ],
      "features": {},
      "maxRunTime": 20,
      "mounts": [
        {
          "cacheName": "test-modifications",
          "directory": "my-task-caches\\test-modifications"
        }
      ]
    }
2017/02/04 11:20:13 Running task https://tools.taskcluster.net/task-inspector/#HemMxq-9TdqsIwtidkHIzQ/0
2017/02/04 11:20:13 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207212\command_000000_wrapper.bat
2017/02/04 11:20:13 Deadline: 2017-02-04 11:20:33.7368 +0000 GMT
2017/02/04 11:20:13 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207212\command_000000_wrapper.bat
2017/02/04 11:20:13 Uploading artifact: public/logs/live.log
2017/02/04 11:20:14 Disk available: 84838924288 bytes
2017/02/04 11:20:14 Running command: 'icacls' 'Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207212\my-task-caches\test-modifications' '/grant:r' 'task_1486207212:(OI)(CI)F'
processed file: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207212\my-task-caches\test-modifications
Successfully processed 1 files; Failed processing 0 files
2017/02/04 11:20:14 Executing command 0: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207212\command_000000_wrapper.bat
2017/02/04 11:20:14 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207212\\command_000000.bat":
2017/02/04 11:20:14 Contents:
2017/02/04 11:20:14 @echo on

		setlocal EnableDelayedExpansion
		if exist my-task-caches\test-modifications\counter (
		  set /p counter=<my-task-caches\test-modifications\counter
		  set /a counter=counter+1
		  echo | set /p dummyName="!counter!" > my-task-caches\test-modifications\counter
		) else (
		  echo | set /p dummyName="1" > my-task-caches\test-modifications\counter
		)
2017/02/04 11:20:14 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:20:14   Result: 18
2017/02/04 11:20:14 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:20:14   Result: 1B
2017/02/04 11:20:14 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:20:14   Result: 1801B
2017/02/04 11:20:14 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:20:14   Result: 1B01B
2017/02/04 11:20:14 Making system call VerifyVersionInfoW with args: [11E0E360 33 1B01B 80000000]
2017/02/04 11:20:14   Result: 0
2017/02/04 11:20:14 Making system call CreateEnvironmentBlock with args: [11DE6250 5B0 0]
2017/02/04 11:20:14   Result: 1
2017/02/04 11:20:14 Making system call DestroyEnvironmentBlock with args: [2826D0]
2017/02/04 11:20:14   Result: 1
2017/02/04 11:20:14 Making system call CreateProcessAsUserW with args: [5B0 0 12000410 0 0 1 1000614 11D76000 11F1C000 11E7A280 11DE6240]
2017/02/04 11:20:14   Result: 1
time="2017-02-04T11:20:14Z" level=info msg="processInfo: 0x12090078" 
2017/02/04 11:20:14 Making system call SetPriorityClass with args: [5E4 8000]
2017/02/04 11:20:14   Result: 1
2017/02/04 11:20:14 Making system call ResumeThread with args: [5F0]
2017/02/04 11:20:14   Result: 1
2017/02/04 11:20:14 Making system call GetProcessMemoryInfo with args: [5E4 11DEAE70 2C]
2017/02/04 11:20:14   Result: 1
2017/02/04 11:20:14 Making system call CloseHandle with args: [5E4]
2017/02/04 11:20:14   Result: 0
2017/02/04 11:20:14 Error when closing handle: The handle is invalid.
2017/02/04 11:20:14 Moving "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207212\\my-task-caches\\test-modifications" to "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\caches\\K_VM7_mhTfagIGYg0xPABw"
2017/02/04 11:20:14 Running command: 'icacls' 'Z:\gopath\src\github.com\taskcluster\generic-worker\caches\K_VM7_mhTfagIGYg0xPABw' '/remove:g' 'task_1486207212'
processed file: Z:\gopath\src\github.com\taskcluster\generic-worker\caches\K_VM7_mhTfagIGYg0xPABw
Successfully processed 1 files; Failed processing 0 files
2017/02/04 11:20:14 Redirecting live.log to live_backing.log
2017/02/04 11:20:14 Uploading artifact: public/logs/live.log
2017/02/04 11:20:14 Uploading artifact: public/logs/live_backing.log
2017/02/04 11:20:15 Making system call UnloadUserProfile with args: [4EC 478]
2017/02/04 11:20:15 Request
2017/02/04 11:20:15 PUT /HemMxq-9TdqsIwtidkHIzQ/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486209026&Signature=S%2Fwq9IPfaUVQypeKX%2FUREHXFPUg%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 671
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:20:15   Result: 1
2017/02/04 11:20:15 Making system call CloseHandle with args: [4EC]
2017/02/04 11:20:15   Result: 0
2017/02/04 11:20:15 Error when closing handle: The handle is invalid.
2017/02/04 11:20:15 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/HemMxq-9TdqsIwtidkHIzQ/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486209026&Signature=S%2Fwq9IPfaUVQypeKX%2FUREHXFPUg%3D
2017/02/04 11:20:15 Response
2017/02/04 11:20:15 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:20:17 GMT
Etag: "53a756f1fe32a84246383f58c3bbaeeb"
Server: AmazonS3
X-Amz-Id-2: 1grcc1xcgShdnBD9kJOC2pn60hWw70R5KW5JASu2RbO0Mb6QCUN/1UgT7ezPcP5EwWrMSpZkGUg=
X-Amz-Request-Id: 1778143EFCCDE77A
X-Amz-Version-Id: ndzcp0efputXSFZ.nQzvplYasNIS.fdL

2017/02/04 11:20:15 Resolving task...
2017/02/04 11:20:15 Task Id:                 HemMxq-9TdqsIwtidkHIzQ
Run Id:                  0
Run Id (Task Claim):     0
Message Id:              a76e355b-0c7e-45f7-946f-de542a5a84f5
Insertion Time:          2017-02-04 11:20:08 +0000 GMT
Expiration Time:         2017-02-04 11:35:05 +0000 GMT
Dequeue Count:           1
Pop Receipt:             AgAAAAMAAAAAAAAAIQ1HWtl+0gE=
Time Next Visible:       2017-02-04 11:25:13 +0000 GMT
Message Text:            eyJ0YXNrSWQiOiJIZW1NeHEtOVRkcXNJd3RpZGtISXpRIiwicnVuSWQiOjAsImhpbnRJZCI6IjZ0aUs5dUVHUzVPODByYjJCTXZ0NlEifQ==
Run 0:
  Reason Created:        scheduled
  Reason Resolved:       failed
  Resolved:              2017-02-04T11:20:16.426Z
  Run Id:                0
  Scheduled:             2017-02-04T11:20:08.850Z
  Started:               2017-02-04T11:20:14.366Z
  State:                 failed
  Taken Until:           2017-02-04T11:40:14.286Z
  Worker Group:          test-worker-group
  Worker Id:             test-worker-id
==========================================
Status Deadline:         2017-02-04T11:35:07.000Z
Status Provisioner Id:   test-provisioner
Status Retries Left:     1
Status Scheduler Id:     test-scheduler
Status State:            failed
Status Task Group Id:    O-5VAxZ3Rdi_isTZCkQaxQ
Status Task Id:          HemMxq-9TdqsIwtidkHIzQ
Status Worker Type:      NenIKkwYRYGRfyX4-nFBJg
Taken Until:             2017-02-04T11:40:14.286Z
Worker Group:            test-worker-group
Worker Id:               test-worker-id
==========================================
Signed Poll URL:         https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-zgtpzr4urg3d33ndxnc3grly-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A50%3A10Z&sp=p&spr=https&sig=G0proVrrOdG5cZmWmR3AMSCPXR1MWtHKF2MwhQ%2BMnkM%3D&st=2017-02-04T11%3A05%3A10Z
Signed Delete URL:       https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-zgtpzr4urg3d33ndxnc3grly-1/messages/a76e355b-0c7e-45f7-946f-de542a5a84f5?popreceipt=AgAAAAMAAAAAAAAAIQ1HWtl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A50%3A10Z&sp=p&spr=https&sig=G0proVrrOdG5cZmWmR3AMSCPXR1MWtHKF2MwhQ%2BMnkM%3D&st=2017-02-04T11%3A05%3A10Z
==========================================
Created:                 2017-02-04T11:20:07.000Z
Deadline:                2017-02-04T11:35:07.000Z
Expires:                 2017-02-05T11:20:07.000Z
Extra:                   {}
Metadata:                {Test task [TC] TestUpload pmoore@mozilla.com https://github.com/taskcluster/generic-worker/blob/master/artifacts_test.go}
Payload:                 {
      "command": [
        "\n\t\tsetlocal EnableDelayedExpansion\n\t\tif exist my-task-caches\\test-modifications\\counter (\n\t\t  set /p counter=<my-task-caches\\test-modifications\\counter\n\t\t  set /a counter=counter+1\n\t\t  echo | set /p dummyName=\"!counter!\" > my-task-caches\\test-modifications\\counter\n\t\t) else (\n\t\t  echo | set /p dummyName=\"1\" > my-task-caches\\test-modifications\\counter\n\t\t)\n"
      ],
      "features": {},
      "maxRunTime": 20,
      "mounts": [
        {
          "cacheName": "test-modifications",
          "directory": "my-task-caches\\test-modifications"
        }
      ]
    }
Provisioner Id:          test-provisioner
Retries:                 1
Routes:                  []string{}
SchedulerId:             test-scheduler
Scopes:                  []string{"generic-worker:cache:test-modifications"}
Tags:                    {
      "createdForUser": "pmoore@mozilla.com"
    }
Task Group Id:           O-5VAxZ3Rdi_isTZCkQaxQ
Worker Type:             NenIKkwYRYGRfyX4-nFBJg
==========================================
Artifacts:               []
Command:                 []string{"\n\t\tsetlocal EnableDelayedExpansion\n\t\tif exist my-task-caches\\test-modifications\\counter (\n\t\t  set /p counter=<my-task-caches\\test-modifications\\counter\n\t\t  set /a counter=counter+1\n\t\t  echo | set /p dummyName=\"!counter!\" > my-task-caches\\test-modifications\\counter\n\t\t) else (\n\t\t  echo | set /p dummyName=\"1\" > my-task-caches\\test-modifications\\counter\n\t\t)\n"}
Env:                     json.RawMessage(nil)
Max Run Time:            20
==========================================
2017/02/04 11:20:15 ERROR encountered: Task not successful due to following exception(s):
Exception 1)
[]

Exit code: 3221225794
2017/02/04 11:20:15 Making system call SwitchDesktop with args: [5DC]
2017/02/04 11:20:15   Result: 1
2017/02/04 11:20:15 Making system call CloseDesktop with args: [30]
2017/02/04 11:20:15   Result: 0
2017/02/04 11:20:15 Error cleaning up after task!
Could not create new task user because previous task user's desktop could not be closed:
CloseDesktop: The requested resource is in use.
2017/02/04 11:20:15 Creating Windows User task_1486207215...
2017/02/04 11:20:15 Running command: 'net' 'user' 'task_1486207215' 'pWd0_Gw8lnWfZecZHPU607GuG2bQs' '/add' '/expires:never' '/passwordchg:no' '/y'
2017/02/04 11:20:15 Created new task user!
2017/02/04 11:20:15 Running command: 'wmic' 'useraccount' 'where' 'name='task_1486207215'' 'set' 'passwordexpires=false'
Updating property(s) of '\\I-02A561117A676\ROOT\CIMV2:Win32_UserAccount.Domain="I-02A561117A676",Name="task_1486207215"'
Property(s) update successful.
2017/02/04 11:20:15 Running command: 'net' 'localgroup' 'Remote Desktop Users' '/add' 'task_1486207215'
The command completed successfully.

2017/02/04 11:20:15 Making system call GetProcessWindowStation with args: []
2017/02/04 11:20:15   Result: 2C
2017/02/04 11:20:15 Making system call GetCurrentThreadId with args: []
2017/02/04 11:20:15   Result: D1C
2017/02/04 11:20:15 Making system call GetThreadDesktop with args: [D1C]
2017/02/04 11:20:15   Result: 30
2017/02/04 11:20:15 Making system call GetUserObjectInformationW with args: [30 2 1207C200 200 11DE61AC]
2017/02/04 11:20:15   Result: 1
2017/02/04 11:20:15 Making system call GetUserObjectInformationW with args: [2C 2 1207C600 200 11DE621C]
2017/02/04 11:20:15   Result: 1
2017/02/04 11:20:15 Making system call GetCurrentThreadId with args: []
2017/02/04 11:20:15   Result: D1C
2017/02/04 11:20:15 Making system call CreateDesktopW with args: [11DE6300 0 0 0 10000000 11DE6310]
2017/02/04 11:20:15   Result: 5D0
2017/02/04 11:20:15 Making system call InitializeAcl with args: [11FE8000 400 2]
2017/02/04 11:20:15   Result: 1
2017/02/04 11:20:15 Making system call AddAccessAllowedAceEx with args: [11FE8000 2 B 10000000 11DE63E0]
2017/02/04 11:20:15   Result: 1
2017/02/04 11:20:15 Making system call AddAccessAllowedAceEx with args: [11FE8000 2 4 2037F 11DE63E0]
2017/02/04 11:20:15   Result: 1
2017/02/04 11:20:15 Making system call InitializeSecurityDescriptor with args: [12076000 1]
2017/02/04 11:20:15   Result: 1
2017/02/04 11:20:15 Making system call SetSecurityDescriptorDacl with args: [12076000 1 11FE8000 0]
2017/02/04 11:20:15   Result: 1
2017/02/04 11:20:15 Making system call SetUserObjectSecurity with args: [2C 11DE65DC 12076000]
2017/02/04 11:20:15   Result: 1
2017/02/04 11:20:15 Making system call InitializeAcl with args: [11FE8480 400 2]
2017/02/04 11:20:15   Result: 1
2017/02/04 11:20:15 Making system call AddAccessAllowedAce with args: [11FE8480 2 201FF 11DE63E0]
2017/02/04 11:20:15   Result: 1
2017/02/04 11:20:15 Making system call InitializeSecurityDescriptor with args: [12077200 1]
2017/02/04 11:20:15   Result: 1
2017/02/04 11:20:15 Making system call SetSecurityDescriptorDacl with args: [12077200 1 11FE8480 0]
2017/02/04 11:20:15   Result: 1
2017/02/04 11:20:15 Making system call SetUserObjectSecurity with args: [5D0 11DE682C 12077200]
2017/02/04 11:20:15   Result: 1
2017/02/04 11:20:15 Making system call LogonUserW with args: [11EEC6E0 11DE68AC 11EBC3C0 2 0 11DE68D0]
2017/02/04 11:20:15   Result: 1
2017/02/04 11:20:15 Making system call LoadUserProfileW with args: [5F4 11EEC740]
2017/02/04 11:20:16   Result: 1
2017/02/04 11:20:16 Making system call SwitchDesktop with args: [5D0]
2017/02/04 11:20:16   Result: 1
2017/02/04 11:20:16 Making system call SHSetKnownFolderPath with args: [B338C0 0 5F4 11EEA280]
2017/02/04 11:20:16   Result: 0
2017/02/04 11:20:16 Making system call SHGetKnownFolderPath with args: [B338C0 8000 5F4 11DE69F0]
2017/02/04 11:20:16   Result: 0
2017/02/04 11:20:16 Making system call CoTaskMemFree with args: [27C728]
2017/02/04 11:20:16   Result: 1
2017/02/04 11:20:16 Making system call SHSetKnownFolderPath with args: [B338B0 0 5F4 11EEA3C0]
2017/02/04 11:20:16   Result: 0
2017/02/04 11:20:16 Making system call SHGetKnownFolderPath with args: [B338B0 8000 5F4 11DE6AC0]
2017/02/04 11:20:16   Result: 0
2017/02/04 11:20:16 Making system call CoTaskMemFree with args: [2601F0]
2017/02/04 11:20:16   Result: 1
2017/02/04 11:20:16 Task found
2017/02/04 11:20:16 Claiming task GCLCb_0_Qc6lTVj1UCMFDg...
2017/02/04 11:20:16 Deleting task GCLCb_0_Qc6lTVj1UCMFDg from Azure queue...
2017/02/04 11:20:16 Successfully deleted task from azure queue (delete url: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-zgtpzr4urg3d33ndxnc3grly-1/messages/fc4b734b-c911-4fe3-82f0-967df574ac34?popreceipt=AgAAAAMAAAAAAAAATkdCXNl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A50%3A10Z&sp=p&spr=https&sig=G0proVrrOdG5cZmWmR3AMSCPXR1MWtHKF2MwhQ%2BMnkM%3D&st=2017-02-04T11%3A05%3A10Z) with http response code 204.
2017/02/04 11:20:16 Setting reclaim timer...
2017/02/04 11:20:16 Current claim will expire at 2017-02-04 11:40:17.444 +0000 UTC
2017/02/04 11:20:16 Reclaiming 3 mins earlier, at 2017-02-04 11:37:17.444 +0000 UTC
2017/02/04 11:20:16 Time to wait until then is 17m0.5302s
2017/02/04 11:20:16 This is more than 30 seconds away - so setting a timer
2017/02/04 11:20:16 JSON payload: {
      "command": [
        "\n\t\tsetlocal EnableDelayedExpansion\n\t\tif exist my-task-caches\\test-modifications\\counter (\n\t\t  set /p counter=<my-task-caches\\test-modifications\\counter\n\t\t  set /a counter=counter+1\n\t\t  echo | set /p dummyName=\"!counter!\" > my-task-caches\\test-modifications\\counter\n\t\t) else (\n\t\t  echo | set /p dummyName=\"1\" > my-task-caches\\test-modifications\\counter\n\t\t)\n"
      ],
      "features": {},
      "maxRunTime": 20,
      "mounts": [
        {
          "cacheName": "test-modifications",
          "directory": "my-task-caches\\test-modifications"
        }
      ]
    }
2017/02/04 11:20:16 Running task https://tools.taskcluster.net/task-inspector/#GCLCb_0_Qc6lTVj1UCMFDg/0
2017/02/04 11:20:16 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207215\command_000000_wrapper.bat
2017/02/04 11:20:16 Deadline: 2017-02-04 11:20:36.9138 +0000 GMT
2017/02/04 11:20:16 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207215\command_000000_wrapper.bat
2017/02/04 11:20:16 Uploading artifact: public/logs/live.log
2017/02/04 11:20:17 Disk available: 84838920192 bytes
2017/02/04 11:20:17 Running command: 'icacls' 'Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207215\my-task-caches\test-modifications' '/grant:r' 'task_1486207215:(OI)(CI)F'
processed file: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207215\my-task-caches\test-modifications
Successfully processed 1 files; Failed processing 0 files
2017/02/04 11:20:17 Executing command 0: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207215\command_000000_wrapper.bat
2017/02/04 11:20:17 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207215\\command_000000.bat":
2017/02/04 11:20:17 Contents:
2017/02/04 11:20:17 @echo on

		setlocal EnableDelayedExpansion
		if exist my-task-caches\test-modifications\counter (
		  set /p counter=<my-task-caches\test-modifications\counter
		  set /a counter=counter+1
		  echo | set /p dummyName="!counter!" > my-task-caches\test-modifications\counter
		) else (
		  echo | set /p dummyName="1" > my-task-caches\test-modifications\counter
		)
2017/02/04 11:20:17 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:20:17   Result: 18
2017/02/04 11:20:17 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:20:17   Result: 1B
2017/02/04 11:20:17 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:20:17   Result: 1801B
2017/02/04 11:20:17 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:20:17   Result: 1B01B
2017/02/04 11:20:17 Making system call VerifyVersionInfoW with args: [11EFA000 33 1B01B 80000000]
2017/02/04 11:20:17   Result: 0
2017/02/04 11:20:17 Making system call CreateEnvironmentBlock with args: [11F8A398 5F4 0]
2017/02/04 11:20:17   Result: 1
2017/02/04 11:20:17 Making system call DestroyEnvironmentBlock with args: [2826D0]
2017/02/04 11:20:17   Result: 1
2017/02/04 11:20:17 Making system call CreateProcessAsUserW with args: [5F4 0 11ED6270 0 0 1 1000614 11FBA000 123E2000 11F1E2D0 11F8A3C0]
2017/02/04 11:20:17   Result: 1
time="2017-02-04T11:20:17Z" level=info msg="processInfo: 0x11e220a0" 
2017/02/04 11:20:17 Making system call SetPriorityClass with args: [5E4 8000]
2017/02/04 11:20:17   Result: 1
2017/02/04 11:20:17 Making system call ResumeThread with args: [5FC]
2017/02/04 11:20:17   Result: 1
2017/02/04 11:20:17 Making system call GetProcessMemoryInfo with args: [5E4 11DEAC60 2C]
2017/02/04 11:20:17   Result: 1
2017/02/04 11:20:17 Making system call CloseHandle with args: [5E4]
2017/02/04 11:20:17   Result: 0
2017/02/04 11:20:17 Error when closing handle: The handle is invalid.
2017/02/04 11:20:17 Moving "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207215\\my-task-caches\\test-modifications" to "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\caches\\K_VM7_mhTfagIGYg0xPABw"
2017/02/04 11:20:17 Running command: 'icacls' 'Z:\gopath\src\github.com\taskcluster\generic-worker\caches\K_VM7_mhTfagIGYg0xPABw' '/remove:g' 'task_1486207215'
processed file: Z:\gopath\src\github.com\taskcluster\generic-worker\caches\K_VM7_mhTfagIGYg0xPABw
Successfully processed 1 files; Failed processing 0 files
2017/02/04 11:20:17 Redirecting live.log to live_backing.log
2017/02/04 11:20:17 Uploading artifact: public/logs/live.log
2017/02/04 11:20:17 Uploading artifact: public/logs/live_backing.log
2017/02/04 11:20:17 Making system call UnloadUserProfile with args: [5B0 5C4]
2017/02/04 11:20:17   Result: 1
2017/02/04 11:20:17 Making system call CloseHandle with args: [5B0]
2017/02/04 11:20:17   Result: 0
2017/02/04 11:20:17 Error when closing handle: The handle is invalid.
2017/02/04 11:20:18 Request
2017/02/04 11:20:18 PUT /GCLCb_0_Qc6lTVj1UCMFDg/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486209029&Signature=G0QphRBzHl%2BKKdbQ4iRanxuWtEQ%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 675
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:20:18 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/GCLCb_0_Qc6lTVj1UCMFDg/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486209029&Signature=G0QphRBzHl%2BKKdbQ4iRanxuWtEQ%3D
2017/02/04 11:20:18 Response
2017/02/04 11:20:18 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:20:20 GMT
Etag: "85202cb7101b563e60a04afac55c26ae"
Server: AmazonS3
X-Amz-Id-2: ZI/c8VnUIZmWTR0MVmSjXpwsYm0ZeFzaueVrT6hwXEwhT+Ld9WoWRIH1O00Mt1Cla97WRCihh10=
X-Amz-Request-Id: 42D86F5071995540
X-Amz-Version-Id: MFjtQh1vARvmaVbATLGW4fvaXKlmc1jV

2017/02/04 11:20:18 Resolving task...
2017/02/04 11:20:18 Task Id:                 GCLCb_0_Qc6lTVj1UCMFDg
Run Id:                  0
Run Id (Task Claim):     0
Message Id:              fc4b734b-c911-4fe3-82f0-967df574ac34
Insertion Time:          2017-02-04 11:20:09 +0000 GMT
Expiration Time:         2017-02-04 11:35:07 +0000 GMT
Dequeue Count:           1
Pop Receipt:             AgAAAAMAAAAAAAAATkdCXNl+0gE=
Time Next Visible:       2017-02-04 11:25:16 +0000 GMT
Message Text:            eyJ0YXNrSWQiOiJHQ0xDYl8wX1FjNmxUVmoxVUNNRkRnIiwicnVuSWQiOjAsImhpbnRJZCI6IlE1T3Q2NDJiVFdxTkp3Z3FTTHNDM2cifQ==
Run 0:
  Reason Created:        scheduled
  Reason Resolved:       failed
  Resolved:              2017-02-04T11:20:19.388Z
  Run Id:                0
  Scheduled:             2017-02-04T11:20:09.483Z
  Started:               2017-02-04T11:20:17.534Z
  State:                 failed
  Taken Until:           2017-02-04T11:40:17.444Z
  Worker Group:          test-worker-group
  Worker Id:             test-worker-id
==========================================
Status Deadline:         2017-02-04T11:35:08.000Z
Status Provisioner Id:   test-provisioner
Status Retries Left:     1
Status Scheduler Id:     test-scheduler
Status State:            failed
Status Task Group Id:    O-5VAxZ3Rdi_isTZCkQaxQ
Status Task Id:          GCLCb_0_Qc6lTVj1UCMFDg
Status Worker Type:      NenIKkwYRYGRfyX4-nFBJg
Taken Until:             2017-02-04T11:40:17.444Z
Worker Group:            test-worker-group
Worker Id:               test-worker-id
==========================================
Signed Poll URL:         https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-zgtpzr4urg3d33ndxnc3grly-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A50%3A10Z&sp=p&spr=https&sig=G0proVrrOdG5cZmWmR3AMSCPXR1MWtHKF2MwhQ%2BMnkM%3D&st=2017-02-04T11%3A05%3A10Z
Signed Delete URL:       https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-zgtpzr4urg3d33ndxnc3grly-1/messages/fc4b734b-c911-4fe3-82f0-967df574ac34?popreceipt=AgAAAAMAAAAAAAAATkdCXNl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A50%3A10Z&sp=p&spr=https&sig=G0proVrrOdG5cZmWmR3AMSCPXR1MWtHKF2MwhQ%2BMnkM%3D&st=2017-02-04T11%3A05%3A10Z
==========================================
Created:                 2017-02-04T11:20:08.000Z
Deadline:                2017-02-04T11:35:08.000Z
Expires:                 2017-02-05T11:20:08.000Z
Extra:                   {}
Metadata:                {Test task [TC] TestUpload pmoore@mozilla.com https://github.com/taskcluster/generic-worker/blob/master/artifacts_test.go}
Payload:                 {
      "command": [
        "\n\t\tsetlocal EnableDelayedExpansion\n\t\tif exist my-task-caches\\test-modifications\\counter (\n\t\t  set /p counter=<my-task-caches\\test-modifications\\counter\n\t\t  set /a counter=counter+1\n\t\t  echo | set /p dummyName=\"!counter!\" > my-task-caches\\test-modifications\\counter\n\t\t) else (\n\t\t  echo | set /p dummyName=\"1\" > my-task-caches\\test-modifications\\counter\n\t\t)\n"
      ],
      "features": {},
      "maxRunTime": 20,
      "mounts": [
        {
          "cacheName": "test-modifications",
          "directory": "my-task-caches\\test-modifications"
        }
      ]
    }
Provisioner Id:          test-provisioner
Retries:                 1
Routes:                  []string{}
SchedulerId:             test-scheduler
Scopes:                  []string{"generic-worker:cache:test-modifications"}
Tags:                    {
      "createdForUser": "pmoore@mozilla.com"
    }
Task Group Id:           O-5VAxZ3Rdi_isTZCkQaxQ
Worker Type:             NenIKkwYRYGRfyX4-nFBJg
==========================================
Artifacts:               []
Command:                 []string{"\n\t\tsetlocal EnableDelayedExpansion\n\t\tif exist my-task-caches\\test-modifications\\counter (\n\t\t  set /p counter=<my-task-caches\\test-modifications\\counter\n\t\t  set /a counter=counter+1\n\t\t  echo | set /p dummyName=\"!counter!\" > my-task-caches\\test-modifications\\counter\n\t\t) else (\n\t\t  echo | set /p dummyName=\"1\" > my-task-caches\\test-modifications\\counter\n\t\t)\n"}
Env:                     json.RawMessage(nil)
Max Run Time:            20
==========================================
2017/02/04 11:20:18 ERROR encountered: Task not successful due to following exception(s):
Exception 1)
[]

Exit code: 3221225794
2017/02/04 11:20:18 Making system call SwitchDesktop with args: [5D0]
2017/02/04 11:20:18   Result: 1
2017/02/04 11:20:18 Making system call CloseDesktop with args: [30]
2017/02/04 11:20:18   Result: 0
2017/02/04 11:20:18 Error cleaning up after task!
Could not create new task user because previous task user's desktop could not be closed:
CloseDesktop: The requested resource is in use.
--- FAIL: TestCachesCanBeModified (11.97s)
	mounts_test.go:254: Error when trying to real cache file: open Z:\gopath\src\github.com\taskcluster\generic-worker\caches\K_VM7_mhTfagIGYg0xPABw\counter: The system cannot find the file specified.
=== RUN   Test32BitOverflow
--- PASS: Test32BitOverflow (0.00s)
=== RUN   TestMissingScopesOSGroups
2017/02/04 11:20:19 Detected windows platform
2017/02/04 11:20:19 No previous task user desktop, so no need to close any open desktops
2017/02/04 11:20:19 Looking for existing task users to delete...
2017/02/04 11:20:19 Attempting to remove Windows user task_1486207209...
2017/02/04 11:20:19 Running command: 'net' 'user' 'task_1486207209' '/delete'
The command completed successfully.

2017/02/04 11:20:19 Attempting to remove Windows user task_1486207212...
2017/02/04 11:20:19 Running command: 'net' 'user' 'task_1486207212' '/delete'
The command completed successfully.

2017/02/04 11:20:19 Attempting to remove Windows user task_1486207215...
2017/02/04 11:20:19 Running command: 'net' 'user' 'task_1486207215' '/delete'
The command completed successfully.

2017/02/04 11:20:19 Creating Windows User task_1486207219...
2017/02/04 11:20:19 Running command: 'net' 'user' 'task_1486207219' 'pWd0_Gkkf6KFDePH6F5N5Eum9lpmv' '/add' '/expires:never' '/passwordchg:no' '/y'
2017/02/04 11:20:19 Created new task user!
2017/02/04 11:20:19 Running command: 'wmic' 'useraccount' 'where' 'name='task_1486207219'' 'set' 'passwordexpires=false'
Updating property(s) of '\\I-02A561117A676\ROOT\CIMV2:Win32_UserAccount.Domain="I-02A561117A676",Name="task_1486207219"'
Property(s) update successful.
2017/02/04 11:20:19 Running command: 'net' 'localgroup' 'Remote Desktop Users' '/add' 'task_1486207219'
The command completed successfully.

2017/02/04 11:20:19 Making system call GetProcessWindowStation with args: []
2017/02/04 11:20:19   Result: 2C
2017/02/04 11:20:19 Making system call GetCurrentThreadId with args: []
2017/02/04 11:20:19   Result: F68
2017/02/04 11:20:19 Making system call GetThreadDesktop with args: [F68]
2017/02/04 11:20:19   Result: 30
2017/02/04 11:20:19 Making system call GetUserObjectInformationW with args: [30 2 11EE8400 200 12019058]
2017/02/04 11:20:19   Result: 1
2017/02/04 11:20:19 Making system call GetUserObjectInformationW with args: [2C 2 11EE8600 200 120190A8]
2017/02/04 11:20:19   Result: 1
2017/02/04 11:20:19 Making system call GetCurrentThreadId with args: []
2017/02/04 11:20:19   Result: F68
2017/02/04 11:20:19 Making system call CreateDesktopW with args: [120191F0 0 0 0 10000000 12019200]
2017/02/04 11:20:19   Result: 5B4
2017/02/04 11:20:19 Making system call InitializeAcl with args: [11FE9200 400 2]
2017/02/04 11:20:19   Result: 1
2017/02/04 11:20:19 Making system call AddAccessAllowedAceEx with args: [11FE9200 2 B 10000000 120192C0]
2017/02/04 11:20:19   Result: 1
2017/02/04 11:20:19 Making system call AddAccessAllowedAceEx with args: [11FE9200 2 4 2037F 120192C0]
2017/02/04 11:20:19   Result: 1
2017/02/04 11:20:19 Making system call InitializeSecurityDescriptor with args: [11DAB600 1]
2017/02/04 11:20:19   Result: 1
2017/02/04 11:20:19 Making system call SetSecurityDescriptorDacl with args: [11DAB600 1 11FE9200 0]
2017/02/04 11:20:19   Result: 1
2017/02/04 11:20:19 Making system call SetUserObjectSecurity with args: [2C 1201951C 11DAB600]
2017/02/04 11:20:19   Result: 1
2017/02/04 11:20:19 Making system call InitializeAcl with args: [11FE9680 400 2]
2017/02/04 11:20:19   Result: 1
2017/02/04 11:20:19 Making system call AddAccessAllowedAce with args: [11FE9680 2 201FF 120192C0]
2017/02/04 11:20:19   Result: 1
2017/02/04 11:20:19 Making system call InitializeSecurityDescriptor with args: [11DAC800 1]
2017/02/04 11:20:19   Result: 1
2017/02/04 11:20:19 Making system call SetSecurityDescriptorDacl with args: [11DAC800 1 11FE9680 0]
2017/02/04 11:20:19   Result: 1
2017/02/04 11:20:19 Making system call SetUserObjectSecurity with args: [5B4 1201976C 11DAC800]
2017/02/04 11:20:19   Result: 1
2017/02/04 11:20:19 Making system call LogonUserW with args: [12099BC0 120197CC 120552C0 2 0 120197E0]
2017/02/04 11:20:19   Result: 1
2017/02/04 11:20:19 Making system call LoadUserProfileW with args: [594 12099C00]
2017/02/04 11:20:20   Result: 1
2017/02/04 11:20:20 Making system call SwitchDesktop with args: [5B4]
2017/02/04 11:20:20   Result: 1
2017/02/04 11:20:20 Making system call SHSetKnownFolderPath with args: [B338C0 0 594 11D468C0]
2017/02/04 11:20:20   Result: 0
2017/02/04 11:20:20 Making system call SHGetKnownFolderPath with args: [B338C0 8000 594 120198F0]
2017/02/04 11:20:20   Result: 0
2017/02/04 11:20:20 Making system call CoTaskMemFree with args: [27C728]
2017/02/04 11:20:20   Result: 1
2017/02/04 11:20:20 Making system call SHSetKnownFolderPath with args: [B338B0 0 594 11D46AA0]
2017/02/04 11:20:20   Result: 0
2017/02/04 11:20:20 Making system call SHGetKnownFolderPath with args: [B338B0 8000 594 120199D0]
2017/02/04 11:20:20   Result: 0
2017/02/04 11:20:20 Making system call CoTaskMemFree with args: [2601F0]
2017/02/04 11:20:20   Result: 1
2017/02/04 11:20:20 Refreshing signed urls in 24m50.8742s
2017/02/04 11:20:20   Priority (1) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-csotk2f3r4rcqbyzfa4h4urg-5/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A50%3A21Z&sp=p&spr=https&sig=oYGWbGuRDSz6yCEmJBTYUQjsfttY%2Br2oShw85vR4Tc8%3D&st=2017-02-04T11%3A05%3A21Z
2017/02/04 11:20:20   Priority (1) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-csotk2f3r4rcqbyzfa4h4urg-5/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A50%3A21Z&sp=p&spr=https&sig=oYGWbGuRDSz6yCEmJBTYUQjsfttY%2Br2oShw85vR4Tc8%3D&st=2017-02-04T11%3A05%3A21Z
2017/02/04 11:20:20   Priority (2) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-csotk2f3r4rcqbyzfa4h4urg-1/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A50%3A21Z&sp=p&spr=https&sig=eHlIMojEAlMYydZw0HWRRbFiJk76VEIm7FaZAnyCKUI%3D&st=2017-02-04T11%3A05%3A21Z
2017/02/04 11:20:20   Priority (2) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-csotk2f3r4rcqbyzfa4h4urg-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A50%3A21Z&sp=p&spr=https&sig=eHlIMojEAlMYydZw0HWRRbFiJk76VEIm7FaZAnyCKUI%3D&st=2017-02-04T11%3A05%3A21Z
2017/02/04 11:20:20 Task found
2017/02/04 11:20:20 Claiming task FcxX2v_dQQCNHIyrBGcQsg...
2017/02/04 11:20:20 Deleting task FcxX2v_dQQCNHIyrBGcQsg from Azure queue...
2017/02/04 11:20:21 Successfully deleted task from azure queue (delete url: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-csotk2f3r4rcqbyzfa4h4urg-1/messages/8fef526a-b92a-4438-8ad3-8132ee824d94?popreceipt=AgAAAAMAAAAAAAAAu8a2Xtl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A50%3A21Z&sp=p&spr=https&sig=eHlIMojEAlMYydZw0HWRRbFiJk76VEIm7FaZAnyCKUI%3D&st=2017-02-04T11%3A05%3A21Z) with http response code 204.
2017/02/04 11:20:21 Setting reclaim timer...
2017/02/04 11:20:21 Current claim will expire at 2017-02-04 11:40:21.595 +0000 UTC
2017/02/04 11:20:21 Reclaiming 3 mins earlier, at 2017-02-04 11:37:21.595 +0000 UTC
2017/02/04 11:20:21 Time to wait until then is 17m0.5652s
2017/02/04 11:20:21 This is more than 30 seconds away - so setting a timer
2017/02/04 11:20:21 JSON payload: {
      "command": [
        "echo hello world!",
        "echo goodbye world!"
      ],
      "features": {},
      "maxRunTime": 1,
      "osGroups": [
        "abc",
        "def"
      ]
    }
2017/02/04 11:20:21 Running task https://tools.taskcluster.net/task-inspector/#FcxX2v_dQQCNHIyrBGcQsg/0
2017/02/04 11:20:21 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207219\command_000000_wrapper.bat
2017/02/04 11:20:21 Deadline: 2017-02-04 11:20:22.0308 +0000 GMT
2017/02/04 11:20:21 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207219\command_000000_wrapper.bat
2017/02/04 11:20:21 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207219\command_000001_wrapper.bat
2017/02/04 11:20:21 Deadline: 2017-02-04 11:20:22.0308 +0000 GMT
2017/02/04 11:20:21 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207219\command_000001_wrapper.bat
2017/02/04 11:20:21 Uploading artifact: public/logs/live_backing.log
2017/02/04 11:20:21 Request
2017/02/04 11:20:21 PUT /FcxX2v_dQQCNHIyrBGcQsg/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486209032&Signature=NYeGtbYwnAnjCDMx%2FQK3aQ4HXek%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 265
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:20:21 Making system call UnloadUserProfile with args: [5F4 478]
2017/02/04 11:20:21   Result: 1
2017/02/04 11:20:21 Making system call CloseHandle with args: [5F4]
2017/02/04 11:20:21   Result: 0
2017/02/04 11:20:21 Error when closing handle: The handle is invalid.
2017/02/04 11:20:21 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/FcxX2v_dQQCNHIyrBGcQsg/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486209032&Signature=NYeGtbYwnAnjCDMx%2FQK3aQ4HXek%3D
2017/02/04 11:20:21 Response
2017/02/04 11:20:21 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:20:23 GMT
Etag: "f4f62ff3287dc2916fd750116adfe3bc"
Server: AmazonS3
X-Amz-Id-2: Lz8xwvEpcOP8DjBB8qI/uKnw52nkMq85q/UI3qihxoDWv7kApPWoszohUj5gknU3rjOXO9E3Q2k=
X-Amz-Request-Id: 4B56E0BD9F4C6BDA
X-Amz-Version-Id: n2IVZ6WmbhgV4TOGoZTQmDt_xgXXmtMo

2017/02/04 11:20:21 Resolving task...
2017/02/04 11:20:22 Task Id:                 FcxX2v_dQQCNHIyrBGcQsg
Run Id:                  0
Run Id (Task Claim):     0
Message Id:              8fef526a-b92a-4438-8ad3-8132ee824d94
Insertion Time:          2017-02-04 11:20:20 +0000 GMT
Expiration Time:         2017-02-04 11:35:17 +0000 GMT
Dequeue Count:           1
Pop Receipt:             AgAAAAMAAAAAAAAAu8a2Xtl+0gE=
Time Next Visible:       2017-02-04 11:25:20 +0000 GMT
Message Text:            eyJ0YXNrSWQiOiJGY3hYMnZfZFFRQ05ISXlyQkdjUXNnIiwicnVuSWQiOjAsImhpbnRJZCI6IlFJSkdteWl0UlFtYmxRTXpvemUtX0EifQ==
Run 0:
  Reason Created:        scheduled
  Reason Resolved:       malformed-payload
  Resolved:              2017-02-04T11:20:22.658Z
  Run Id:                0
  Scheduled:             2017-02-04T11:20:19.998Z
  Started:               2017-02-04T11:20:21.672Z
  State:                 exception
  Taken Until:           2017-02-04T11:40:21.595Z
  Worker Group:          test-worker-group
  Worker Id:             test-worker-id
==========================================
Status Deadline:         2017-02-04T11:35:18.000Z
Status Provisioner Id:   test-provisioner
Status Retries Left:     1
Status Scheduler Id:     test-scheduler
Status State:            exception
Status Task Group Id:    O-5VAxZ3Rdi_isTZCkQaxQ
Status Task Id:          FcxX2v_dQQCNHIyrBGcQsg
Status Worker Type:      Ogk_XYfDSnu5Q1jI3JwqYg
Taken Until:             2017-02-04T11:40:21.595Z
Worker Group:            test-worker-group
Worker Id:               test-worker-id
==========================================
Signed Poll URL:         https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-csotk2f3r4rcqbyzfa4h4urg-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A50%3A21Z&sp=p&spr=https&sig=eHlIMojEAlMYydZw0HWRRbFiJk76VEIm7FaZAnyCKUI%3D&st=2017-02-04T11%3A05%3A21Z
Signed Delete URL:       https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-csotk2f3r4rcqbyzfa4h4urg-1/messages/8fef526a-b92a-4438-8ad3-8132ee824d94?popreceipt=AgAAAAMAAAAAAAAAu8a2Xtl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A50%3A21Z&sp=p&spr=https&sig=eHlIMojEAlMYydZw0HWRRbFiJk76VEIm7FaZAnyCKUI%3D&st=2017-02-04T11%3A05%3A21Z
==========================================
Created:                 2017-02-04T11:20:18.000Z
Deadline:                2017-02-04T11:35:18.000Z
Expires:                 2017-02-05T11:20:18.000Z
Extra:                   {}
Metadata:                {Test task [TC] TestUpload pmoore@mozilla.com https://github.com/taskcluster/generic-worker/blob/master/artifacts_test.go}
Payload:                 {
      "command": [
        "echo hello world!",
        "echo goodbye world!"
      ],
      "features": {},
      "maxRunTime": 1,
      "osGroups": [
        "abc",
        "def"
      ]
    }
Provisioner Id:          test-provisioner
Retries:                 1
Routes:                  []string{}
SchedulerId:             test-scheduler
Scopes:                  []string{}
Tags:                    {
      "createdForUser": "pmoore@mozilla.com"
    }
Task Group Id:           O-5VAxZ3Rdi_isTZCkQaxQ
Worker Type:             Ogk_XYfDSnu5Q1jI3JwqYg
==========================================
Artifacts:               []
Command:                 []string{"echo hello world!", "echo goodbye world!"}
Env:                     json.RawMessage(nil)
Max Run Time:            1
==========================================
2017/02/04 11:20:22 ERROR encountered: Task not successful due to following exception(s):
Exception 1)
Feature "OS Groups" requires scopes:

generic-worker:os-group:abc, and
generic-worker:os-group:def

but task only has scopes:

<no scopes>

You probably should add some scopes to your task definition.
2017/02/04 11:20:22 Making system call SwitchDesktop with args: [5B4]
2017/02/04 11:20:22   Result: 1
2017/02/04 11:20:22 Making system call CloseDesktop with args: [30]
2017/02/04 11:20:22   Result: 0
2017/02/04 11:20:22 Error cleaning up after task!
Could not create new task user because previous task user's desktop could not be closed:
CloseDesktop: The requested resource is in use.
--- PASS: TestMissingScopesOSGroups (3.45s)
=== RUN   TestOSGroupsRespected
2017/02/04 11:20:22 Detected windows platform
2017/02/04 11:20:22 No previous task user desktop, so no need to close any open desktops
2017/02/04 11:20:22 Looking for existing task users to delete...
2017/02/04 11:20:23 Attempting to remove Windows user task_1486207219...
2017/02/04 11:20:23 Running command: 'net' 'user' 'task_1486207219' '/delete'
The command completed successfully.

2017/02/04 11:20:23 Creating Windows User task_1486207223...
2017/02/04 11:20:23 Running command: 'net' 'user' 'task_1486207223' 'pWd0_ZiBBeDsFyct27N5nh4iFgKeX' '/add' '/expires:never' '/passwordchg:no' '/y'
2017/02/04 11:20:23 Created new task user!
2017/02/04 11:20:23 Running command: 'wmic' 'useraccount' 'where' 'name='task_1486207223'' 'set' 'passwordexpires=false'
Updating property(s) of '\\I-02A561117A676\ROOT\CIMV2:Win32_UserAccount.Domain="I-02A561117A676",Name="task_1486207223"'
Property(s) update successful.
2017/02/04 11:20:23 Running command: 'net' 'localgroup' 'Remote Desktop Users' '/add' 'task_1486207223'
The command completed successfully.

2017/02/04 11:20:23 Making system call GetProcessWindowStation with args: []
2017/02/04 11:20:23   Result: 2C
2017/02/04 11:20:23 Making system call GetCurrentThreadId with args: []
2017/02/04 11:20:23   Result: B60
2017/02/04 11:20:23 Making system call GetThreadDesktop with args: [B60]
2017/02/04 11:20:23   Result: 30
2017/02/04 11:20:23 Making system call GetUserObjectInformationW with args: [30 2 11EE8600 200 11CCB518]
2017/02/04 11:20:23   Result: 1
2017/02/04 11:20:23 Making system call GetUserObjectInformationW with args: [2C 2 11EE9200 200 11CCB578]
2017/02/04 11:20:23   Result: 1
2017/02/04 11:20:23 Making system call GetCurrentThreadId with args: []
2017/02/04 11:20:23   Result: B60
2017/02/04 11:20:23 Making system call CreateDesktopW with args: [11CCB660 0 0 0 10000000 11CCB670]
2017/02/04 11:20:23   Result: 564
2017/02/04 11:20:23 Making system call InitializeAcl with args: [11FE8000 400 2]
2017/02/04 11:20:23   Result: 1
2017/02/04 11:20:23 Making system call AddAccessAllowedAceEx with args: [11FE8000 2 B 10000000 11CCB710]
2017/02/04 11:20:23   Result: 1
2017/02/04 11:20:23 Making system call AddAccessAllowedAceEx with args: [11FE8000 2 4 2037F 11CCB710]
2017/02/04 11:20:23   Result: 1
2017/02/04 11:20:23 Making system call InitializeSecurityDescriptor with args: [11D76000 1]
2017/02/04 11:20:23   Result: 1
2017/02/04 11:20:23 Making system call SetSecurityDescriptorDacl with args: [11D76000 1 11FE8000 0]
2017/02/04 11:20:23   Result: 1
2017/02/04 11:20:23 Making system call SetUserObjectSecurity with args: [2C 11CCB95C 11D76000]
2017/02/04 11:20:23   Result: 1
2017/02/04 11:20:23 Making system call InitializeAcl with args: [11FE8480 400 2]
2017/02/04 11:20:23   Result: 1
2017/02/04 11:20:23 Making system call AddAccessAllowedAce with args: [11FE8480 2 201FF 11CCB710]
2017/02/04 11:20:23   Result: 1
2017/02/04 11:20:23 Making system call InitializeSecurityDescriptor with args: [11D77200 1]
2017/02/04 11:20:23   Result: 1
2017/02/04 11:20:23 Making system call SetSecurityDescriptorDacl with args: [11D77200 1 11FE8480 0]
2017/02/04 11:20:23   Result: 1
2017/02/04 11:20:23 Making system call SetUserObjectSecurity with args: [564 11CCBB8C 11D77200]
2017/02/04 11:20:23   Result: 1
2017/02/04 11:20:23 Making system call LogonUserW with args: [11DF4DC0 11CCBBFC 11FF3640 2 0 11CCBC10]
2017/02/04 11:20:23   Result: 1
2017/02/04 11:20:23 Making system call LoadUserProfileW with args: [5D4 11DF4E00]
2017/02/04 11:20:23   Result: 1
2017/02/04 11:20:23 Making system call SwitchDesktop with args: [564]
2017/02/04 11:20:23   Result: 1
2017/02/04 11:20:23 Making system call SHSetKnownFolderPath with args: [B338C0 0 5D4 11E543C0]
2017/02/04 11:20:23   Result: 0
2017/02/04 11:20:23 Making system call SHGetKnownFolderPath with args: [B338C0 8000 5D4 11CCBD20]
2017/02/04 11:20:23   Result: 0
2017/02/04 11:20:23 Making system call CoTaskMemFree with args: [27C728]
2017/02/04 11:20:23   Result: 1
2017/02/04 11:20:23 Making system call SHSetKnownFolderPath with args: [B338B0 0 5D4 11E54460]
2017/02/04 11:20:23   Result: 0
2017/02/04 11:20:23 Making system call SHGetKnownFolderPath with args: [B338B0 8000 5D4 11CCBDF0]
2017/02/04 11:20:23   Result: 0
2017/02/04 11:20:23 Making system call CoTaskMemFree with args: [2601F0]
2017/02/04 11:20:23   Result: 1
2017/02/04 11:20:23 Refreshing signed urls in 24m50.8942s
2017/02/04 11:20:23   Priority (1) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-t4hmk26cmlwpdbguvfurxjt2-5/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A50%3A24Z&sp=p&spr=https&sig=D%2Btiy%2B0RgmDFGAph0Om7CNX%2BLFVNG2qLFSgpXOBpPAU%3D&st=2017-02-04T11%3A05%3A24Z
2017/02/04 11:20:23   Priority (1) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-t4hmk26cmlwpdbguvfurxjt2-5/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A50%3A24Z&sp=p&spr=https&sig=D%2Btiy%2B0RgmDFGAph0Om7CNX%2BLFVNG2qLFSgpXOBpPAU%3D&st=2017-02-04T11%3A05%3A24Z
2017/02/04 11:20:23   Priority (2) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-t4hmk26cmlwpdbguvfurxjt2-1/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A50%3A24Z&sp=p&spr=https&sig=xN0q49PdB36q8Qu2zajtwj3u6zVDtfnE9qJ7fkCFE7k%3D&st=2017-02-04T11%3A05%3A24Z
2017/02/04 11:20:23   Priority (2) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-t4hmk26cmlwpdbguvfurxjt2-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A50%3A24Z&sp=p&spr=https&sig=xN0q49PdB36q8Qu2zajtwj3u6zVDtfnE9qJ7fkCFE7k%3D&st=2017-02-04T11%3A05%3A24Z
2017/02/04 11:20:23 Task found
2017/02/04 11:20:23 Claiming task Veqt1HQ5TU-RXeO1C1wvBw...
2017/02/04 11:20:24 Deleting task Veqt1HQ5TU-RXeO1C1wvBw from Azure queue...
2017/02/04 11:20:24 Successfully deleted task from azure queue (delete url: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-t4hmk26cmlwpdbguvfurxjt2-1/messages/4bba7016-fc9b-4017-abde-c76019ffa74e?popreceipt=AgAAAAMAAAAAAAAAJkGvYNl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A50%3A24Z&sp=p&spr=https&sig=xN0q49PdB36q8Qu2zajtwj3u6zVDtfnE9qJ7fkCFE7k%3D&st=2017-02-04T11%3A05%3A24Z) with http response code 204.
2017/02/04 11:20:24 Setting reclaim timer...
2017/02/04 11:20:24 Current claim will expire at 2017-02-04 11:40:24.889 +0000 UTC
2017/02/04 11:20:24 Reclaiming 3 mins earlier, at 2017-02-04 11:37:24.889 +0000 UTC
2017/02/04 11:20:24 Time to wait until then is 17m0.5672s
2017/02/04 11:20:24 This is more than 30 seconds away - so setting a timer
2017/02/04 11:20:24 JSON payload: {
      "command": [
        "echo hello world!",
        "echo goodbye world!"
      ],
      "features": {},
      "maxRunTime": 30,
      "osGroups": [
        "abc",
        "def"
      ]
    }
2017/02/04 11:20:24 Running task https://tools.taskcluster.net/task-inspector/#Veqt1HQ5TU-RXeO1C1wvBw/0
2017/02/04 11:20:24 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207223\command_000000_wrapper.bat
2017/02/04 11:20:24 Deadline: 2017-02-04 11:20:54.3228 +0000 GMT
2017/02/04 11:20:24 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207223\command_000000_wrapper.bat
2017/02/04 11:20:24 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207223\command_000001_wrapper.bat
2017/02/04 11:20:24 Deadline: 2017-02-04 11:20:54.3228 +0000 GMT
2017/02/04 11:20:24 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207223\command_000001_wrapper.bat
2017/02/04 11:20:24 Running command: 'net' 'localgroup' 'abc' '/add' 'task_1486207223'
System error 1376 has occurred.

The specified local group does not exist.

2017/02/04 11:20:24 exit status 2
2017/02/04 11:20:24 Uploading artifact: public/logs/live_backing.log
2017/02/04 11:20:24 Request
2017/02/04 11:20:24 PUT /Veqt1HQ5TU-RXeO1C1wvBw/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486209035&Signature=UTUbQVHeS3462d3P7IId92Uj2rY%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 153
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:20:24 Making system call UnloadUserProfile with args: [594 600]
2017/02/04 11:20:24   Result: 1
2017/02/04 11:20:24 Making system call CloseHandle with args: [594]
2017/02/04 11:20:24   Result: 0
2017/02/04 11:20:24 Error when closing handle: The handle is invalid.
2017/02/04 11:20:24 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/Veqt1HQ5TU-RXeO1C1wvBw/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486209035&Signature=UTUbQVHeS3462d3P7IId92Uj2rY%3D
2017/02/04 11:20:24 Response
2017/02/04 11:20:24 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:20:26 GMT
Etag: "906eb8bc98cfc987287ee10ff0145276"
Server: AmazonS3
X-Amz-Id-2: KMI0JaHbnHp4ybz3D91H5pR3wf0DgNPl5RgzWgZ8NGJoHwXzUX9F961/k6bszDYXtOBBOAyKvX0=
X-Amz-Request-Id: 8762F84A493D2D4F
X-Amz-Version-Id: _WMJ7.LLU7Iymdc2w3A8cK0fXiCzwzci

2017/02/04 11:20:24 Resolving task...
2017/02/04 11:20:25 Task Id:                 Veqt1HQ5TU-RXeO1C1wvBw
Run Id:                  0
Run Id (Task Claim):     0
Message Id:              4bba7016-fc9b-4017-abde-c76019ffa74e
Insertion Time:          2017-02-04 11:20:23 +0000 GMT
Expiration Time:         2017-02-04 11:35:21 +0000 GMT
Dequeue Count:           1
Pop Receipt:             AgAAAAMAAAAAAAAAJkGvYNl+0gE=
Time Next Visible:       2017-02-04 11:25:24 +0000 GMT
Message Text:            eyJ0YXNrSWQiOiJWZXF0MUhRNVRVLVJYZU8xQzF3dkJ3IiwicnVuSWQiOjAsImhpbnRJZCI6InJqME5JYzZrUXU2TmMxXzJkZ3ZRRWcifQ==
Run 0:
  Reason Created:        scheduled
  Reason Resolved:       malformed-payload
  Resolved:              2017-02-04T11:20:25.859Z
  Run Id:                0
  Scheduled:             2017-02-04T11:20:23.435Z
  Started:               2017-02-04T11:20:24.981Z
  State:                 exception
  Taken Until:           2017-02-04T11:40:24.889Z
  Worker Group:          test-worker-group
  Worker Id:             test-worker-id
==========================================
Status Deadline:         2017-02-04T11:35:22.000Z
Status Provisioner Id:   test-provisioner
Status Retries Left:     1
Status Scheduler Id:     test-scheduler
Status State:            exception
Status Task Group Id:    O-5VAxZ3Rdi_isTZCkQaxQ
Status Task Id:          Veqt1HQ5TU-RXeO1C1wvBw
Status Worker Type:      L0nBTXJvTBmB33354DO3-g
Taken Until:             2017-02-04T11:40:24.889Z
Worker Group:            test-worker-group
Worker Id:               test-worker-id
==========================================
Signed Poll URL:         https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-t4hmk26cmlwpdbguvfurxjt2-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A50%3A24Z&sp=p&spr=https&sig=xN0q49PdB36q8Qu2zajtwj3u6zVDtfnE9qJ7fkCFE7k%3D&st=2017-02-04T11%3A05%3A24Z
Signed Delete URL:       https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-t4hmk26cmlwpdbguvfurxjt2-1/messages/4bba7016-fc9b-4017-abde-c76019ffa74e?popreceipt=AgAAAAMAAAAAAAAAJkGvYNl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A50%3A24Z&sp=p&spr=https&sig=xN0q49PdB36q8Qu2zajtwj3u6zVDtfnE9qJ7fkCFE7k%3D&st=2017-02-04T11%3A05%3A24Z
==========================================
Created:                 2017-02-04T11:20:22.000Z
Deadline:                2017-02-04T11:35:22.000Z
Expires:                 2017-02-05T11:20:22.000Z
Extra:                   {}
Metadata:                {Test task [TC] TestUpload pmoore@mozilla.com https://github.com/taskcluster/generic-worker/blob/master/artifacts_test.go}
Payload:                 {
      "command": [
        "echo hello world!",
        "echo goodbye world!"
      ],
      "features": {},
      "maxRunTime": 30,
      "osGroups": [
        "abc",
        "def"
      ]
    }
Provisioner Id:          test-provisioner
Retries:                 1
Routes:                  []string{}
SchedulerId:             test-scheduler
Scopes:                  []string{"generic-worker:os-group:abc", "generic-worker:os-group:def"}
Tags:                    {
      "createdForUser": "pmoore@mozilla.com"
    }
Task Group Id:           O-5VAxZ3Rdi_isTZCkQaxQ
Worker Type:             L0nBTXJvTBmB33354DO3-g
==========================================
Artifacts:               []
Command:                 []string{"echo hello world!", "echo goodbye world!"}
Env:                     json.RawMessage(nil)
Max Run Time:            30
==========================================
2017/02/04 11:20:25 ERROR encountered: Task not successful due to following exception(s):
Exception 1)
exit status 2
2017/02/04 11:20:25 Making system call SwitchDesktop with args: [564]
2017/02/04 11:20:25   Result: 1
2017/02/04 11:20:25 Making system call CloseDesktop with args: [30]
2017/02/04 11:20:25   Result: 0
2017/02/04 11:20:25 Error cleaning up after task!
Could not create new task user because previous task user's desktop could not be closed:
CloseDesktop: The requested resource is in use.
--- FAIL: TestOSGroupsRespected (3.19s)
	os_groups_test.go:61: Task Veqt1HQ5TU-RXeO1C1wvBw resolved as exception/malformed-payload but should have resolved as completed
=== RUN   TestPayloadSchemaValid
--- PASS: TestPayloadSchemaValid (0.00s)
=== RUN   TestTotallyMalformedPayload
2017/02/04 11:20:25 JSON payload: bad payload, not even json
--- PASS: TestTotallyMalformedPayload (0.00s)
	payload_test.go:40: Task log:
	payload_test.go:41: invalid character 'b' looking for beginning of value
=== RUN   TestEnvVarsMustBeStrings
2017/02/04 11:20:25 JSON payload: {
  "env": {
    "XPI_NAME": "dist/example_add-on-0.0.1.zip",
    "GITHUB_PULL_REQUEST": 37,
    "GITHUB_BASE_BRANCH": "master"
  },
  "maxRunTime": 1200,
  "command": [
    "echo hello world!",
    "echo goodbye world!"
  ]
}
--- PASS: TestEnvVarsMustBeStrings (0.00s)
	payload_test.go:40: Task log:
		[taskcluster 2017-02-04T11:20:25.389Z] TASK FAIL since the task payload is invalid. See errors:
		[taskcluster 2017-02-04T11:20:25.389Z] - env: Invalid type. Expected: string, given: integer
	payload_test.go:41: Validation of payload failed for task EIsQ7iXzSXur84pOAl9tDQ
=== RUN   TestExtraFieldsNotAllowed
2017/02/04 11:20:25 JSON payload: {
  "env": {
    "XPI_NAME": "dist/example_add-on-0.0.1.zip"
  },
  "maxRunTime": 3,
  "extraField": "This field is not allowed!",
  "command": [
    "echo hello world!",
    "echo goodbye world!"
  ]
}
--- PASS: TestExtraFieldsNotAllowed (0.00s)
	payload_test.go:40: Task log:
		[taskcluster 2017-02-04T11:20:25.390Z] TASK FAIL since the task payload is invalid. See errors:
		[taskcluster 2017-02-04T11:20:25.390Z] - extraField: Additional property extraField is not allowed
	payload_test.go:41: Validation of payload failed for task fP7k7KVoTKykq5Td02Emiw
=== RUN   TestNoCommandsSpecified
2017/02/04 11:20:25 JSON payload: {
  "env": {
    "XPI_NAME": "dist/example_add-on-0.0.1.zip"
  },
  "maxRunTime": 3,
  "command": []
}
--- PASS: TestNoCommandsSpecified (0.00s)
	payload_test.go:40: Task log:
		[taskcluster 2017-02-04T11:20:25.390Z] TASK FAIL since the task payload is invalid. See errors:
		[taskcluster 2017-02-04T11:20:25.390Z] - command: Array must have at least 1 items
	payload_test.go:41: Validation of payload failed for task So3-ygWUTn2fF_f79HHHBg
=== RUN   TestValidPayload
2017/02/04 11:20:25 JSON payload: {
  "env": {
    "XPI_NAME": "dist/example_add-on-0.0.1.zip"
  },
  "maxRunTime": 3,
  "command": [
    "echo hello world!",
    "echo goodbye world!"
  ]
}
--- PASS: TestValidPayload (0.00s)
=== RUN   TestArtifactExpiresBeforeDeadline
2017/02/04 11:20:25 JSON payload: {
  "env": {
    "XPI_NAME": "dist/example_add-on-0.0.1.zip"
  },
  "maxRunTime": 3,
  "command": [
    "echo hello world!",
    "echo goodbye world!"
  ],
  "artifacts": [
    {
      "type": "file",
      "path": "public/some/artifact",
      "expires": "2017-02-04T11:25:25.391Z"
    }
  ]
}
--- PASS: TestArtifactExpiresBeforeDeadline (0.00s)
	payload_test.go:40: Task log:
	payload_test.go:41: Malformed payload: artifact 'public/some/artifact' expires before task deadline (2017-02-04T11:25:25.391Z is before 2017-02-04T11:30:25.391Z)
=== RUN   TestArtifactExpiresAfterDeadline
2017/02/04 11:20:25 JSON payload: {
  "env": {
    "XPI_NAME": "dist/example_add-on-0.0.1.zip"
  },
  "maxRunTime": 3,
  "command": [
    "echo hello world!",
    "echo goodbye world!"
  ],
  "artifacts": [
    {
      "type": "file",
      "path": "public/some/artifact",
      "expires": "2017-02-04T11:30:25.392Z"
    }
  ]
}
--- PASS: TestArtifactExpiresAfterDeadline (0.00s)
=== RUN   TestResolveResolvedTask
2017/02/04 11:20:26 Detected windows platform
2017/02/04 11:20:26 No previous task user desktop, so no need to close any open desktops
2017/02/04 11:20:26 Looking for existing task users to delete...
2017/02/04 11:20:26 Attempting to remove Windows user task_1486207223...
2017/02/04 11:20:26 Running command: 'net' 'user' 'task_1486207223' '/delete'
The command completed successfully.

2017/02/04 11:20:26 Creating Windows User task_1486207226...
2017/02/04 11:20:26 Running command: 'net' 'user' 'task_1486207226' 'pWd0_z5VGA8skku1VWg3nsjnJMpUp' '/add' '/expires:never' '/passwordchg:no' '/y'
2017/02/04 11:20:26 Created new task user!
2017/02/04 11:20:26 Running command: 'wmic' 'useraccount' 'where' 'name='task_1486207226'' 'set' 'passwordexpires=false'
2017/02/04 11:20:26 Making system call UnloadUserProfile with args: [5D4 5A4]
2017/02/04 11:20:26   Result: 1
2017/02/04 11:20:26 Making system call CloseHandle with args: [5D4]
2017/02/04 11:20:26   Result: 0
2017/02/04 11:20:26 Error when closing handle: The handle is invalid.
Updating property(s) of '\\I-02A561117A676\ROOT\CIMV2:Win32_UserAccount.Domain="I-02A561117A676",Name="task_1486207226"'
Property(s) update successful.
2017/02/04 11:20:26 Running command: 'net' 'localgroup' 'Remote Desktop Users' '/add' 'task_1486207226'
The command completed successfully.

2017/02/04 11:20:26 Making system call GetProcessWindowStation with args: []
2017/02/04 11:20:26   Result: 2C
2017/02/04 11:20:26 Making system call GetCurrentThreadId with args: []
2017/02/04 11:20:26   Result: F64
2017/02/04 11:20:26 Making system call GetThreadDesktop with args: [F64]
2017/02/04 11:20:26   Result: 30
2017/02/04 11:20:26 Making system call GetUserObjectInformationW with args: [30 2 11EE8000 200 12102C78]
2017/02/04 11:20:26   Result: 1
2017/02/04 11:20:26 Making system call GetUserObjectInformationW with args: [2C 2 11EE8400 200 12102CD8]
2017/02/04 11:20:26   Result: 1
2017/02/04 11:20:26 Making system call GetCurrentThreadId with args: []
2017/02/04 11:20:26   Result: F64
2017/02/04 11:20:26 Making system call CreateDesktopW with args: [12102E00 0 0 0 10000000 12102E30]
2017/02/04 11:20:26   Result: 5E8
2017/02/04 11:20:26 Making system call InitializeAcl with args: [11F08480 400 2]
2017/02/04 11:20:26   Result: 1
2017/02/04 11:20:26 Making system call AddAccessAllowedAceEx with args: [11F08480 2 B 10000000 12102ED0]
2017/02/04 11:20:26   Result: 1
2017/02/04 11:20:26 Making system call AddAccessAllowedAceEx with args: [11F08480 2 4 2037F 12102ED0]
2017/02/04 11:20:26   Result: 1
2017/02/04 11:20:26 Making system call InitializeSecurityDescriptor with args: [11D76000 1]
2017/02/04 11:20:26   Result: 1
2017/02/04 11:20:26 Making system call SetSecurityDescriptorDacl with args: [11D76000 1 11F08480 0]
2017/02/04 11:20:26   Result: 1
2017/02/04 11:20:26 Making system call SetUserObjectSecurity with args: [2C 1210307C 11D76000]
2017/02/04 11:20:26   Result: 1
2017/02/04 11:20:26 Making system call InitializeAcl with args: [11F08900 400 2]
2017/02/04 11:20:26   Result: 1
2017/02/04 11:20:26 Making system call AddAccessAllowedAce with args: [11F08900 2 201FF 12102ED0]
2017/02/04 11:20:26   Result: 1
2017/02/04 11:20:26 Making system call InitializeSecurityDescriptor with args: [11D77200 1]
2017/02/04 11:20:26   Result: 1
2017/02/04 11:20:26 Making system call SetSecurityDescriptorDacl with args: [11D77200 1 11F08900 0]
2017/02/04 11:20:26   Result: 1
2017/02/04 11:20:26 Making system call SetUserObjectSecurity with args: [5E8 1210329C 11D77200]
2017/02/04 11:20:26   Result: 1
2017/02/04 11:20:26 Making system call LogonUserW with args: [11FA68E0 1210331C 11E8C900 2 0 12103340]
2017/02/04 11:20:26   Result: 1
2017/02/04 11:20:26 Making system call LoadUserProfileW with args: [5D4 11FA6920]
2017/02/04 11:20:26   Result: 1
2017/02/04 11:20:26 Making system call SwitchDesktop with args: [5E8]
2017/02/04 11:20:26   Result: 1
2017/02/04 11:20:26 Making system call SHSetKnownFolderPath with args: [B338C0 0 5D4 11E55040]
2017/02/04 11:20:26   Result: 0
2017/02/04 11:20:26 Making system call SHGetKnownFolderPath with args: [B338C0 8000 5D4 12103480]
2017/02/04 11:20:26   Result: 0
2017/02/04 11:20:26 Making system call CoTaskMemFree with args: [27C728]
2017/02/04 11:20:26   Result: 1
2017/02/04 11:20:26 Making system call SHSetKnownFolderPath with args: [B338B0 0 5D4 11E550E0]
2017/02/04 11:20:26   Result: 0
2017/02/04 11:20:26 Making system call SHGetKnownFolderPath with args: [B338B0 8000 5D4 12103570]
2017/02/04 11:20:26   Result: 0
2017/02/04 11:20:26 Making system call CoTaskMemFree with args: [2601F0]
2017/02/04 11:20:26   Result: 1
2017/02/04 11:20:26 Refreshing signed urls in 24m50.9022s
2017/02/04 11:20:26   Priority (1) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-mlfp6mmhc32ryq6uccyc7vq3-5/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A50%3A27Z&sp=p&spr=https&sig=KaUSjGeoH%2F97tJuqXYGqnzxfUOQGlJiTjR4it5ftEYk%3D&st=2017-02-04T11%3A05%3A27Z
2017/02/04 11:20:26   Priority (1) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-mlfp6mmhc32ryq6uccyc7vq3-5/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A50%3A27Z&sp=p&spr=https&sig=KaUSjGeoH%2F97tJuqXYGqnzxfUOQGlJiTjR4it5ftEYk%3D&st=2017-02-04T11%3A05%3A27Z
2017/02/04 11:20:26   Priority (2) Delete URL: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-mlfp6mmhc32ryq6uccyc7vq3-1/messages/{{messageId}}?popreceipt={{popReceipt}}&sv=2015-04-05&se=2017-02-04T11%3A50%3A27Z&sp=p&spr=https&sig=cXxA9bpKI2LEjBSO9R7NizKpbCep%2BkO8J0gBKgM16jM%3D&st=2017-02-04T11%3A05%3A27Z
2017/02/04 11:20:26   Priority (2) Poll URL:   https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-mlfp6mmhc32ryq6uccyc7vq3-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A50%3A27Z&sp=p&spr=https&sig=cXxA9bpKI2LEjBSO9R7NizKpbCep%2BkO8J0gBKgM16jM%3D&st=2017-02-04T11%3A05%3A27Z
2017/02/04 11:20:27 Task found
2017/02/04 11:20:27 Claiming task CK7e2-e9SSGcMZBnuiZSsg...
2017/02/04 11:20:27 Deleting task CK7e2-e9SSGcMZBnuiZSsg from Azure queue...
2017/02/04 11:20:27 Successfully deleted task from azure queue (delete url: https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-mlfp6mmhc32ryq6uccyc7vq3-1/messages/b76b1ae9-3bc2-4f11-9ad4-53e1d52aef6c?popreceipt=AgAAAAMAAAAAAAAAx56sYtl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A50%3A27Z&sp=p&spr=https&sig=cXxA9bpKI2LEjBSO9R7NizKpbCep%2BkO8J0gBKgM16jM%3D&st=2017-02-04T11%3A05%3A27Z) with http response code 204.
2017/02/04 11:20:27 Setting reclaim timer...
2017/02/04 11:20:27 Current claim will expire at 2017-02-04 11:40:28.203 +0000 UTC
2017/02/04 11:20:27 Reclaiming 3 mins earlier, at 2017-02-04 11:37:28.203 +0000 UTC
2017/02/04 11:20:27 Time to wait until then is 17m0.5372s
2017/02/04 11:20:27 This is more than 30 seconds away - so setting a timer
2017/02/04 11:20:27 JSON payload: {
      "artifacts": [
        {
          "expires": "2017-02-04T12:20:25.392Z",
          "path": "resolvetask.go",
          "type": "file"
        }
      ],
      "command": [
        "go run \"resolvetask.go\""
      ],
      "env": {
        "TASKCLUSTER_ACCESS_TOKEN": "3wftVVhISz1aPZxel_RfCFrlMFq2f679oAB0Emz1NGc",
        "TASKCLUSTER_CERTIFICATE": "{\"version\":1,\"scopes\":[\"queue:cancel-task:test-scheduler/O-5VAxZ3Rdi_isTZCkQaxQ/*\"],\"start\":1486206925392,\"expiry\":1486207285392,\"seed\":\"2KXHKA0qQ2655tY04TdvIwxfdrldnjSTOGa5CbPYuccw\",\"signature\":\"b1+jTWyMPbdfxWZ6B+6hmvyITebJ7P+Vzj+iIiqE2Q8=\",\"issuer\":\"project/taskcluster/generic-worker/taskcluster-ci\"}",
        "TASKCLUSTER_CLIENT_ID": "project/taskcluster:generic-worker-tester/TestResolveResolvedTask"
      },
      "features": {},
      "maxRunTime": 60
    }
2017/02/04 11:20:27 Running task https://tools.taskcluster.net/task-inspector/#CK7e2-e9SSGcMZBnuiZSsg/0
2017/02/04 11:20:27 Creating wrapper script: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207226\command_000000_wrapper.bat
2017/02/04 11:20:27 Deadline: 2017-02-04 11:21:27.6668 +0000 GMT
2017/02/04 11:20:27 Created command: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207226\command_000000_wrapper.bat
2017/02/04 11:20:27 Uploading artifact: public/logs/live.log
2017/02/04 11:20:28 Disk available: 84838912000 bytes
2017/02/04 11:20:28 Executing command 0: Z:\gopath\src\github.com\taskcluster\generic-worker\testdata\task_1486207226\command_000000_wrapper.bat
2017/02/04 11:20:28 Script "Z:\\gopath\\src\\github.com\\taskcluster\\generic-worker\\testdata\\task_1486207226\\command_000000.bat":
2017/02/04 11:20:28 Contents:
2017/02/04 11:20:28 @echo on
go run "resolvetask.go"
2017/02/04 11:20:28 Making system call VerSetConditionMask with args: [0 0 2 3]
2017/02/04 11:20:28   Result: 18
2017/02/04 11:20:28 Making system call VerSetConditionMask with args: [18 80000000 1 3]
2017/02/04 11:20:28   Result: 1B
2017/02/04 11:20:28 Making system call VerSetConditionMask with args: [1B 80000000 20 3]
2017/02/04 11:20:28   Result: 1801B
2017/02/04 11:20:28 Making system call VerSetConditionMask with args: [1801B 80000000 10 3]
2017/02/04 11:20:28   Result: 1B01B
2017/02/04 11:20:28 Making system call VerifyVersionInfoW with args: [11E0EC60 33 1B01B 80000000]
2017/02/04 11:20:28   Result: 0
2017/02/04 11:20:28 Making system call CreateEnvironmentBlock with args: [1201850C 5D4 0]
2017/02/04 11:20:28   Result: 1
2017/02/04 11:20:28 Making system call DestroyEnvironmentBlock with args: [28BEE8]
2017/02/04 11:20:28   Result: 1
2017/02/04 11:20:28 Making system call CreateProcessAsUserW with args: [5D4 0 11ED6A90 0 0 1 1000614 11D78400 11E55720 12082B40 12018550]
2017/02/04 11:20:28   Result: 1
time="2017-02-04T11:20:28Z" level=info msg="processInfo: 0x11e22520" 
2017/02/04 11:20:28 Making system call SetPriorityClass with args: [600 8000]
2017/02/04 11:20:28   Result: 1
2017/02/04 11:20:28 Making system call ResumeThread with args: [594]
2017/02/04 11:20:28   Result: 1
2017/02/04 11:20:28 Making system call GetProcessMemoryInfo with args: [600 11F9AED0 2C]
2017/02/04 11:20:28   Result: 1
2017/02/04 11:20:28 Making system call CloseHandle with args: [600]
2017/02/04 11:20:28   Result: 0
2017/02/04 11:20:28 Error when closing handle: The handle is invalid.
2017/02/04 11:20:28 Uploading artifact: resolvetask.go
2017/02/04 11:20:28 Redirecting live.log to live_backing.log
2017/02/04 11:20:28 Uploading artifact: public/logs/live.log
2017/02/04 11:20:29 Uploading artifact: public/logs/live_backing.log
2017/02/04 11:20:29 Request
2017/02/04 11:20:29 PUT /CK7e2-e9SSGcMZBnuiZSsg/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486209040&Signature=9FNHuevTtqFb2I9S55IOV65quaE%3D HTTP/1.1
Host: taskcluster-public-artifacts.s3-us-west-2.amazonaws.com
User-Agent: Go-http-client/1.1
Content-Length: 553
Content-Encoding: gzip
Content-Type: text/plain; charset=utf-8
Accept-Encoding: gzip

2017/02/04 11:20:29 1 put requests issued to https://taskcluster-public-artifacts.s3-us-west-2.amazonaws.com/CK7e2-e9SSGcMZBnuiZSsg/0/public/logs/live_backing.log?AWSAccessKeyId=AKIAJQESBGXODWDRTZUA&Content-Type=text%2Fplain%3B%20charset%3Dutf-8&Expires=1486209040&Signature=9FNHuevTtqFb2I9S55IOV65quaE%3D
2017/02/04 11:20:29 Response
2017/02/04 11:20:29 HTTP/1.1 200 OK
Content-Length: 0
Date: Sat, 04 Feb 2017 11:20:31 GMT
Etag: "c1c5f22d385a1bd10dcf15aa0ce7e6f0"
Server: AmazonS3
X-Amz-Id-2: nm2R5QPxv3JSqFGAJXyc5u6E7L9sAKrjZ+ms+JnUMAPXO8KETrVRHVU2u5BJoqEh0K8MA8LPPlk=
X-Amz-Request-Id: 98890046C8BEA089
X-Amz-Version-Id: s73orv0vZBLixksq4xaoWrtQvEmlV7ht

2017/02/04 11:20:29 Resolving task...
2017/02/04 11:20:29 Task Id:                 CK7e2-e9SSGcMZBnuiZSsg
Run Id:                  0
Run Id (Task Claim):     0
Message Id:              b76b1ae9-3bc2-4f11-9ad4-53e1d52aef6c
Insertion Time:          2017-02-04 11:20:26 +0000 GMT
Expiration Time:         2017-02-04 11:35:23 +0000 GMT
Dequeue Count:           1
Pop Receipt:             AgAAAAMAAAAAAAAAx56sYtl+0gE=
Time Next Visible:       2017-02-04 11:25:27 +0000 GMT
Message Text:            eyJ0YXNrSWQiOiJDSzdlMi1lOVNTR2NNWkJudWlaU3NnIiwicnVuSWQiOjAsImhpbnRJZCI6InRtRGRwU191U2JhVm9meVAtT0M2UUEifQ==
Run 0:
  Reason Created:        scheduled
  Reason Resolved:       failed
  Resolved:              2017-02-04T11:20:30.529Z
  Run Id:                0
  Scheduled:             2017-02-04T11:20:26.767Z
  Started:               2017-02-04T11:20:28.285Z
  State:                 failed
  Taken Until:           2017-02-04T11:40:28.203Z
  Worker Group:          test-worker-group
  Worker Id:             test-worker-id
==========================================
Status Deadline:         2017-02-04T11:35:25.000Z
Status Provisioner Id:   test-provisioner
Status Retries Left:     1
Status Scheduler Id:     test-scheduler
Status State:            failed
Status Task Group Id:    O-5VAxZ3Rdi_isTZCkQaxQ
Status Task Id:          CK7e2-e9SSGcMZBnuiZSsg
Status Worker Type:      RVvmz0mgQUCVwxg2OsnirQ
Taken Until:             2017-02-04T11:40:28.203Z
Worker Group:            test-worker-group
Worker Id:               test-worker-id
==========================================
Signed Poll URL:         https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-mlfp6mmhc32ryq6uccyc7vq3-1/messages?visibilitytimeout=300&sv=2015-04-05&se=2017-02-04T11%3A50%3A27Z&sp=p&spr=https&sig=cXxA9bpKI2LEjBSO9R7NizKpbCep%2BkO8J0gBKgM16jM%3D&st=2017-02-04T11%3A05%3A27Z
Signed Delete URL:       https://taskclusterqueuev1.queue.core.windows.net/queue-cnvdrxdarepvm5abnzfwx5ek-mlfp6mmhc32ryq6uccyc7vq3-1/messages/b76b1ae9-3bc2-4f11-9ad4-53e1d52aef6c?popreceipt=AgAAAAMAAAAAAAAAx56sYtl%2B0gE%3D&sv=2015-04-05&se=2017-02-04T11%3A50%3A27Z&sp=p&spr=https&sig=cXxA9bpKI2LEjBSO9R7NizKpbCep%2BkO8J0gBKgM16jM%3D&st=2017-02-04T11%3A05%3A27Z
==========================================
Created:                 2017-02-04T11:20:25.000Z
Deadline:                2017-02-04T11:35:25.000Z
Expires:                 2017-02-05T11:20:25.000Z
Extra:                   {}
Metadata:                {Test task [TC] TestUpload pmoore@mozilla.com https://github.com/taskcluster/generic-worker/blob/master/artifacts_test.go}
Payload:                 {
      "artifacts": [
        {
          "expires": "2017-02-04T12:20:25.392Z",
          "path": "resolvetask.go",
          "type": "file"
        }
      ],
      "command": [
        "go run \"resolvetask.go\""
      ],
      "env": {
        "TASKCLUSTER_ACCESS_TOKEN": "3wftVVhISz1aPZxel_RfCFrlMFq2f679oAB0Emz1NGc",
        "TASKCLUSTER_CERTIFICATE": "{\"version\":1,\"scopes\":[\"queue:cancel-task:test-scheduler/O-5VAxZ3Rdi_isTZCkQaxQ/*\"],\"start\":1486206925392,\"expiry\":1486207285392,\"seed\":\"2KXHKA0qQ2655tY04TdvIwxfdrldnjSTOGa5CbPYuccw\",\"signature\":\"b1+jTWyMPbdfxWZ6B+6hmvyITebJ7P+Vzj+iIiqE2Q8=\",\"issuer\":\"project/taskcluster/generic-worker/taskcluster-ci\"}",
        "TASKCLUSTER_CLIENT_ID": "project/taskcluster:generic-worker-tester/TestResolveResolvedTask"
      },
      "features": {},
      "maxRunTime": 60
    }
Provisioner Id:          test-provisioner
Retries:                 1
Routes:                  []string{}
SchedulerId:             test-scheduler
Scopes:                  []string{}
Tags:                    {
      "createdForUser": "pmoore@mozilla.com"
    }
Task Group Id:           O-5VAxZ3Rdi_isTZCkQaxQ
Worker Type:             RVvmz0mgQUCVwxg2OsnirQ
==========================================
Artifacts:               [{2017-02-04T12:20:25.392Z resolvetask.go file}]
Command:                 []string{"go run \"resolvetask.go\""}
Env:                     json.RawMessage{0x7b, 0xa, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x22, 0x54, 0x41, 0x53, 0x4b, 0x43, 0x4c, 0x55, 0x53, 0x54, 0x45, 0x52, 0x5f, 0x41, 0x43, 0x43, 0x45, 0x53, 0x53, 0x5f, 0x54, 0x4f, 0x4b, 0x45, 0x4e, 0x22, 0x3a, 0x20, 0x22, 0x33, 0x77, 0x66, 0x74, 0x56, 0x56, 0x68, 0x49, 0x53, 0x7a, 0x31, 0x61, 0x50, 0x5a, 0x78, 0x65, 0x6c, 0x5f, 0x52, 0x66, 0x43, 0x46, 0x72, 0x6c, 0x4d, 0x46, 0x71, 0x32, 0x66, 0x36, 0x37, 0x39, 0x6f, 0x41, 0x42, 0x30, 0x45, 0x6d, 0x7a, 0x31, 0x4e, 0x47, 0x63, 0x22, 0x2c, 0xa, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x22, 0x54, 0x41, 0x53, 0x4b, 0x43, 0x4c, 0x55, 0x53, 0x54, 0x45, 0x52, 0x5f, 0x43, 0x45, 0x52, 0x54, 0x49, 0x46, 0x49, 0x43, 0x41, 0x54, 0x45, 0x22, 0x3a, 0x20, 0x22, 0x7b, 0x5c, 0x22, 0x76, 0x65, 0x72, 0x73, 0x69, 0x6f, 0x6e, 0x5c, 0x22, 0x3a, 0x31, 0x2c, 0x5c, 0x22, 0x73, 0x63, 0x6f, 0x70, 0x65, 0x73, 0x5c, 0x22, 0x3a, 0x5b, 0x5c, 0x22, 0x71, 0x75, 0x65, 0x75, 0x65, 0x3a, 0x63, 0x61, 0x6e, 0x63, 0x65, 0x6c, 0x2d, 0x74, 0x61, 0x73, 0x6b, 0x3a, 0x74, 0x65, 0x73, 0x74, 0x2d, 0x73, 0x63, 0x68, 0x65, 0x64, 0x75, 0x6c, 0x65, 0x72, 0x2f, 0x4f, 0x2d, 0x35, 0x56, 0x41, 0x78, 0x5a, 0x33, 0x52, 0x64, 0x69, 0x5f, 0x69, 0x73, 0x54, 0x5a, 0x43, 0x6b, 0x51, 0x61, 0x78, 0x51, 0x2f, 0x2a, 0x5c, 0x22, 0x5d, 0x2c, 0x5c, 0x22, 0x73, 0x74, 0x61, 0x72, 0x74, 0x5c, 0x22, 0x3a, 0x31, 0x34, 0x38, 0x36, 0x32, 0x30, 0x36, 0x39, 0x32, 0x35, 0x33, 0x39, 0x32, 0x2c, 0x5c, 0x22, 0x65, 0x78, 0x70, 0x69, 0x72, 0x79, 0x5c, 0x22, 0x3a, 0x31, 0x34, 0x38, 0x36, 0x32, 0x30, 0x37, 0x32, 0x38, 0x35, 0x33, 0x39, 0x32, 0x2c, 0x5c, 0x22, 0x73, 0x65, 0x65, 0x64, 0x5c, 0x22, 0x3a, 0x5c, 0x22, 0x32, 0x4b, 0x58, 0x48, 0x4b, 0x41, 0x30, 0x71, 0x51, 0x32, 0x36, 0x35, 0x35, 0x74, 0x59, 0x30, 0x34, 0x54, 0x64, 0x76, 0x49, 0x77, 0x78, 0x66, 0x64, 0x72, 0x6c, 0x64, 0x6e, 0x6a, 0x53, 0x54, 0x4f, 0x47, 0x61, 0x35, 0x43, 0x62, 0x50, 0x59, 0x75, 0x63, 0x63, 0x77, 0x5c, 0x22, 0x2c, 0x5c, 0x22, 0x73, 0x69, 0x67, 0x6e, 0x61, 0x74, 0x75, 0x72, 0x65, 0x5c, 0x22, 0x3a, 0x5c, 0x22, 0x62, 0x31, 0x2b, 0x6a, 0x54, 0x57, 0x79, 0x4d, 0x50, 0x62, 0x64, 0x66, 0x78, 0x57, 0x5a, 0x36, 0x42, 0x2b, 0x36, 0x68, 0x6d, 0x76, 0x79, 0x49, 0x54, 0x65, 0x62, 0x4a, 0x37, 0x50, 0x2b, 0x56, 0x7a, 0x6a, 0x2b, 0x69, 0x49, 0x69, 0x71, 0x45, 0x32, 0x51, 0x38, 0x3d, 0x5c, 0x22, 0x2c, 0x5c, 0x22, 0x69, 0x73, 0x73, 0x75, 0x65, 0x72, 0x5c, 0x22, 0x3a, 0x5c, 0x22, 0x70, 0x72, 0x6f, 0x6a, 0x65, 0x63, 0x74, 0x2f, 0x74, 0x61, 0x73, 0x6b, 0x63, 0x6c, 0x75, 0x73, 0x74, 0x65, 0x72, 0x2f, 0x67, 0x65, 0x6e, 0x65, 0x72, 0x69, 0x63, 0x2d, 0x77, 0x6f, 0x72, 0x6b, 0x65, 0x72, 0x2f, 0x74, 0x61, 0x73, 0x6b, 0x63, 0x6c, 0x75, 0x73, 0x74, 0x65, 0x72, 0x2d, 0x63, 0x69, 0x5c, 0x22, 0x7d, 0x22, 0x2c, 0xa, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x22, 0x54, 0x41, 0x53, 0x4b, 0x43, 0x4c, 0x55, 0x53, 0x54, 0x45, 0x52, 0x5f, 0x43, 0x4c, 0x49, 0x45, 0x4e, 0x54, 0x5f, 0x49, 0x44, 0x22, 0x3a, 0x20, 0x22, 0x70, 0x72, 0x6f, 0x6a, 0x65, 0x63, 0x74, 0x2f, 0x74, 0x61, 0x73, 0x6b, 0x63, 0x6c, 0x75, 0x73, 0x74, 0x65, 0x72, 0x3a, 0x67, 0x65, 0x6e, 0x65, 0x72, 0x69, 0x63, 0x2d, 0x77, 0x6f, 0x72, 0x6b, 0x65, 0x72, 0x2d, 0x74, 0x65, 0x73, 0x74, 0x65, 0x72, 0x2f, 0x54, 0x65, 0x73, 0x74, 0x52, 0x65, 0x73, 0x6f, 0x6c, 0x76, 0x65, 0x52, 0x65, 0x73, 0x6f, 0x6c, 0x76, 0x65, 0x64, 0x54, 0x61, 0x73, 0x6b, 0x22, 0xa, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x7d}
Max Run Time:            60
==========================================
2017/02/04 11:20:29 ERROR encountered: Task not successful due to following exception(s):
Exception 1)
[]

Exit code: 3221225794
2017/02/04 11:20:29 Making system call SwitchDesktop with args: [5E8]
2017/02/04 11:20:29   Result: 1
2017/02/04 11:20:29 Making system call CloseDesktop with args: [30]
2017/02/04 11:20:29   Result: 0
2017/02/04 11:20:29 Error cleaning up after task!
Could not create new task user because previous task user's desktop could not be closed:
CloseDesktop: The requested resource is in use.
--- PASS: TestResolveResolvedTask (4.49s)
=== RUN   TestRunAfterUserCreation
2017/02/04 11:20:29 Creating Windows User task_1486207229...
2017/02/04 11:20:29 Running command: 'net' 'user' 'task_1486207229' 'pWd0_SuEXAUtgh5RSZ5wPXW99fogp' '/add' '/expires:never' '/passwordchg:no' '/y'
2017/02/04 11:20:29 Created new task user!
2017/02/04 11:20:29 Running command: 'wmic' 'useraccount' 'where' 'name='task_1486207229'' 'set' 'passwordexpires=false'
Updating property(s) of '\\I-02A561117A676\ROOT\CIMV2:Win32_UserAccount.Domain="I-02A561117A676",Name="task_1486207229"'
Property(s) update successful.
2017/02/04 11:20:29 Running command: 'net' 'localgroup' 'Remote Desktop Users' '/add' 'task_1486207229'
2017/02/04 11:20:29 Making system call UnloadUserProfile with args: [5D4 5EC]
The command completed successfully.

2017/02/04 11:20:30   Result: 1
2017/02/04 11:20:30 Making system call CloseHandle with args: [5D4]
2017/02/04 11:20:30   Result: 0
2017/02/04 11:20:30 Error when closing handle: The handle is invalid.
2017/02/04 11:20:30 Making system call GetProcessWindowStation with args: []
2017/02/04 11:20:30   Result: 2C
2017/02/04 11:20:30 Making system call GetCurrentThreadId with args: []
2017/02/04 11:20:30   Result: A40
2017/02/04 11:20:30 Making system call GetThreadDesktop with args: [A40]
2017/02/04 11:20:30   Result: 30
2017/02/04 11:20:30 Making system call GetUserObjectInformationW with args: [30 2 11EE8000 200 121020AC]
2017/02/04 11:20:30   Result: 1
2017/02/04 11:20:30 Making system call GetUserObjectInformationW with args: [2C 2 11EE8400 200 1210214C]
2017/02/04 11:20:30   Result: 1
2017/02/04 11:20:30 Making system call GetCurrentThreadId with args: []
2017/02/04 11:20:30   Result: A40
2017/02/04 11:20:30 Making system call CreateDesktopW with args: [12102230 0 0 0 10000000 12102250]
2017/02/04 11:20:30   Result: 0
--- FAIL: TestRunAfterUserCreation (0.14s)
panic: CreateDesktop: Access is denied. [recovered]
	panic: CreateDesktop: Access is denied.

goroutine 406 [running]:
panic(0x8be9c0, 0x121022c0)
	Z:/go/src/runtime/panic.go:500 +0x331
testing.tRunner.func1(0x1209d280)
	Z:/go/src/testing/testing.go:579 +0x14f
panic(0x8be9c0, 0x121022c0)
	Z:/go/src/runtime/panic.go:458 +0x40b
github.com/taskcluster/generic-worker.prepareTaskUser(0x11f793a0, 0xf)
	Z:/gopath/src/github.com/taskcluster/generic-worker/plat_windows.go:99 +0x14d
github.com/taskcluster/generic-worker.PrepareTaskEnvironment()
	Z:/gopath/src/github.com/taskcluster/generic-worker/main.go:1231 +0x18b
github.com/taskcluster/generic-worker.TestRunAfterUserCreation(0x1209d280)
	Z:/gopath/src/github.com/taskcluster/generic-worker/user_creation_windows_test.go:15 +0x19c
testing.tRunner(0x1209d280, 0x98ad80)
	Z:/go/src/testing/testing.go:610 +0x8c
created by testing.(*T).Run
	Z:/go/src/testing/testing.go:646 +0x2a5
exit status 2
FAIL	github.com/taskcluster/generic-worker	54.065s
[taskcluster 2017-02-04T11:20:30.052Z]   Exit Code: 1
[taskcluster 2017-02-04T11:20:30.053Z]   User Time: 15.6001ms
[taskcluster 2017-02-04T11:20:30.053Z] Kernel Time: 15.6001ms
[taskcluster 2017-02-04T11:20:30.053Z]   Wall Time: 55.928s
[taskcluster 2017-02-04T11:20:30.053Z] Peak Memory: 2494464
[taskcluster 2017-02-04T11:20:30.053Z]      Result: FAILED
[taskcluster 2017-02-04T11:20:30.053Z] === Task Finished ===
[taskcluster 2017-02-04T11:20:30.053Z] Task Duration: 3m35.564s
